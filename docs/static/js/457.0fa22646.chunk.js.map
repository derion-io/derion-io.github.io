{"version":3,"file":"static/js/457.0fa22646.chunk.js","mappings":"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","sources":["../node_modules/derivable-tools/src/engine.ts","../node_modules/derivable-tools/src/services/balanceAndAllowance.ts","../node_modules/derivable-tools/src/services/createPool.ts","../node_modules/derivable-tools/src/services/currentPool.ts","../node_modules/derivable-tools/src/services/history.ts","../node_modules/derivable-tools/src/services/price.ts","../node_modules/derivable-tools/src/services/resource.ts","../node_modules/derivable-tools/src/services/setConfig.ts","../node_modules/derivable-tools/src/services/swap.ts","../node_modules/derivable-tools/src/services/uniV2Pair.ts","../node_modules/derivable-tools/src/services/uniV3Pair.ts","../node_modules/derivable-tools/src/utils/configs.ts","../node_modules/derivable-tools/src/utils/constant.ts","../node_modules/derivable-tools/src/utils/helper.ts","../node_modules/pool-comp/src/state/customWeb3React/reducer.ts","../node_modules/pool-comp/src/state/customWeb3React/type.tsx","../node_modules/pool-comp/src/state/config/reducer.ts","../node_modules/pool-comp/src/state/config/type.tsx","../node_modules/pool-comp/src/state/currentPool/type.tsx","../node_modules/pool-comp/src/state/currentPool/reducer.ts","../node_modules/pool-comp/src/state/wallet/type.tsx","../node_modules/pool-comp/src/state/wallet/reducer.ts","../node_modules/pool-comp/src/state/token/reducer.ts","../node_modules/pool-comp/src/state/token/type.tsx","../node_modules/pool-comp/src/state/pools/type.tsx","../node_modules/pool-comp/src/state/pools/reducer.ts","../node_modules/pool-comp/src/state/index.ts","../node_modules/pool-comp/src/state/customWeb3React/hook.ts","../node_modules/pool-comp/src/state/config/configs.ts","../node_modules/pool-comp/src/utils/constant.ts","../node_modules/pool-comp/src/state/config/useConfigs.ts","../node_modules/pool-comp/src/InitConfig.tsx","../node_modules/pool-comp/src/state/config/useInitConfig.ts","../node_modules/pool-comp/src/state/token/hook.ts","../node_modules/pool-comp/node_modules/babel-plugin-transform-async-to-promises/helpers.js","../node_modules/pool-comp/src/utils/helpers.ts","../node_modules/pool-comp/node_modules/@ethersproject/bignumber/node_modules/bn.js/lib/bn.js","../node_modules/pool-comp/node_modules/@ethersproject/logger/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/logger/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/bytes/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/bytes/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/bignumber/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js","../node_modules/pool-comp/node_modules/@ethersproject/properties/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/properties/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/abstract-provider/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/abstract-provider/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/networks/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/networks/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/base64/lib.esm/base64.js","../node_modules/pool-comp/node_modules/@ethersproject/basex/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/constants/lib.esm/bignumbers.js","../node_modules/pool-comp/node_modules/js-sha3/src/sha3.js","../node_modules/pool-comp/node_modules/@ethersproject/keccak256/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/strings/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/strings/lib.esm/utf8.js","../node_modules/pool-comp/node_modules/@ethersproject/hash/lib.esm/id.js","../node_modules/pool-comp/node_modules/@ethersproject/hash/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/hash/lib.esm/ens-normalize/decoder.js","../node_modules/pool-comp/node_modules/@ethersproject/hash/lib.esm/ens-normalize/lib.js","../node_modules/pool-comp/node_modules/@ethersproject/hash/lib.esm/ens-normalize/include.js","../node_modules/pool-comp/node_modules/@ethersproject/hash/lib.esm/namehash.js","../node_modules/pool-comp/node_modules/@ethersproject/rlp/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/rlp/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/address/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/address/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/hash/lib.esm/typed-data.js","../node_modules/pool-comp/node_modules/minimalistic-assert/index.js","../node_modules/pool-comp/node_modules/inherits/inherits_browser.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/utils.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/common.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/sha/common.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/sha/1.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/sha/256.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/sha/224.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/sha/512.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/sha/384.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/sha.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/ripemd.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash/hmac.js","../node_modules/pool-comp/node_modules/hash.js/lib/hash.js","../node_modules/pool-comp/node_modules/@ethersproject/sha2/lib.esm/sha2.js","../node_modules/pool-comp/node_modules/@ethersproject/sha2/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/web/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/web/lib.esm/geturl.js","../node_modules/pool-comp/node_modules/@ethersproject/web/lib.esm/index.js","../node_modules/pool-comp/node_modules/bech32/index.js","../node_modules/pool-comp/node_modules/@ethersproject/providers/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/signing-key/node_modules/bn.js/lib/bn.js","../node_modules/pool-comp/node_modules/@ethersproject/signing-key/lib.esm/elliptic.js","../node_modules/pool-comp/node_modules/@ethersproject/signing-key/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/signing-key/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/transactions/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/transactions/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/providers/lib.esm/formatter.js","../node_modules/pool-comp/node_modules/@ethersproject/constants/lib.esm/addresses.js","../node_modules/pool-comp/node_modules/@ethersproject/providers/lib.esm/base-provider.js","../node_modules/pool-comp/node_modules/@ethersproject/constants/lib.esm/hashes.js","../node_modules/pool-comp/node_modules/@ethersproject/abstract-signer/lib.esm/index.js","../node_modules/pool-comp/node_modules/@ethersproject/abstract-signer/lib.esm/_version.js","../node_modules/pool-comp/node_modules/@ethersproject/providers/lib.esm/json-rpc-provider.js","../node_modules/pool-comp/src/hooks/useContract.ts","../node_modules/pool-comp/src/state/pools/hooks/useListPool.ts","../node_modules/pool-comp/src/state/wallet/hooks/useSwapHistory.ts","../node_modules/pool-comp/src/state/currentPool/hooks/useCurrentPool.ts","../node_modules/pool-comp/src/state/wallet/hooks/useBalances.ts","../node_modules/pool-comp/src/Components/MessageAndViewOnBsc/index.tsx","../node_modules/pool-comp/src/Components/ui/Card/index.tsx","../node_modules/pool-comp/src/Components/ui/Icon/index.tsx","../node_modules/pool-comp/src/Components/ui/Button/index.tsx","../node_modules/pool-comp/src/Components/ui/Text/index.tsx","../node_modules/pool-comp/src/Components/ui/Input/index.tsx","../node_modules/pool-comp/src/Components/ui/SkeletonLoader/index.tsx","../node_modules/pool-comp/src/state/config/useHelper.ts","../node_modules/pool-comp/src/Components/ui/TokenIcon/index.tsx","../node_modules/pool-comp/src/Components/ui/TokenSymbol/index.tsx","../node_modules/pool-comp/src/utils/formatBalance.ts","../node_modules/pool-comp/src/Components/ui/Box/index.tsx","../node_modules/pool-comp/src/Components/TxFee.tsx","../node_modules/pool-comp/src/hooks/useTokenPrice.ts","../node_modules/pool-comp/src/hooks/useTokenValue.ts","../node_modules/pool-comp/src/state/pools/hooks/useTokenPrice.ts","../node_modules/pool-comp/src/hooks/useGenerateLeverageData.ts","../node_modules/pool-comp/src/Components/PoolCreateInfo/index.tsx","../node_modules/pool-comp/src/Components/ui/Modal/index.tsx","../node_modules/pool-comp/src/Components/SelectTokenModal/index.tsx","../node_modules/pool-comp/src/Components/OracleConfigBox/index.tsx","../node_modules/pool-comp/src/Components/ChangeableConfigBox/index.tsx","../node_modules/pool-comp/src/pages/CreatePool/index.tsx","../node_modules/pool-comp/src/Components/App/index.tsx","../node_modules/pool-comp/src/component.tsx","../node_modules/pool-comp/node_modules/react-toastify/src/utils/propValidator.ts","../node_modules/pool-comp/node_modules/react-toastify/src/utils/constant.ts","../node_modules/pool-comp/node_modules/react-toastify/src/utils/collapseToast.ts","../node_modules/pool-comp/node_modules/react-toastify/src/utils/cssTransition.tsx","../node_modules/pool-comp/node_modules/react-toastify/src/core/eventManager.ts","../node_modules/pool-comp/node_modules/react-toastify/src/hooks/useToastContainer.ts","../node_modules/pool-comp/node_modules/react-toastify/src/hooks/useToast.ts","../node_modules/pool-comp/node_modules/react-toastify/src/components/CloseButton.tsx","../node_modules/pool-comp/node_modules/react-toastify/src/components/ProgressBar.tsx","../node_modules/pool-comp/node_modules/react-toastify/src/components/Icons.tsx","../node_modules/pool-comp/node_modules/react-toastify/src/components/Toast.tsx","../node_modules/pool-comp/node_modules/react-toastify/src/components/Transitions.tsx","../node_modules/pool-comp/node_modules/react-toastify/src/components/ToastContainer.tsx","../node_modules/pool-comp/node_modules/react-toastify/src/core/toast.tsx","webpack://derivable-interface/./node_modules/pool-comp/node_modules/react-toastify/dist/ReactToastify.css?c00b"],"sourcesContent":["import { PoolsType, Storage, SwapLog, TokenType } from './types'\nimport { ethers } from 'ethers'\nimport { Price } from './services/price'\nimport { Resource } from './services/resource'\nimport { BnA } from './services/balanceAndAllowance'\nimport { UniV2Pair } from './services/uniV2Pair'\nimport { History } from './services/history'\nimport { Swap } from './services/swap'\nimport { CurrentPool, PoolData } from './services/currentPool'\nimport { CreatePool } from './services/createPool'\nimport { JsonRpcProvider } from '@ethersproject/providers'\nimport { UniV3Pair } from './services/uniV3Pair'\nimport { ConfigType, Derivable } from './services/setConfig'\nimport { DEFAULT_CHAIN, DEFAULT_CONFIG } from './utils/configs'\nimport { DeepPartial } from './types/utils'\n\n// type ConfigType = {\n//   chainId: number\n//   scanApi: string\n//   rpcUrl: string\n//   signer?: ethers.providers.JsonRpcSigner\n//   provider: ethers.providers.Provider\n//   providerToGetLog: ethers.providers.Provider\n//   account?: string\n//   storage?: Storage\n// }\n\nexport class Engine {\n  chainId: number\n  scanApi?: string\n  rpcUrl: string\n  account?: string\n  signer?: ethers.providers.JsonRpcSigner\n  provider: ethers.providers.Provider\n  providerToGetLog: ethers.providers.Provider\n  overrideProvider: JsonRpcProvider\n  storage?: Storage\n  PRICE: Price\n  RESOURCE: Resource\n  BNA: BnA\n  UNIV2PAIR: UniV2Pair\n  UNIV3PAIR: UniV3Pair\n  HISTORY: History\n  SWAP: Swap\n  CURRENT_POOL: CurrentPool\n  currentPoolAddress: string\n  CREATE_POOL: CreatePool\n  config: ConfigType\n\n  constructor(\n    account: string,\n    config: DeepPartial<ConfigType>,\n    chainIdProp = DEFAULT_CHAIN,\n  ) {\n    this.config = Derivable.loadConfig(account, config, chainIdProp)\n    this.chainId = this.config.chainId\n    this.scanApi = this.config.scanApi\n    this.rpcUrl = this.config.rpcUrl\n    this.storage = this.config.storage\n    this.overrideProvider = this.config.overrideProvider\n    this.provider = this.config.provider\n    this.account = account\n    this.signer = this.config.signer\n    this.providerToGetLog = this.config.providerToGetLog\n    this.initServices()\n  }\n\n  initServices() {\n    this.UNIV2PAIR = new UniV2Pair(this.config)\n    this.UNIV3PAIR = new UniV3Pair(this.config)\n    this.BNA = new BnA(this.config)\n    this.RESOURCE = new Resource(this.config)\n    this.PRICE = new Price(this.config)\n    this.CURRENT_POOL = new CurrentPool(this.config)\n    this.HISTORY = new History({\n      ...this.config,\n      CURRENT_POOL: this.CURRENT_POOL,\n    })\n    this.SWAP = new Swap({\n      ...this.config,\n      CURRENT_POOL: this.CURRENT_POOL,\n    })\n    this.CREATE_POOL = new CreatePool(this.config)\n  }\n\n  setCurrentPool(poolData: any) {\n    this.CURRENT_POOL.initCurrentPoolData(poolData)\n  }\n}\n","import { bn, getErc1155Token, getNormalAddress, packId } from '../utils/helper'\nimport { ethers } from 'ethers'\nimport { Multicall } from 'ethereum-multicall'\nimport { LARGE_VALUE } from '../utils/constant'\nimport BnAAbi from '../abi/BnA.json'\nimport TokenAbi from '../abi/Token.json'\nimport PoolAbi from '../abi/Pool.json'\nimport { AllowancesType, BalancesType } from '../types'\nimport { ConfigType } from './setConfig'\nimport { DerivableContractAddress } from '../utils/configs'\n\ntype BnAReturnType = { balances: BalancesType; allowances: AllowancesType }\n\n// type ConfigType = {\n//   chainId: number\n//   account?: string\n//   provider: ethers.providers.Provider\n// }\n\nexport class BnA {\n  chainId: number\n  account?: string\n  provider: ethers.providers.Provider\n  contractAddresses: Partial<DerivableContractAddress>\n  constructor(config: ConfigType) {\n    this.chainId = config.chainId\n    this.account = config.account\n    this.provider = config.provider\n    this.contractAddresses = config.addresses\n  }\n\n  async getBalanceAndAllowance({ tokens }: any): Promise<BnAReturnType> {\n    if (this.account) {\n      const multicall = new Multicall({\n        multicallCustomContractAddress: this.contractAddresses.multiCall,\n        ethersProvider: this.provider,\n        tryAggregate: true,\n      })\n      const erc20Tokens = getNormalAddress(tokens)\n      const erc1155Tokens = getErc1155Token(tokens)\n      const multiCallRequest = this.getBnAMulticallRequest({\n        erc20Tokens,\n        erc1155Tokens,\n      })\n      const { results } = await multicall.call(multiCallRequest)\n\n      return this.parseBnAMultiRes(erc20Tokens, erc1155Tokens, results)\n    }\n    return { balances: {}, allowances: {} }\n  }\n\n  getBnAMulticallRequest({\n    erc20Tokens,\n    erc1155Tokens,\n  }: {\n    erc20Tokens: string[]\n    erc1155Tokens: { [key: string]: string[] }\n  }) {\n    const pack = []\n    const accounts = []\n    for (const poolAddress in erc1155Tokens) {\n      for (let side of erc1155Tokens[poolAddress]) {\n        pack.push(packId(side, poolAddress))\n        accounts.push(this.account)\n      }\n    }\n\n    const request: any = [\n      {\n        reference: 'erc20',\n        contractAddress: this.contractAddresses.bnA,\n        abi: BnAAbi,\n        calls: [\n          {\n            reference: 'bna',\n            methodName: 'getBnA',\n            methodParameters: [\n              erc20Tokens,\n              [this.account],\n              [this.contractAddresses.router],\n            ],\n          },\n        ],\n      },\n      {\n        reference: 'erc1155',\n        contractAddress: this.contractAddresses.token,\n        abi: TokenAbi,\n        calls: [\n          {\n            reference: 'balanceOfBatch',\n            methodName: 'balanceOfBatch',\n            methodParameters: [accounts, pack],\n          },\n          {\n            reference: 'isApprovedForAll',\n            methodName: 'isApprovedForAll',\n            methodParameters: [this.account, this.contractAddresses.router],\n          },\n        ],\n      },\n    ]\n\n    return request\n  }\n\n  parseBnAMultiRes(\n    erc20Address: any,\n    erc1155Tokens: any,\n    data: any,\n  ): BnAReturnType {\n    const balances: BalancesType = {}\n    const allowances: AllowancesType = {}\n    const erc20Info = data.erc20.callsReturnContext[0].returnValues[0]\n    for (let i = 0; i < erc20Address.length; i++) {\n      const address = erc20Address[i]\n      balances[address] = bn(erc20Info[i * 2])\n      allowances[address] = bn(erc20Info[i * 2 + 1])\n    }\n\n    const erc1155BalanceInfo = data.erc1155.callsReturnContext[0].returnValues\n    const erc1155ApproveInfo =\n      data.erc1155.callsReturnContext[1].returnValues[0]\n\n    let index = 0\n    for (let poolAddress in erc1155Tokens) {\n      for (let i = 0; i < erc1155Tokens[poolAddress].length; i++) {\n        allowances[\n          poolAddress + '-' + erc1155Tokens[poolAddress][i].toString()\n        ] = erc1155ApproveInfo ? bn(LARGE_VALUE) : bn(0)\n        balances[poolAddress + '-' + erc1155Tokens[poolAddress][i].toString()] =\n          bn(erc1155BalanceInfo[index].hex)\n        index++\n      }\n    }\n\n    return {\n      balances,\n      allowances,\n    }\n  }\n}\n","import { BigNumber, ethers } from 'ethers'\nimport { bn } from '../utils/helper'\nimport { UniV2Pair } from './uniV2Pair'\nimport { JsonRpcProvider } from '@ethersproject/providers'\nimport { PoolConfig } from '../types'\nimport HelperAbi from '../abi/Helper.json'\nimport { ConfigType } from './setConfig'\nimport { DerivableContractAddress } from '../utils/configs'\n\n// type ConfigType = {\n//   account?: string\n//   chainId: number\n//   scanApi: string\n//   provider: ethers.providers.Provider\n//   overrideProvider: JsonRpcProvider\n//   signer?: ethers.providers.JsonRpcSigner\n//   UNIV2PAIR: UniV2Pair\n// }\n\nexport class CreatePool {\n  account?: string\n  chainId: number\n  scanApi?: string\n  provider: ethers.providers.Provider\n  overrideProvider: JsonRpcProvider\n  signer?: ethers.providers.JsonRpcSigner\n  UNIV2PAIR: UniV2Pair\n  contractAddresses: Partial<DerivableContractAddress>\n  constructor(config: ConfigType) {\n    this.account = config.account\n    this.chainId = config.chainId\n    this.scanApi = config.scanApi\n    this.provider = config.provider\n    this.overrideProvider = config.overrideProvider\n    this.signer = config.signer\n    this.contractAddresses = config.addresses\n  }\n\n  async callStaticCreatePool({ params, value, gasLimit }: any) {\n    const helper = this.getStateCalHelperContract(this.signer)\n    return await helper.callStatic.createPool(\n      params,\n      this.contractAddresses.poolFactory,\n      { value: value || bn(0), gasLimit: gasLimit || undefined },\n    )\n  }\n\n  async createPool(params: PoolConfig, gasLimit?: BigNumber) {\n    try {\n      const newPoolConfigs = this.generateConfig(\n        params.k,\n        params.a,\n        params.b,\n        params.mark,\n        params.recipient,\n        params.oracle,\n        params.initTime,\n        params.halfLife,\n      )\n      await this.callStaticCreatePool({\n        params: newPoolConfigs,\n        value: params.amountInit,\n        gasLimit,\n      })\n      const helper = this.getStateCalHelperContract(this.signer)\n      const res = await helper.createPool(\n        newPoolConfigs,\n        this.contractAddresses.poolFactory,\n        {\n          value: params.amountInit,\n          gasLimit: gasLimit || undefined,\n        },\n      )\n      const tx = await res.wait(1)\n      console.log('tx', tx)\n      return true\n    } catch (e) {\n      throw e\n    }\n  }\n\n  generateConfig(\n    k: number,\n    a: BigNumber,\n    b: BigNumber,\n    mark: BigNumber,\n    recipient: string,\n    oracle: string,\n    initTime: number,\n    halfLife: number,\n  ) {\n    return {\n      utr: this.contractAddresses.router,\n      token: this.contractAddresses.token,\n      logic: this.contractAddresses.logic,\n      oracle,\n      reserveToken: this.contractAddresses.wrapToken,\n      recipient,\n      mark,\n      k,\n      a,\n      b,\n      initTime,\n      halfLife,\n    }\n  }\n\n  getStateCalHelperContract(provider?: any) {\n    return new ethers.Contract(\n      this.contractAddresses.stateCalHelper as string,\n      HelperAbi,\n      provider || this.provider,\n    )\n  }\n}\n","import { Resource } from './resource'\nimport { bn } from '../utils/helper'\nimport { POOL_IDS } from '../utils/constant'\nimport { BigNumber } from 'ethers'\nimport { ConfigType } from './setConfig'\nimport { PoolType } from '../types'\n\n// type ConfigType = {\n//   resource: Resource\n//   poolAddress: string\n//   chainId: number\n// }\nexport type PoolData = {\n  baseToken: string\n  quoteToken: string\n  cToken: string\n  dTokens: string[]\n  cTokenPrice: number\n  states: any\n  powers: number[]\n  basePrice: string\n  poolAddress: string\n  baseId: number\n  quoteId: number\n  logic: string\n}\n\nexport class CurrentPool {\n  resource: Resource\n  pools: { [key: string]: PoolType }\n  baseToken: string\n  quoteToken: string\n  cToken: string\n  TOKEN: string\n  dTokens: string[]\n  logicAddress?: string\n  cTokenPrice: number\n  states: any\n  powers: number[]\n  basePrice: string\n  poolAddress?: string\n  baseId: number\n  quoteId: number\n  chainId: number\n  config: ConfigType\n  constructor(config: ConfigType) {\n    this.config = config\n    this.resource = new Resource(config)\n    this.poolAddress = config.poolAddress\n    this.chainId = config.chainId\n    // this.loadState(configs.poolAddress)\n  }\n\n  setPoolAddress(address: string) {\n    this.poolAddress = address\n    // this.loadState(address)\n  }\n\n  // loadState(poolAddress: string) {\n  //   if (poolAddress && !this.resource.pools[poolAddress]) {\n  //     this.resource.fetchResourceData('')\n  //   } else if (poolAddress && this.resource.pools[poolAddress]) {\n  //     this.initCurrentPoolData(poolAddress)\n  //   }\n  // }\n\n  initCurrentPoolData(poolData: PoolData) {\n    for (let i in poolData) {\n      this[i] = poolData[i]\n    }\n    // this.poolAddress = poolData.poolAddress;\n    // this.baseToken = poolData.baseToken;\n    // this.quoteToken = poolData.quoteToken;\n    // this.cToken = poolData.cToken;\n    // this.dTokens = poolData.dTokens;\n    // this.logicAddress = poolData.logic;\n    // this.cTokenPrice = poolData.cTokenPrice;\n    // this.states = poolData.states;\n    // this.powers = poolData.powers;\n    // this.basePrice = poolData.basePrice;\n    // this.baseId = poolData.baseId;\n    // this.quoteId = poolData.quoteId;\n  }\n\n  getTokenByPower(power: number | string) {\n    if (power === 'C') {\n      return this.cToken\n    } else if (power === 'B') {\n      return this.baseToken\n    } else if (power === 'Q') {\n      return this.quoteToken\n    } else if (power === 'N') {\n      // native token\n      return this.config.nativeToken\n    }\n    const index = this.powers.findIndex((p) => p === Number(power))\n    return this.dTokens[index]\n  }\n\n  getIdByAddress(address: string): BigNumber {\n    try {\n      if (address === this.baseToken) return bn(this.baseId)\n      if (address === this.quoteToken) return bn(this.quoteId)\n      if (address === this.config.nativeToken) return bn(POOL_IDS.native)\n      if (address === this.cToken) return bn(POOL_IDS.cToken)\n      return bn(address.split('-')[1])\n    } catch (e) {\n      throw new Error('Token id not found:' + address)\n    }\n  }\n}\n","import { BigNumber, ethers } from 'ethers'\nimport { PowerState } from 'powerLib/dist/powerLib'\nimport { LogType } from '../types'\nimport { CurrentPool } from './currentPool'\nimport { EventDataAbis, NATIVE_ADDRESS, POOL_IDS } from '../utils/constant'\nimport { ConfigType } from './setConfig'\nimport { Resource } from './resource'\n\nexport class History {\n  account?: string\n  CURRENT_POOL: CurrentPool\n\n  constructor(config: ConfigType & { CURRENT_POOL: CurrentPool }) {\n    this.account = config.account\n    this.CURRENT_POOL = config.CURRENT_POOL\n  }\n\n  formatSwapHistory({ logs }: { logs: LogType[] }) {\n    try {\n      if (!logs || logs.length === 0) {\n        return []\n      }\n\n      const poolAddresses = Object.keys(this.CURRENT_POOL.pools)\n\n      const swapLogs = logs.map((log) => {\n        const encodeData = ethers.utils.defaultAbiCoder.encode(\n          EventDataAbis.Swap,\n          log.args.args,\n        )\n        const formatedData = ethers.utils.defaultAbiCoder.decode(\n          EventDataAbis.Swap,\n          encodeData,\n        )\n\n        const { poolIn, poolOut } = formatedData\n\n        if (\n          !poolAddresses.includes(poolIn) ||\n          !poolAddresses.includes(poolOut)\n        ) {\n          return null\n        }\n\n        const tokenIn = this.getTokenAddressByPoolAndSide(\n          poolIn,\n          formatedData.sideIn,\n        )\n        const tokenOut = this.getTokenAddressByPoolAndSide(\n          poolOut,\n          formatedData.sideOut,\n        )\n\n        return {\n          transactionHash: log.transactionHash,\n          timeStamp: log.timeStamp,\n          blockNumber: log.blockNumber,\n          poolIn,\n          poolOut,\n          tokenIn,\n          tokenOut,\n          ...formatedData,\n        }\n      })\n\n      //@ts-ignore\n      return (\n        swapLogs\n          .filter((l) => l !== null)\n          //@ts-ignore\n          .sort((a, b) => b.blockNumber - a.blockNumber)\n      )\n    } catch (e) {\n      throw e\n    }\n  }\n\n  getTokenAddressByPoolAndSide(poolAddress: string, side: BigNumber) {\n    const pool = this.CURRENT_POOL.pools[poolAddress]\n    if (side.eq(POOL_IDS.native)) {\n      return NATIVE_ADDRESS\n    }\n    if (side.eq(POOL_IDS.R)) {\n      return pool?.TOKEN_R || NATIVE_ADDRESS\n    }\n    return poolAddress + '-' + side.toString()\n  }\n\n  calculateLeverage(powerState: PowerState, balances: any, powers: number[]) {\n    const _balances = {}\n    for (let i in balances) {\n      if (powers[i]) {\n        _balances[powers[i]] = balances[i]\n      }\n    }\n    return powerState.calculateCompExposure(_balances)\n  }\n}\n","import { ethers } from 'ethers'\nimport ReserveTokenPrice from '../abi/ReserveTokenPrice.json'\nimport { JsonRpcProvider } from '@ethersproject/providers'\nimport { ConfigType } from './setConfig'\nimport { fixed128ToFloat } from '../utils/number'\nimport { bn, numberToWei, weiToNumber } from '../utils/helper'\n\nexport class Price {\n  chainId: number\n  scanApi?: string\n  provider: ethers.providers.Provider\n  rpcUrl: string\n  reserveTokenPrice: string\n  config: ConfigType\n\n  constructor(config: ConfigType) {\n    const { chainId, scanApi, provider, rpcUrl } = config\n    const { reserveTokenPrice } = config.addresses\n    if (!reserveTokenPrice) {\n      throw new Error(`required pairsV3Info contract to be defined!`)\n    }\n    this.config = config\n    this.chainId = chainId\n    this.scanApi = scanApi\n    this.provider = provider\n    this.rpcUrl = rpcUrl\n    this.reserveTokenPrice = reserveTokenPrice\n  }\n\n  async getTokenPrices(tokens: string[]) {\n    try {\n      const provider = new JsonRpcProvider(this.rpcUrl)\n      // @ts-ignore\n      provider.setStateOverride({\n        [this.reserveTokenPrice]: {\n          code: ReserveTokenPrice.deployedBytecode,\n        },\n      })\n\n      const pairDetailContract = new ethers.Contract(\n        this.reserveTokenPrice,\n        ReserveTokenPrice.abi,\n        provider,\n      )\n\n      const res = await pairDetailContract.functions.fetchMarketBatch(\n        tokens,\n        this.config.addresses.uniswapFactory,\n        this.config.stableCoins,\n        this.config.addresses.wrapToken,\n        this.config.stableCoins[0],\n      )\n\n      const result = {}\n      for (let i in tokens) {\n        result[tokens[i]] = res.sqrtPriceX96[i]\n      }\n\n      return result\n    } catch (e) {\n      throw e\n    }\n  }\n}\n","import {BigNumber, ethers} from 'ethers'\nimport {\n  ddlGenesisBlock,\n  EventDataAbis,\n  LOCALSTORAGE_KEY,\n  POOL_IDS,\n} from '../utils/constant'\nimport EventsAbi from '../abi/Events.json'\nimport {Multicall} from 'ethereum-multicall'\nimport TokensInfoAbi from '../abi/TokensInfo.json'\nimport {\n  LogType,\n  ParseLogType,\n  PoolGroupsType,\n  PoolsType,\n  PoolType,\n  StatesType,\n  Storage,\n  SwapLog,\n  TokenType,\n} from '../types'\nimport {\n  bn,\n  decodePowers,\n  div,\n  formatMultiCallBignumber,\n  getLogicAbi,\n  getNormalAddress,\n  numberToWei,\n  parseSqrtSpotPrice,\n  parseUq128x128,\n  weiToNumber,\n} from '../utils/helper'\nimport {UniV2Pair} from './uniV2Pair'\nimport {JsonRpcProvider} from '@ethersproject/providers'\nimport PoolOverride from '../abi/PoolOverride.json'\nimport Pool from '../abi/Pool.json'\n// import { PowerState } from 'powerLib/dist/powerLib'\nimport _ from 'lodash'\nimport {UniV3Pair} from './uniV3Pair'\nimport PairV3DetailAbi from '../abi/PairV3Detail.json'\nimport {ConfigType} from './setConfig'\nimport {DerivableContractAddress} from '../utils/configs'\nimport {defaultAbiCoder} from \"ethers/lib/utils\";\n\nconst {AssistedJsonRpcProvider} = require('assisted-json-rpc-provider')\nconst MAX_BLOCK = 4294967295\nconst TOPIC_APP = ethers.utils.formatBytes32String('DDL')\n\n// type ConfigType = {\n//   chainId: number\n//   scanApi: string\n//   account?: string\n//   storage?: Storage\n//   provider: ethers.providers.Provider\n//   providerToGetLog: ethers.providers.Provider\n//   overrideProvider: JsonRpcProvider\n//   UNIV2PAIR: UniV2Pair\n//   UNIV3PAIR: UniV3Pair\n// }\n\ntype ResourceData = {\n  pools: PoolsType\n  tokens: TokenType[]\n  swapLogs: LogType[]\n  poolGroups: any\n}\n\nexport class Resource {\n  poolGroups: PoolGroupsType = {}\n  pools: PoolsType = {}\n  tokens: TokenType[] = []\n  swapLogs: LogType[] = []\n  chainId: number\n  scanApi?: string\n  account?: string\n  storage?: Storage\n  provider: ethers.providers.Provider\n  providerToGetLog: ethers.providers.Provider\n  overrideProvider: JsonRpcProvider\n  UNIV2PAIR: UniV2Pair\n  UNIV3PAIR: UniV3Pair\n  addresses: Partial<DerivableContractAddress>\n\n  constructor(config: ConfigType) {\n    this.chainId = config.chainId\n    this.scanApi = config.scanApi\n    this.account = config.account\n    this.storage = config.storage\n    this.account = config.account\n    this.providerToGetLog = config.providerToGetLog\n    this.provider = config.provider\n    this.UNIV2PAIR = new UniV2Pair(config)\n    this.UNIV3PAIR = new UniV3Pair(config)\n    this.overrideProvider = config.overrideProvider\n    this.addresses = config.addresses\n  }\n\n  async fetchResourceData(account: string) {\n    let result: any = {}\n    if (!this.chainId) return result\n    const [resultCached, newResource] = await Promise.all([\n      this.getResourceCached(account),\n      this.getNewResource(account),\n    ])\n    this.poolGroups = {...resultCached.poolGroups, ...newResource.poolGroups}\n    this.pools = {...resultCached.pools, ...newResource.pools}\n    this.tokens = [...resultCached.tokens, ...newResource.tokens]\n    this.swapLogs = [...resultCached.swapLogs, ...newResource.swapLogs]\n  }\n\n  getLastBlockCached(account: string) {\n    if (!this.storage || !this.storage.getItem)\n      return ddlGenesisBlock[this.chainId]\n    const lastDDlBlock =\n      Number(\n        this.storage.getItem(\n          this.chainId + '-' + LOCALSTORAGE_KEY.LAST_BLOCK_DDL_LOGS,\n        ),\n      ) || ddlGenesisBlock[this.chainId] - 1\n    let lastWalletBlock = ddlGenesisBlock[this.chainId] - 1\n    const walletBlockCached = this.storage.getItem(\n      this.chainId + '-' + LOCALSTORAGE_KEY.SWAP_BLOCK_LOGS + '-' + account,\n    )\n    if (account && walletBlockCached) {\n      lastWalletBlock = Number(walletBlockCached)\n    }\n    return Math.min(lastDDlBlock + 1, lastWalletBlock + 1)\n  }\n\n  cacheDdlLog({\n                swapLogs,\n                ddlLogs,\n                headBlock,\n                account,\n              }: {\n    swapLogs: any\n    ddlLogs: any\n    headBlock: number\n    account: string\n  }) {\n    if (!this.storage || !this.storage.getItem || !this.storage.setItem) return\n    const cachedDdlLogs = JSON.parse(\n      this.storage.getItem(this.chainId + '-' + LOCALSTORAGE_KEY.DDL_LOGS) ||\n      '[]',\n    )\n    const newCachedDdlLogs = [...ddlLogs, ...cachedDdlLogs].filter(\n      (log, index, self) => {\n        return (\n          index ===\n          self.findIndex(\n            (t) =>\n              t.logIndex === log.logIndex &&\n              t.transactionHash === log.transactionHash,\n          )\n        )\n      },\n    )\n    this.storage.setItem(\n      this.chainId + '-' + LOCALSTORAGE_KEY.LAST_BLOCK_DDL_LOGS,\n      headBlock.toString(),\n    )\n    this.storage.setItem(\n      this.chainId + '-' + LOCALSTORAGE_KEY.DDL_LOGS,\n      JSON.stringify(newCachedDdlLogs),\n    )\n    if (account) {\n      const cachedSwapLogs = JSON.parse(\n        this.storage.getItem(\n          this.chainId + '-' + LOCALSTORAGE_KEY.SWAP_LOGS + '-' + account,\n        ) || '[]',\n      )\n      const newCacheSwapLogs = [...swapLogs, ...cachedSwapLogs].filter(\n        (log, index, self) => {\n          return (\n            index ===\n            self.findIndex(\n              (t) =>\n                t.logIndex === log.logIndex &&\n                t.transactionHash === log.transactionHash,\n            )\n          )\n        },\n      )\n\n      this.storage.setItem(\n        this.chainId + '-' + LOCALSTORAGE_KEY.SWAP_BLOCK_LOGS + '-' + account,\n        headBlock.toString(),\n      )\n      this.storage.setItem(\n        this.chainId + '-' + LOCALSTORAGE_KEY.SWAP_LOGS + '-' + account,\n        JSON.stringify(newCacheSwapLogs),\n      )\n    }\n  }\n\n  async getResourceCached(account: string): Promise<ResourceData> {\n    const results: ResourceData = {\n      pools: {},\n      tokens: [],\n      swapLogs: [],\n      poolGroups: {},\n    }\n    if (!this.storage || !this.storage.getItem) return results\n    const ddlLogs = JSON.parse(\n      this.storage.getItem(this.chainId + '-' + LOCALSTORAGE_KEY.DDL_LOGS) ||\n      '[]',\n    )\n    const swapLogs = JSON.parse(\n      this.storage.getItem(\n        this.chainId + '-' + LOCALSTORAGE_KEY.SWAP_LOGS + '-' + account,\n      ) || '[]',\n    )\n    const [ddlLogsParsed, swapLogsParsed] = [\n      this.parseDdlLogs(ddlLogs),\n      this.parseDdlLogs(swapLogs),\n    ]\n\n    if (ddlLogsParsed && ddlLogsParsed.length > 0) {\n      const {tokens, pools, poolGroups} = await this.generatePoolData(\n        ddlLogsParsed,\n      )\n      results.tokens = tokens\n      results.pools = pools\n      results.poolGroups = poolGroups\n    }\n    if (swapLogsParsed && swapLogsParsed.length > 0) {\n      results.swapLogs = swapLogsParsed\n    }\n    this.pools = {...results.pools, ...this.pools}\n    return results\n  }\n\n  async getNewResource(account: string): Promise<ResourceData> {\n    const etherscanConfig = this.scanApi\n      ? {\n        url: this.scanApi,\n        maxResults: 1000,\n        rangeThreshold: 0,\n        rateLimitCount: 1,\n        rateLimitDuration: 5000,\n        apiKeys: [''],\n      }\n      : undefined\n\n    const provider = new AssistedJsonRpcProvider(\n      this.providerToGetLog,\n      etherscanConfig,\n    )\n    const lastHeadBlockCached = this.getLastBlockCached(account)\n    const accTopic = account ? '0x' + '0'.repeat(24) + account.slice(2) : null\n    const topics = this.getTopics()\n\n    const filterTopics = [[topics.Derivable, null, null, null]]\n    if (accTopic) {\n      filterTopics.push(\n        [null, accTopic, null, null],\n        [null, null, accTopic, null],\n        [null, null, null, accTopic],\n      )\n    }\n\n    return await provider\n      .getLogs({\n        fromBlock: lastHeadBlockCached || 0,\n        toBlock: MAX_BLOCK,\n        topics: filterTopics,\n      })\n      .then((logs: any) => {\n        if (!logs?.length) {\n          return [[], []]\n        }\n        const headBlock = logs[logs.length - 1]?.blockNumber\n        const topics = this.getTopics()\n        const ddlLogs = logs.filter((log: any) => {\n          return log.address\n            && [topics.Derivable].includes(log.topics[0])\n            && log.address === this.addresses.poolFactory\n        })\n        const swapLogs = logs.filter((log: any) => {\n          return log.address && [topics.Swap].includes(log.topics[0])\n        })\n        this.cacheDdlLog({\n          ddlLogs,\n          swapLogs,\n          headBlock,\n          account,\n        })\n        return [\n          this.parseDdlLogs(ddlLogs),\n          this.parseDdlLogs(swapLogs)\n        ]\n      })\n      .then(async ([ddlLogs, swapLogs]: any) => {\n        const result: ResourceData = {\n          pools: {},\n          tokens: [],\n          swapLogs: [],\n          poolGroups: {},\n        }\n        if (swapLogs && swapLogs.length > 0) {\n          result.swapLogs = swapLogs\n        }\n        if (ddlLogs && ddlLogs.length > 0) {\n          const {tokens, pools, poolGroups} = await this.generatePoolData(\n            ddlLogs,\n          )\n          result.tokens = tokens\n          result.pools = pools\n          result.poolGroups = poolGroups\n        }\n        this.pools = {...result.pools, ...this.pools}\n        return result\n      })\n      .catch((e: any) => {\n        console.error(e)\n        return {pools: {}, tokens: [], swapLogs: []}\n      })\n  }\n\n  /**\n   * parse DDL logs\n   * @param logs\n   */\n  generatePoolData(logs: ParseLogType[]) {\n    const allTokens: string[] = []\n    const allUniPools: string[] = []\n    const poolData = {}\n    const logicData = {}\n    logs.forEach((log) => {\n      if (log.name === 'LogicCreated') {\n        const powers = decodePowers(log.args.powers)\n        logicData[log.address] = {\n          logic: log.address,\n          dTokens: powers.map((value, key) => {\n            return {power: value, index: key}\n          }),\n          baseToken: ethers.utils.getAddress(log.topics[2].slice(0, 42)),\n          baseSymbol: ethers.utils.parseBytes32String(log.args.baseSymbol),\n          quoteSymbol: ethers.utils.parseBytes32String(log.args.quoteSymbol),\n          cToken: ethers.utils.getAddress(log.topics[3].slice(0, 42)),\n          priceToleranceRatio: log.args.priceToleranceRatio,\n          rentRate: log.args.rentRate,\n          deleverageRate: log.args.deleverageRate,\n          powers,\n        }\n      }\n    })\n\n    logs.forEach((log) => {\n      if (log.name === 'PoolCreated') {\n        const data = log.args\n        const powers = [log.args.k.toNumber(), -log.args.k.toNumber()]\n        data.dTokens = powers.map((value, key) => {\n          return {power: value, index: key}\n        })\n\n        data.dTokens = (data.dTokens as { index: number; power: number }[]).map(\n          (data) => `${log.address}-${data.index}`,\n        )\n\n        poolData[log.address] = {\n          ...data,\n          poolAddress: log.address,\n          powers,\n          cToken: data.TOKEN_R,\n        }\n        const pair = ethers.utils.getAddress('0x' + data.ORACLE.slice(-40))\n\n        allUniPools.push(pair)\n        allTokens.push(data.TOKEN_R)\n      }\n    })\n\n    return this.loadStatesData(allTokens, poolData, allUniPools)\n  }\n\n  /**\n   * load Token detail, poolstate data and then dispatch to Store\n   * @param listTokens\n   * @param listPools\n   * @param uniPools\n   */\n  //@ts-ignore\n  async loadStatesData(\n    listTokens: string[],\n    listPools: { [key: string]: PoolType },\n    //@ts-ignore\n    uniPools: string[],\n  ): Promise<{\n    tokens: TokenType[]\n    pools: any\n    poolGroups: any\n  }> {\n    const multicall = new Multicall({\n      multicallCustomContractAddress: this.addresses.multiCall,\n      ethersProvider: this.getPoolOverridedProvider(Object.keys(listPools)),\n      tryAggregate: true,\n    })\n    const normalTokens = _.uniq(getNormalAddress(listTokens))\n\n    // @ts-ignore\n    const context: ContractCallContext[] = this.getMultiCallRequest(\n      normalTokens,\n      listPools,\n    )\n    const [{results}, pairsInfo] = await Promise.all([\n      multicall.call(context),\n      this.UNIV3PAIR.getPairsInfo({\n        pairAddresses: _.uniq(uniPools),\n      }),\n    ])\n\n    const {tokens: tokensArr, poolsState} = this.parseMultiCallResponse(\n      results,\n      Object.keys(listPools),\n    )\n    const tokens: any[] = []\n    for (let i = 0; i < tokensArr.length; i++) {\n      tokens.push({\n        symbol: tokensArr[i][0],\n        name: tokensArr[i][1],\n        decimal: tokensArr[i][2],\n        totalSupply: tokensArr[i][3],\n        address: normalTokens[i],\n      })\n    }\n\n    const pools = {...listPools}\n    const poolGroups = {}\n\n    for (const i in pools) {\n      if(!poolsState[i])  {\n        delete pools[i]\n        continue\n      }\n      pools[i].states = poolsState[i]\n      pools[i] = {\n        ...pools[i],\n        ...this.calcPoolInfo(pools[i]),\n      }\n\n      const {MARK: _MARK, ORACLE, k: _k} = pools[i]\n\n      const quoteTokenIndex = bn(ORACLE.slice(0, 3)).gt(0) ? 1 : 0\n      const pair = ethers.utils.getAddress('0x' + ORACLE.slice(-40))\n\n      const baseToken =\n        quoteTokenIndex === 0 ? pairsInfo[pair].token1 : pairsInfo[pair].token0\n      const quoteToken =\n        quoteTokenIndex === 0 ? pairsInfo[pair].token0 : pairsInfo[pair].token1\n\n      const tokenR = tokens.find((t) => t.address === pools[i].TOKEN_R)\n\n      pools[i].baseToken = baseToken.address\n      pools[i].quoteToken = quoteToken.address\n\n      const k = _k.toNumber()\n      const id = [pair].join('-')\n      if (poolGroups[id]) {\n        poolGroups[id].pools[i] = pools[i]\n      } else {\n        poolGroups[id] = {pools: {[i]: pools[i]}}\n        poolGroups[id].UTR = pools[i].UTR\n        poolGroups[id].pair = pairsInfo[pair]\n        poolGroups[id].baseToken = pools[i].baseToken\n        poolGroups[id].quoteToken = pools[i].quoteToken\n        poolGroups[id].TOKEN = pools[i].TOKEN\n        poolGroups[id].MARK = pools[i].MARK\n        poolGroups[id].INIT_TIME = pools[i].INIT_TIME\n        poolGroups[id].HALF_LIFE = pools[i].HALF_LIFE\n        poolGroups[id].ORACLE = pools[i].ORACLE\n        poolGroups[id].TOKEN_R = pools[i].TOKEN_R\n        poolGroups[id].states = {\n          twapBase: poolsState[i].twap,\n          spotBase: poolsState[i].spot,\n          ...poolsState[i],\n        }\n        // poolGroups[id].basePrice = parseSqrtSpotPrice(\n        //   poolsState[i].spot,\n        //   pairsInfo[pair].token0,\n        //   pairsInfo[pair].token1,\n        //   quoteTokenIndex,\n        // )\n      }\n\n      const rdc = this.getRdc(Object.values(poolGroups[id].pools))\n      poolGroups[id].states = {\n        ...poolGroups[id].states,\n        ...rdc,\n      }\n\n      if (poolGroups[id].powers) {\n        poolGroups[id].k.push(pools[i].k.toNumber())\n        poolGroups[id].powers.push(pools[i].powers[0], pools[i].powers[1])\n      } else {\n        poolGroups[id].k = [pools[i].k.toNumber()]\n        poolGroups[id].powers = [...pools[i].powers]\n      }\n      if (poolGroups[id].dTokens) {\n        poolGroups[id].dTokens.push(\n          pools[i].poolAddress + '-' + POOL_IDS.A,\n          pools[i].poolAddress + '-' + POOL_IDS.B,\n        )\n      } else {\n        poolGroups[id].dTokens = [\n          pools[i].poolAddress + '-' + POOL_IDS.A,\n          pools[i].poolAddress + '-' + POOL_IDS.B,\n        ]\n      }\n      if (poolGroups[id].allTokens) {\n        poolGroups[id].allTokens.push(\n          pools[i].poolAddress + '-' + POOL_IDS.A,\n          pools[i].poolAddress + '-' + POOL_IDS.B,\n          pools[i].poolAddress + '-' + POOL_IDS.C,\n        )\n      } else {\n        poolGroups[id].allTokens = [\n          pools[i].poolAddress + '-' + POOL_IDS.A,\n          pools[i].poolAddress + '-' + POOL_IDS.B,\n          pools[i].poolAddress + '-' + POOL_IDS.C,\n        ]\n      }\n\n      tokens.push(\n        {\n          symbol: baseToken.symbol + '^' + (1 + k / 2),\n          name: baseToken.symbol + '^' + (1 + k / 2),\n          decimal: tokenR.decimal,\n          totalSupply: 0,\n          address: pools[i].poolAddress + '-' + POOL_IDS.A,\n        },\n        {\n          symbol: baseToken.symbol + '^' + (1 - k / 2),\n          name: baseToken.symbol + '^' + (1 - k / 2),\n          decimal: tokenR.decimal,\n          totalSupply: 0,\n          address: pools[i].poolAddress + '-' + POOL_IDS.B,\n        },\n        {\n          symbol: `DLP-${baseToken.symbol}-${k / 2}`,\n          name: `DLP-${baseToken.symbol}-${k / 2}`,\n          decimal: tokenR.decimal,\n          totalSupply: 0,\n          address: pools[i].poolAddress + '-' + POOL_IDS.C,\n        },\n        baseToken,\n        quoteToken,\n      )\n    }\n\n    return {\n      // @ts-ignore\n      tokens: _.uniqBy(tokens, 'address'),\n      pools,\n      poolGroups,\n    }\n  }\n\n  getRentRate(\n    {\n      rDcLong,\n      rDcShort,\n      R,\n    }: { R: BigNumber; rDcLong: BigNumber; rDcShort: BigNumber },\n    rentRate: BigNumber,\n  ) {\n    const diff = bn(rDcLong).sub(rDcShort).abs()\n    const rate = R.isZero() ? bn(0) : diff.mul(rentRate).div(R)\n    return {\n      rentRateLong: rDcLong.add(rDcShort).isZero()\n        ? bn(0)\n        : rate.mul(rDcLong).div(rDcLong.add(rDcShort)),\n      rentRateShort: rDcLong.add(rDcShort).isZero()\n        ? bn(0)\n        : rate.mul(rDcShort).div(rDcLong.add(rDcShort)),\n    }\n  }\n\n  getPoolOverridedProvider(poolAddresses: string[]) {\n    const stateOverride = {}\n    poolAddresses.forEach((address: string) => {\n      stateOverride[address] = {\n        code: PoolOverride.deployedBytecode,\n      }\n    })\n\n    //@ts-ignore\n    this.overrideProvider.setStateOverride({\n      ...stateOverride,\n    })\n    return this.overrideProvider\n  }\n\n  /**\n   * get Multicall Request to get List token and poolState data in 1 request to RPC\n   * @param normalTokens\n   * @param listPools\n   */\n  //@ts-ignore\n  getMultiCallRequest(\n    // @ts-ignore\n    normalTokens: string[],\n    // @ts-ignore\n    listPools: { [key: string]: PoolType },\n  ) {\n    const request = [\n      {\n        reference: 'tokens',\n        contractAddress: this.addresses.tokensInfo,\n        abi: TokensInfoAbi,\n        calls: [\n          {\n            reference: 'tokenInfos',\n            methodName: 'getTokenInfo',\n            methodParameters: [normalTokens],\n          },\n        ],\n      },\n    ]\n\n    for (const i in listPools) {\n      request.push({\n        // @ts-ignore\n        decoded: true,\n        reference: 'pools-' + listPools[i].poolAddress,\n        contractAddress: listPools[i].poolAddress,\n        // @ts-ignore\n        abi: PoolOverride.abi,\n        calls: [\n          {\n            reference: i,\n            methodName: 'getStates',\n            // @ts-ignore\n            methodParameters: [\n              listPools[i].ORACLE as any,\n              listPools[i].MARK,\n              listPools[i].TOKEN_R,\n              listPools[i].k,\n              this.addresses.token,\n              listPools[i].INTEREST_HL,\n            ],\n          },\n        ],\n      })\n    }\n\n    return request\n  }\n\n  parseMultiCallResponse(multiCallData: any, poolAddresses: string[]) {\n    const pools = {}\n    const tokens = multiCallData.tokens.callsReturnContext[0].returnValues\n    poolAddresses.forEach((poolAddress) => {\n      try {\n        const abiInterface = new ethers.utils.Interface(PoolOverride.abi)\n        const poolStateData =\n          multiCallData['pools-' + poolAddress].callsReturnContext\n        const data = formatMultiCallBignumber(poolStateData[0].returnValues)\n        const encodeData = abiInterface.encodeFunctionResult('getStates', [data])\n        const formatedData = abiInterface.decodeFunctionResult(\n          'getStates',\n          encodeData,\n        )\n        pools[poolStateData[0].reference] = {\n          // twapBase: formatedData.states.twap.base._x,\n          // twapLP: formatedData.states.twap.LP._x,\n          // spotBase: formatedData.states.spot.base._x,\n          // spotLP: formatedData.states.spot.LP._x,\n          ...formatedData.states,\n        }\n      } catch (e) {\n        console.error(\"Cannot get states of: \", poolAddress)\n        console.error(e)\n      }\n    })\n\n    return {tokens, poolsState: pools}\n  }\n\n  calcPoolInfo(pool: PoolType) {\n    const {R, rA, rB, rC} = pool.states\n    const SECONDS_PER_DAY = 86400\n    const riskFactor = rC.gt(0) ? div(rA.sub(rB), rC) : '0'\n    const dailyInterestRate =\n      1 - Math.pow(2, -SECONDS_PER_DAY / pool.INTEREST_HL.toNumber())\n    return {\n      riskFactor,\n      dailyInterestRate,\n    }\n  }\n\n  getRdc(pools: any): {\n    supplyDetails: any\n    rDetails: any\n    R: BigNumber\n    rC: BigNumber\n    rDcLong: BigNumber\n    rDcShort: BigNumber\n  } {\n    let rC = bn(0)\n    let rDcLong = bn(0)\n    let rDcShort = bn(0)\n    let supplyDetails = {}\n    let rDetails = {}\n    for (let pool of pools) {\n      rC = pool.states.rC\n      rDcLong = pool.states.rA\n      rDcShort = pool.states.rB\n      rDetails[pool.k.toNumber()] = pool.states.rA\n      rDetails[-pool.k.toNumber()] = pool.states.rB\n\n      supplyDetails[pool.k.toNumber()] = pool.states.sA\n      supplyDetails[-pool.k.toNumber()] = pool.states.sB\n    }\n    return {\n      supplyDetails,\n      rDetails,\n      R: rC.add(rDcLong).add(rDcShort),\n      rC,\n      rDcLong,\n      rDcShort,\n    }\n  }\n\n  parseDdlLogs(ddlLogs: any) {\n    const eventInterface = new ethers.utils.Interface(EventsAbi)\n    return ddlLogs.map((log: any) => {\n      try {\n        const decodeLog = eventInterface.parseLog(log)\n        let appName = ''\n        try {\n          appName = ethers.utils.parseBytes32String(decodeLog.args.topic1)\n        } catch (e) {\n        }\n\n        let data: any = decodeLog\n        if (appName === 'PoolCreated') {\n          const poolCreatedData = defaultAbiCoder.decode(EventDataAbis[appName], decodeLog.args.data)\n          data = {\n            ...poolCreatedData,\n            TOKEN_R: ethers.utils.getAddress('0x' + decodeLog.args.topic3.slice(-40))\n          }\n        }\n\n        return {\n          address: data.poolAddress,\n          timeStamp: parseInt(log.timeStamp),\n          transactionHash: log.transactionHash,\n          blockNumber: log.blockNumber,\n          index: log.logIndex,\n          logIndex: log.transactionHash + '-' + log.logIndex,\n          name: appName,\n          topics: log.topics,\n          args: {\n            ...data,\n          },\n        }\n      } catch (e) {\n        console.error(e)\n        return {}\n      }\n    })\n  }\n\n  getTopics(): { [key: string]: string } {\n    const eventInterface = new ethers.utils.Interface(EventsAbi)\n    const events = eventInterface.events\n    const topics: { [key: string]: string } = {}\n    for (const i in events) {\n      topics[events[i].name] = ethers.utils.id(i)\n    }\n    return topics\n  }\n\n  getDecimals(baseToken: TokenType, quoteToken: TokenType, side: number) {\n    if (side == POOL_IDS.C) {\n      return (baseToken.decimal + quoteToken.decimal) / 2\n    }\n    return 18 - baseToken.decimal + quoteToken.decimal\n  }\n}\n","import { ethers } from 'ethers'\nimport { JsonRpcProvider } from '@ethersproject/providers'\nimport {\n  ARBITRUM_CONFIG,\n  BNB_CONFIG,\n  DEFAULT_CONFIG,\n  DerivableContractAddress,\n  TESTNET_CONFIG,\n  config,\n} from '../utils/configs'\nimport { Storage } from '../types'\nimport { mergeDeep } from '../utils/helper'\nimport { DeepPartial } from '../types/utils'\n\nexport interface ConfigType {\n  chainId: number\n  scanApi?: string\n  rpcUrl: string\n  signer?: ethers.providers.JsonRpcSigner\n  account?: string\n  storage?: Storage\n  overrideProvider: JsonRpcProvider\n  provider: ethers.providers.Provider\n  providerToGetLog: ethers.providers.Provider\n  poolAddress?: string\n  timePerBlock: number\n  nativeToken?: string\n  addresses: Partial<DerivableContractAddress>\n  stableCoins: Partial<string[]>\n  logic?: any\n}\n\nexport class Derivable {\n  static loadConfig(\n    account: string,\n    configProp: DeepPartial<config>,\n    chainIdProp: number,\n  ): ConfigType {\n    const defaultConfig = this.loadDefaultConfig(chainIdProp)\n    const config = {\n      ...defaultConfig,\n      ...configProp,\n      addresses: {\n        ...defaultConfig.addresses,\n        ...configProp.addresses,\n      },\n    }\n\n    // const config = mergeDeep(this.loadDefaultConfig(chainIdProp), configProp)\n    const overrideProvider = new JsonRpcProvider(config.rpcUrl)\n    const provider = new ethers.providers.JsonRpcProvider(config.rpcUrl)\n    const providerToGetLog = new ethers.providers.JsonRpcProvider(\n      config.rpcToGetLogs,\n    )\n\n    return {\n      ...config,\n      account,\n      overrideProvider,\n      provider,\n      providerToGetLog,\n    }\n  }\n\n  static loadContract(\n    config = DEFAULT_CONFIG,\n    chainIdProp?: number,\n  ): DerivableContractAddress {\n    if (chainIdProp) {\n      config = this.loadDefaultConfig(chainIdProp)\n    }\n    const token = config.addresses.token as string\n    const multiCall = config.addresses.multiCall as string\n    const pairsInfo = config.addresses.pairsInfo as string\n    const pairsV3Info = config.addresses.pairsV3Info as string\n    const bnA = config.addresses.bnA as string\n    const tokensInfo = config.addresses.tokensInfo as string\n    const router = config.addresses.router as string\n    const wrapToken = config.addresses.wrapToken as string\n    const wrapUsdPair = config.addresses.wrapUsdPair as string\n    const poolFactory = config.addresses.poolFactory as string\n    const stateCalHelper = config.addresses.stateCalHelper as string\n    const logic = config.addresses.logic as string\n    const reserveTokenPrice = config.addresses.reserveTokenPrice as string\n    const uniswapFactory = config.addresses.uniswapFactory as string\n    return {\n      token,\n      multiCall,\n      pairsInfo,\n      pairsV3Info,\n      bnA,\n      tokensInfo,\n      router,\n      wrapToken,\n      wrapUsdPair,\n      poolFactory,\n      stateCalHelper,\n      logic,\n      reserveTokenPrice,\n      uniswapFactory,\n    }\n  }\n\n  // static setConfig(account: string, config = DEFAULT_CONFIG): Engine {\n  //   const engine = new Engine(account, config)\n  //   return engine\n  // }\n\n  static loadDefaultConfig(chainId: number): config {\n    switch (chainId) {\n      case 56:\n        return BNB_CONFIG\n      case 1337:\n        return TESTNET_CONFIG\n      case 42161:\n        return ARBITRUM_CONFIG\n      default:\n        return BNB_CONFIG\n    }\n  }\n}\n","import {BigNumber, Contract, ethers} from 'ethers'\nimport { UniV2Pair } from './uniV2Pair'\nimport { PoolErc1155StepType, StepType, SwapStepType } from '../types'\nimport {\n  bn,\n  isErc1155Address,\n  numberToWei,\n  packId,\n  weiToNumber,\n} from '../utils/helper'\nimport {\n  LARGE_VALUE,\n  NATIVE_ADDRESS,\n  POOL_IDS,\n  ZERO_ADDRESS,\n} from '../utils/constant'\nimport { CurrentPool } from './currentPool'\nimport UtrAbi from '../abi/UTR.json'\nimport LogicsAbi from '../abi/Logic.json'\nimport UtrOverride from '../abi/UTROverride.json'\nimport PoolAbi from '../abi/Pool.json'\nimport HelperAbi from '../abi/Helper.json'\nimport Erc20Abi from '../abi/ERC20.json'\nimport WtapAbi from '../abi/Wrap.json'\nimport { JsonRpcProvider } from '@ethersproject/providers'\nimport { ConfigType } from './setConfig'\n\n// type ConfigType = {\n//   account?: string\n//   chainId: number\n//   scanApi: string\n//   provider: ethers.providers.Provider\n//   overrideProvider: JsonRpcProvider\n//   signer?: ethers.providers.JsonRpcSigner\n//   UNIV2PAIR: UniV2Pair\n//   CURRENT_POOL: CurrentPool\n// }\n\n// TODO: don't hardcode these\nconst fee10000 = 30\n\nconst gasLimit = 6000000\nconst ACTION_RECORD_CALL_RESULT = 2\nconst ACTION_INJECT_CALL_RESULT = 4\nconst AMOUNT_EXACT = 0\nconst AMOUNT_ALL = 1\nconst TRANSFER_FROM_SENDER = 0\nconst TRANSFER_FROM_ROUTER = 1\nconst TRANSFER_CALL_VALUE = 2\nconst IN_TX_PAYMENT = 4\n\nconst FROM_ROUTER = 10\nconst PAYMENT = 0\nconst TRANSFER = 1\nconst CALL_VALUE = 2\n\nconst mode = (x: string) => ethers.utils.formatBytes32String(x)\n\nexport class Swap {\n  account?: string\n  chainId: number\n  scanApi?: string\n  provider: ethers.providers.Provider\n  overrideProvider: JsonRpcProvider\n  signer?: ethers.providers.JsonRpcSigner\n  UNIV2PAIR: UniV2Pair\n  CURRENT_POOL: CurrentPool\n  config: ConfigType\n  constructor(config: ConfigType & { CURRENT_POOL: CurrentPool }) {\n    this.config = config\n    this.account = config.account\n    this.chainId = config.chainId\n    this.scanApi = config.scanApi\n    this.provider = config.provider\n    this.overrideProvider = config.overrideProvider\n    this.signer = config.signer\n    this.CURRENT_POOL = config.CURRENT_POOL\n  }\n\n  //@ts-ignore\n  async calculateAmountOuts(steps: StepType[]) {\n    if (!this.signer) return [[bn(0)], bn(0)]\n    try {\n      const stepsToSwap: SwapStepType[] = [...steps].map((step) => {\n        return { ...step, amountOutMin: 0 }\n      })\n      const { params, value } = await this.convertStepToActions(stepsToSwap)\n\n      const router = this.config.addresses.router as string\n      // @ts-ignore\n      this.overrideProvider.setStateOverride({\n        [router]: {\n          code: UtrOverride.deployedBytecode,\n        },\n      })\n      const contract = new ethers.Contract(\n        router,\n        UtrOverride.abi,\n        this.overrideProvider,\n      )\n      const res = await contract.callStatic.exec(...params, {\n        from: this.account,\n        value,\n        gasLimit: gasLimit || undefined,\n      })\n      const result = []\n      for (const i in steps) {\n        result.push({ ...steps[i], amountOut: res[0][i] })\n      }\n      return [result, bn(gasLimit).sub(res.gasLeft)]\n    } catch (e) {\n      console.error(e)\n      return [[bn(0)], bn(0)]\n    }\n  }\n\n  //\n  formatSwapSteps(steps: StepType[]): SwapStepType[] {\n    const stepsToSwap = []\n    for (const i in steps) {\n      const step = steps[i]\n      const tokenIn =\n        this.CURRENT_POOL.getTokenByPower(step.tokenIn) || step.tokenIn\n      const tokenOut =\n        this.CURRENT_POOL.getTokenByPower(step.tokenOut) || step.tokenOut\n      if (step.amountIn.isZero() || !tokenIn || !tokenOut) {\n        continue\n      }\n      stepsToSwap.push({\n        tokenIn,\n        tokenOut,\n        amountIn: step.amountIn,\n        amountOutMin: 0,\n      })\n    }\n    return stepsToSwap\n  }\n\n  async callStaticMultiSwap({ params, value, gasLimit }: any) {\n    const contract = this.getRouterContract(this.signer)\n    return await contract.callStatic.exec(...params, {\n      value: value || bn(0),\n      gasLimit: gasLimit || undefined,\n    })\n  }\n\n  // convertStepForPoolErc1155(steps: SwapStepType[]): {\n  //   stepsToSwap: PoolErc1155StepType[]\n  //   value: BigNumber\n  // } {\n  //   let value = bn(0)\n  //   steps.forEach((step) => {\n  //     if (step.tokenIn === NATIVE_ADDRESS) {\n  //       value = value.add(step.amountIn)\n  //     }\n  //   })\n  //\n  //   const stepsToSwap = steps.map((step) => {\n  //     return {\n  //       idIn: this.getIdByAddress(step.tokenIn),\n  //       idOut: this.getIdByAddress(step.tokenOut),\n  //       amountIn: step.amountIn,\n  //       amountOutMin: step.amountOutMin,\n  //     }\n  //   })\n  //\n  //   return { stepsToSwap, value }\n  // }\n\n  async convertStepToActions(\n    steps: SwapStepType[],\n  ): Promise<{ params: any; value: BigNumber }> {\n    const stateCalHelper = this.getStateCalHelperContract(ZERO_ADDRESS)\n\n    let outputs: {\n      eip: number\n      token: string\n      id: string | BigNumber\n      amountOutMin: string | number | BigNumber\n      recipient: string | undefined\n    }[] = []\n    steps.forEach((step) => {\n      const poolGroup = this.getPoolPoolGroup(step.tokenIn, step.tokenOut)\n\n      outputs.push({\n        recipient: this.account,\n        eip: isErc1155Address(step.tokenOut)\n          ? 1155\n          : step.tokenOut === NATIVE_ADDRESS\n          ? 0\n          : 20,\n        token: isErc1155Address(step.tokenOut)\n          ? this.config.addresses.token as string\n          : step.tokenOut,\n        id: isErc1155Address(step.tokenOut)\n          ? packId(\n              this.getIdByAddress(step.tokenOut, poolGroup.TOKEN_R).toString(),\n              this.getAddressByErc1155Address(step.tokenOut, poolGroup.TOKEN_R),\n            )\n          : bn(0),\n        amountOutMin: step.amountOutMin,\n      })\n    })\n    let nativeAmountToWrap = bn(0)\n    let withdrawWrapToNative = false\n\n    const metaDatas: any = []\n    const promises: any = []\n    steps.forEach((step) => {\n      const poolGroup = this.getPoolPoolGroup(step.tokenIn, step.tokenOut)\n\n      if (\n        (step.tokenIn === NATIVE_ADDRESS || step.tokenOut === NATIVE_ADDRESS) &&\n        poolGroup.TOKEN_R !== this.config.addresses.wrapToken\n      ) {\n        throw 'This pool do not support swap by native Token'\n      }\n\n      const poolIn = this.getAddressByErc1155Address(\n        step.tokenIn,\n        poolGroup.TOKEN_R,\n      )\n      const poolOut = this.getAddressByErc1155Address(\n        step.tokenOut,\n        poolGroup.TOKEN_R,\n      )\n\n      let idIn = this.getIdByAddress(step.tokenIn, poolGroup.TOKEN_R)\n      const idOut = this.getIdByAddress(step.tokenOut, poolGroup.TOKEN_R)\n      if (step.tokenIn === NATIVE_ADDRESS) {\n        nativeAmountToWrap = nativeAmountToWrap.add(step.amountIn)\n      }\n\n      if (step.tokenOut === NATIVE_ADDRESS) {\n        withdrawWrapToNative = true\n      }\n\n      if (\n        poolIn === poolOut ||\n        poolOut === poolGroup.TOKEN_R ||\n        poolIn === poolGroup.TOKEN_R\n      ) {\n        const poolAddress = isErc1155Address(step.tokenIn) ? poolIn : poolOut\n        let inputs = [\n          {\n            mode: PAYMENT,\n            eip: isErc1155Address(step.tokenIn) ? 1155 : 20,\n            token: isErc1155Address(step.tokenIn)\n              ? this.CURRENT_POOL.TOKEN\n              : poolGroup.TOKEN_R,\n            id: isErc1155Address(step.tokenIn)\n              ? packId(idIn.toString(), poolIn)\n              : 0,\n            amountIn: step.amountIn,\n            recipient: poolAddress,\n          },\n        ]\n        if (step.tokenIn === NATIVE_ADDRESS) {\n          inputs = [\n            {\n              mode: CALL_VALUE,\n              token: ZERO_ADDRESS,\n              eip: 0,\n              id: 0,\n              amountIn: step.amountIn,\n              recipient: ZERO_ADDRESS,\n            },\n          ]\n        }\n        metaDatas.push({\n          code: this.config.addresses.stateCalHelper,\n          inputs,\n        })\n\n        promises.push(\n          stateCalHelper.populateTransaction.swap({\n            sideIn: idIn,\n            poolIn: poolAddress,\n            sideOut: idOut,\n            poolOut: poolAddress,\n            amountIn: step.amountIn,\n            maturity: 0,\n            payer: this.account,\n            recipient: this.account,\n          }),\n        )\n      } else {\n        metaDatas.push({\n          code: this.config.addresses.stateCalHelper,\n          inputs: [\n            {\n              mode: PAYMENT,\n              eip: 1155,\n              token: this.CURRENT_POOL.TOKEN,\n              id: packId(idIn.toString(), poolIn),\n              amountIn: step.amountIn,\n              recipient: poolIn,\n            },\n          ],\n        })\n        console.log({ sideIn: idIn,\n          poolIn,\n          sideOut: idOut,\n          poolOut,\n          amountIn: step.amountIn,\n          maturity: 0,\n          payer: this.account,\n          recipient: this.account\n        })\n        promises.push(\n          stateCalHelper.populateTransaction.swap({\n            sideIn: idIn,\n            poolIn,\n            sideOut: idOut,\n            poolOut,\n            amountIn: step.amountIn,\n            maturity: 0,\n            payer: this.account,\n            recipient: this.account\n          }),\n        )\n      }\n    })\n    const datas: any[] = await Promise.all(promises)\n\n    const actions: any[] = []\n    //@ts-ignore\n    metaDatas.forEach((metaData, key) => {\n      actions.push({ ...metaData, data: datas[key].data })\n    })\n\n    // if (nativeAmountToWrap.gt(0)) {\n    //   const poolContract = this.getWrapContract()\n    //\n    //   const data = await poolContract.populateTransaction.deposit()\n    //   actions.unshift({\n    //     flags: 0,\n    //     code: this.config.wrapToken,\n    //     //@ts-ignore\n    //     data: data.data,\n    //     inputs: [{\n    //       mode: CALL_VALUE,\n    //       eip: 0,\n    //       token: ZERO_ADDRESS,\n    //       id: 0,\n    //       amountIn: nativeAmountToWrap,\n    //       recipient: ZERO_ADDRESS,\n    //     }]\n    //   })\n    // }\n\n    return { params: [outputs, actions], value: nativeAmountToWrap }\n  }\n\n  getIdByAddress(address: string, TOKEN_R: string) {\n    try {\n      if (address === TOKEN_R) return bn(POOL_IDS.R)\n      if (\n        address === NATIVE_ADDRESS &&\n        TOKEN_R === this.config.addresses.wrapToken\n      ) {\n        return bn(POOL_IDS.native)\n      }\n      return bn(address.split('-')[1])\n    } catch (e) {\n      throw new Error('Token id not found')\n    }\n  }\n\n  getPoolPoolGroup(addressIn: string, addressOut: string) {\n    const poolIn = isErc1155Address(addressIn)\n      ? this.CURRENT_POOL.pools[addressIn.split('-')[0]]\n      : null\n\n    const poolOut = isErc1155Address(addressOut)\n      ? this.CURRENT_POOL.pools[addressOut.split('-')[0]]\n      : null\n\n    if (!poolIn && !poolOut) {\n      throw 'Cannot detect pool to swap'\n    }\n\n    if (poolIn && poolOut && poolIn.TOKEN_R !== poolOut.TOKEN_R) {\n      throw 'Cannot swap throw multi pool (need to same Token R)'\n    }\n\n    const result = { pools: {}, TOKEN_R: '' }\n    if (poolIn) {\n      result.pools[poolIn.poolAddress] = poolIn\n      result.TOKEN_R = poolIn.TOKEN_R\n    }\n    if (poolOut) {\n      result.pools[poolOut.poolAddress] = poolOut\n      result.TOKEN_R = poolOut.TOKEN_R\n    }\n\n    return result\n  }\n\n  async multiSwap(steps: SwapStepType[], gasLimit?: BigNumber) {\n    try {\n      const { params, value } = await this.convertStepToActions([...steps])\n\n      await this.callStaticMultiSwap({\n        params,\n        value,\n        gasLimit,\n      })\n      const contract = this.getRouterContract(this.signer)\n      const res = await contract.exec(...params, {\n        value,\n        gasLimit: gasLimit || undefined,\n      })\n      const tx = await res.wait(1)\n      console.log('tx', tx)\n      return tx\n    } catch (e) {\n      throw e\n    }\n  }\n\n  async updateLeverageAndSize(rawStep: StepType[], gasLimit?: BigNumber) {\n    try {\n      const steps = this.formatSwapSteps(rawStep)\n      return await this.multiSwap(steps, gasLimit)\n    } catch (e) {\n      throw e\n    }\n  }\n\n  getAddressByErc1155Address(address: string, TOKEN_R: string) {\n    if (isErc1155Address(address)) {\n      return address.split('-')[0]\n    }\n    if (\n      address === NATIVE_ADDRESS &&\n      TOKEN_R === this.config.addresses.wrapToken\n    ) {\n      return this.config.addresses.wrapToken\n    }\n\n    return address\n  }\n\n  getRouterContract(provider: any) {\n    return new ethers.Contract(\n      this.config.addresses.router as string,\n      UtrAbi,\n      provider,\n    )\n  }\n\n  getStateCalHelperContract(address: string, provider?: any) {\n    return new ethers.Contract(address, HelperAbi, provider || this.provider)\n  }\n\n  getPoolContract(poolAddress: string, provider?: any) {\n    return new ethers.Contract(poolAddress, PoolAbi, provider || this.provider)\n  }\n\n  getLogicContract(provider?: any) {\n    return new ethers.Contract(\n      <string>this.CURRENT_POOL.logicAddress,\n      LogicsAbi,\n      provider || this.provider,\n    )\n  }\n\n  getWrapContract(provider?: any) {\n    return new ethers.Contract(\n      this.config.addresses.wrapToken as string,\n      WtapAbi,\n      provider || this.provider,\n    )\n  }\n\n  encodePayload(\n    swapType: number,\n    sideIn: BigNumber,\n    sideOut: BigNumber,\n    amount: BigNumber,\n  ) {\n    const abiCoder = new ethers.utils.AbiCoder()\n    return abiCoder.encode(\n      ['uint', 'uint', 'uint', 'uint'],\n      [swapType, sideIn, sideOut, amount],\n    )\n  }\n}\n","import { ethers } from 'ethers'\nimport PairDetailAbi from '../abi/PairDetail.json'\nimport { DerivableContractAddress } from '../utils/configs'\nimport { ConfigType } from './setConfig'\n\nconst FLAG =\n  '0x0000110000000000000000000000000000000000000000000000000000000111'\n// type ConfigType = {\n//   chainId: number\n//   scanApi: string\n//   provider: ethers.providers.Provider\n// }\n\nexport class UniV2Pair {\n  chainId: number\n  scanApi?: string\n  provider: ethers.providers.Provider\n  constractAddresses: Partial<DerivableContractAddress>\n  constructor(config: ConfigType) {\n    const { chainId, scanApi, provider } = config\n    this.constractAddresses = config.addresses\n    this.chainId = chainId\n    this.scanApi = scanApi\n    this.provider = provider\n  }\n\n  async getPairInfo({\n    pairAddress,\n    flag = FLAG,\n  }: {\n    pairAddress: string\n    flag?: string\n  }) {\n    try {\n      const pairDetailContract = new ethers.Contract(\n        this.constractAddresses.pairsInfo as string,\n        PairDetailAbi,\n        this.provider,\n      )\n\n      const res = await pairDetailContract.functions.query([pairAddress], flag)\n      return res.details[0]\n    } catch (e) {\n      throw e\n    }\n  }\n\n  async getPairsInfo({\n    pairAddresses,\n    flag = FLAG,\n  }: {\n    flag?: string\n    pairAddresses: string[]\n  }) {\n    try {\n      const pairDetailContract = new ethers.Contract(\n        this.constractAddresses.pairsInfo as string,\n        PairDetailAbi,\n        this.provider,\n      )\n\n      const { details } = await pairDetailContract.functions.query(\n        pairAddresses,\n        flag,\n      )\n      const result = {}\n      for (let i = 0; i < pairAddresses.length; i++) {\n        result[pairAddresses[i]] = details[i]\n      }\n      return result\n    } catch (e) {\n      throw e\n    }\n  }\n}\n","import { ethers } from 'ethers'\nimport PairV3DetailAbi from '../abi/PairV3Detail.json'\nimport { JsonRpcProvider } from '@ethersproject/providers'\nimport { ConfigType } from './setConfig'\n\nconst FLAG =\n  '0x0000110000000000000000000000000000000000000000000000000000000111'\n// type ConfigType = {\n//   chainId: number\n//   scanApi: string\n//   provider: ethers.providers.Provider\n//   rpcUrl: string\n// }\n\nexport class UniV3Pair {\n  chainId: number\n  scanApi?: string\n  provider: ethers.providers.Provider\n  rpcUrl: string\n  pairsV3Info: string\n\n  constructor(config: ConfigType) {\n    const { chainId, scanApi, provider, rpcUrl } = config\n    const { pairsV3Info } = config.addresses\n    if (!pairsV3Info) {\n      throw new Error(`required pairsV3Info contract to be defined!`)\n    }\n    this.chainId = chainId\n    this.scanApi = scanApi\n    this.provider = provider\n    this.rpcUrl = rpcUrl\n    this.pairsV3Info = pairsV3Info\n  }\n\n  async getPairInfo({\n    pairAddress,\n    flag = FLAG,\n  }: {\n    pairAddress: string\n    flag?: string\n  }) {\n    try {\n      const provider = new JsonRpcProvider(this.rpcUrl)\n      // @ts-ignore\n      provider.setStateOverride({\n        [this.pairsV3Info]: {\n          code: PairV3DetailAbi.deployedBytecode,\n        },\n      })\n\n      const pairDetailContract = new ethers.Contract(\n        this.pairsV3Info,\n        PairV3DetailAbi.abi,\n        provider,\n      )\n\n      const res = await pairDetailContract.functions.query([pairAddress], flag)\n      return res.details[0]\n    } catch (e) {\n      throw e\n    }\n  }\n\n  async getPairsInfo({\n    pairAddresses,\n    flag = FLAG,\n  }: {\n    flag?: string\n    pairAddresses: string[]\n  }) {\n    try {\n      const provider = new JsonRpcProvider(this.rpcUrl)\n      // @ts-ignore\n      provider.setStateOverride({\n        [this.pairsV3Info]: {\n          code: PairV3DetailAbi.deployedBytecode,\n        },\n      })\n\n      const pairDetailContract = new ethers.Contract(\n        this.pairsV3Info,\n        PairV3DetailAbi.abi,\n        provider,\n      )\n\n      const { details } = await pairDetailContract.functions.query(\n        pairAddresses,\n        flag,\n      )\n      const result = {}\n      for (let i = 0; i < pairAddresses.length; i++) {\n        result[pairAddresses[i]] = {\n          token0: {\n            address: details[i].token0.adr,\n            name: details[i].token0.name,\n            symbol: details[i].token0.symbol,\n            decimal: details[i].token0.decimals.toNumber(),\n          },\n          token1: {\n            address: details[i].token1.adr,\n            name: details[i].token1.name,\n            symbol: details[i].token1.symbol,\n            decimal: details[i].token1.decimals.toNumber(),\n          },\n        }\n      }\n      return result\n    } catch (e) {\n      throw e\n    }\n  }\n}\n","import { Storage } from '../types'\nimport { Signer } from 'ethers'\n\nexport interface config {\n  chainId: number\n  rpcUrl: string\n  rpcToGetLogs: string\n  scanApi?: string\n  explorer?: string\n  scanName?: string\n  ddlGenesisBlock?: number\n  timePerBlock: number\n  theGraphExchange?: string\n  candleChartApi?: string\n  storage?: Storage\n  poolAddress?: string\n  nativeToken?: string\n  addresses: Partial<DerivableContractAddress>\n  stableCoins: string[]\n}\n\nexport interface DerivableContractAddress {\n  token: string\n  multiCall: string\n  reserveTokenPrice: string\n  uniswapFactory: string\n  pairsInfo: string\n  pairsV3Info: string\n  bnA: string\n  tokensInfo: string\n  router: string\n  wrapToken: string\n  wrapUsdPair: string\n  poolFactory: string\n  stateCalHelper: string\n  logic: string\n}\n\nexport const TESTNET_CONFIG: config = {\n  chainId: 1337,\n  rpcUrl: 'http://localhost:8545',\n  rpcToGetLogs: 'http://localhost:8545',\n  timePerBlock: 3000,\n  nativeToken: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n  addresses: {\n    reserveTokenPrice: '0x0000000000000000000000000000000000000001',\n    uniswapFactory: '0x2B528278eEEf8d30838fCC6297e6f28D4F03b1BD',\n    token: '0x2e10024346cDd08E1e9071B16a51d89d46de8003',\n    multiCall: '0x7AF7e1669Af4c76B566BFeC7AB722ba6dE0719A3',\n    pairsInfo: '0xa3030Cef13eFd3E625c576A622E6123Cf7B4006d',\n    pairsV3Info: '0x72d6D4aB65491cbF6DAF5D38838fdEBb7603f4B0',\n    bnA: '0x0748990Cd23F13545805295eD1aED30D9f335984',\n    tokensInfo: '0x2bdcF38cd1cb4db04ac6604ECaa02C2fbf1e13e2',\n    router: '0x4F1111145AB659CF9BBB45442F54A5D427783DaA',\n    wrapToken: '0x56403E93d5D593E29d47eE5C743058A5993FD2B3',\n    wrapUsdPair: '0x215bfCCF305135AbCAa18b9C0e9738924a53A0E6',\n    poolFactory: '0x964fD9F84e0e543648Bd1835A6A3A33DEbC7E0f8',\n    stateCalHelper: '0x270bf3040041160e309130d6AF61c1a7aBf2497D',\n    logic: '0xE1550e06C6759b48cD0a6f5851029A30a6Fee735',\n  },\n  stableCoins: ['0x8F98902cf8255ab9D403Dfa68875b1024cd6C3d4'],\n}\n\nexport const BNB_CONFIG: config = {\n  chainId: 56,\n  rpcUrl: 'https://bsc-dataseed.binance.org/',\n  rpcToGetLogs: 'https://bscrpc.com',\n  timePerBlock: 3000,\n  addresses: {\n    reserveTokenPrice: '0x0000000000000000000000000000000000000001',\n    uniswapFactory: '0x1F98431c8aD98523631AE4a59f267346ea31F984',\n    token: '0xc28A7e46bE1BB74a63aD32784D785A941D1954ab',\n    multiCall: '0x270bf3040041160e309130d6AF61c1a7aBf2497D',\n    pairsInfo: '0xF258e00021773b7603109887BF2eeb80d5C6f601',\n    pairsV3Info: '0x448816f124c9cE4234907566ECef78f95bdDaF5E',\n    bnA: '0xE0b291b76b78b1a73Da8F2Cc2e717267065bF95A',\n    tokensInfo: '0x7094BFd0db1b11Dd677831d4f9eB81bb15348c21',\n    router: '0x4F1111145AB659CF9BBB45442F54A5D427783DaA',\n    wrapToken: '0xaf9173D7fcd8f18d57Ea7EE2b3DeCF263C25679F',\n    wrapUsdPair: '0xBf4CC059DfF52AeFe7f12516e4CA4Bc691D97474',\n    poolFactory: '0x2B528278eEEf8d30838fCC6297e6f28D4F03b1BD',\n    stateCalHelper: '0x95a7d5edfD4701478D3ACA5DCb69D549D83E3c52',\n  },\n  stableCoins: ['0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d'],\n}\n\nexport const ARBITRUM_CONFIG: config = {\n  chainId: 42161,\n  rpcUrl: 'https://arb1.arbitrum.io/rpc',\n  rpcToGetLogs: 'https://arb1.arbitrum.io/rpc',\n  timePerBlock: 1000,\n  nativeToken: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n  addresses: {\n    reserveTokenPrice: '0xBf4CC059DfF52AeFe7f12516e4CA4Bc691D97474',\n    uniswapFactory: '0x1F98431c8aD98523631AE4a59f267346ea31F984',\n    token: '0x1BA630bEd23129aed65BFF106cd15C4B457a26e8',\n    stateCalHelper: '0x9401a34764E01B6556C89bA7ca4944a8907D4442',\n    multiCall: '0xcA11bde05977b3631167028862bE2a173976CA11',\n    pairsInfo: '0x81C8f6bC2a602B9Ad403116ab4c0EC1a0e5B49B1',\n    pairsV3Info: '0x81C8f6bC2a602B9Ad403116ab4c0EC1a0e5B49B1',\n    bnA: '0x357FF35761979254F93a21995b20d9071904603d',\n    tokensInfo: '0x696630d3aE600147902c71bF967ec3eb7a2C8b44',\n    router: '0xbc9a257e43f7b3b1a03aEBE909f15e95A4928834',\n    poolFactory: '0xF817EBA38BebD48a58AE38360306ea0E243077cd',\n    wrapToken: '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1',\n    wrapUsdPair: '0xCB0E5bFa72bBb4d16AB5aA0c60601c438F04b4ad',\n  },\n  stableCoins: [\n    '0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9',\n    '0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8',\n    '0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1',\n  ],\n}\n\nexport const DEFAULT_CONFIG = ARBITRUM_CONFIG\nexport const DEFAULT_CHAIN = 42161\n","export const LARGE_VALUE =\n  '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000'\nexport const NATIVE_ADDRESS = '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE'\nexport const fee10000 = 30\nexport const MINI_SECOND_PER_DAY = 86400000\nexport const LP_PRICE_UNIT = 10000\nexport const TIME_TO_REFRESH_STATE = 30000\nexport const CHART_API_ENDPOINT =\n  'https://api-chart-{chainId}.derivable.finance/'\n\nexport const LOCALSTORAGE_KEY = {\n  DDL_LOGS: 'ddl-log-v3.0',\n  LAST_BLOCK_DDL_LOGS: 'last-block-ddl-log-v3.0',\n  SWAP_LOGS: 'swap-log-v3.0',\n  SWAP_BLOCK_LOGS: 'last-block-swap-log-v3.0',\n}\n\nexport const ddlGenesisBlock = {\n  56: 23917200,\n  31337: 0,\n  42161: 107513624,\n}\n\nexport const POOL_IDS = {\n  cToken: 0x20000,\n  cp: 0x10000,\n  cw: 0x10001,\n  quote: 0x20001,\n  base: 0x20002,\n  token0: 262144,\n  token1: 262145,\n  native: 0x01,\n  R: 0x00,\n  A: 0x10,\n  B: 0x20,\n  C: 0x30,\n}\n\nexport const EventDataAbis = {\n  PoolCreated: [\n    'bytes32 ORACLE',\n    'uint k',\n    'uint MARK',\n    'uint INTEREST_HL',\n    'uint PREMIUM_RATE',\n    'uint MATURITY',\n    'uint MATURITY_VEST',\n    'uint MATURITY_RATE',\n    'uint OPEN_RATE',\n    'address poolAddress'\n  ],\n  Swap: [\n    'address payer',\n    'address poolIn',\n    'address poolOut',\n    'address recipient',\n    'uint sideIn',\n    'uint sideOut',\n    'uint amountIn',\n    'uint amountOut',\n  ],\n}\n","import { BigNumber, ethers, utils } from 'ethers'\nimport LogicAbi56 from '../abi/56/Logic.json'\nimport LogicAbi97 from '../abi/97/Logic.json'\nimport LogicAbi31337 from '../abi/31337/Logic.json'\nimport LogicAbi42161 from '../abi/31337/Logic.json'\nimport { TokenType } from '../types'\n\nconst LogicAbi = {\n  56: LogicAbi56,\n  97: LogicAbi97,\n  31337: LogicAbi31337,\n  42161: LogicAbi42161,\n}\nexport const provider = new ethers.providers.JsonRpcProvider(\n  'https://bsc-dataseed.binance.org/',\n)\n\nexport const bn = BigNumber.from\n\nexport const weiToNumber = (wei: any, decimal: number = 18) => {\n  if (!wei || !Number(wei)) return '0'\n  wei = wei.toString()\n  return utils.formatUnits(wei, decimal)\n}\n\nexport const numberToWei = (number: any, decimal: number = 18) => {\n  number = number.toString()\n\n  const arr = number.split('.')\n  if (arr[1] && arr[1].length > decimal) {\n    arr[1] = arr[1].slice(0, decimal)\n    number = arr.join('.')\n  }\n\n  return utils.parseUnits(number, decimal).toString()\n}\n\nexport const decodePowers = (powersBytes: string) => {\n  powersBytes = powersBytes.slice(6)\n  const raws: any = powersBytes.match(/.{1,4}/g)\n  const powers = []\n  for (let i = raws.length - 1; i >= 0; --i) {\n    let power = Number('0x' + raws[i])\n    if (power > 0x8000) {\n      power = 0x8000 - power\n    }\n    if (power !== 0) {\n      powers.push(power)\n    }\n  }\n  return powers\n}\n\nexport const formatMultiCallBignumber = (data: any) => {\n  return data.map((item: any) => {\n    if (item.type === 'BigNumber') {\n      item = bn(item.hex)\n    }\n\n    if (Array.isArray(item)) {\n      item = formatMultiCallBignumber(item)\n    }\n    return item\n  })\n}\n\nexport const getLogicAbi = (chainId: number) => {\n  return LogicAbi[chainId]\n}\n\nexport const getErc1155Token = (addresses: string[]) => {\n  const erc1155Addresses = addresses.filter(isErc1155Address)\n  const result = {}\n  for (let i = 0; i < erc1155Addresses.length; i++) {\n    const address = erc1155Addresses[i].split('-')[0]\n    const id = erc1155Addresses[i].split('-')[1]\n    if (!result[address]) {\n      result[address] = [bn(id)]\n    } else {\n      result[address].push(bn(id))\n    }\n  }\n  return result\n}\n\n/**\n * format of erc1155 = 0xabc...abc-id\n * @param address\n */\nexport const isErc1155Address = (address: string) => {\n  return /^0x[0-9,a-f,A-Z]{40}-[0-9]{1,}$/g.test(address)\n}\n\nexport const getNormalAddress = (addresses: string[]) => {\n  return addresses.filter((adr: string) => /^0x[0-9,a-f,A-Z]{40}$/g.test(adr))\n}\n\nexport const formatFloat = (number: number | string, decimal = 4) => {\n  number = number.toString()\n  const arr = number.split('.')\n  if (arr.length > 1) {\n    arr[1] = arr[1].slice(0, decimal)\n  }\n  return arr.join('.')\n}\n\nexport const formatPercent = (floatNumber: any, decimal: number = 2) => {\n  floatNumber = floatNumber.toString()\n  return formatFloat(weiToNumber(numberToWei(floatNumber), 16), decimal)\n}\n\nexport const mul = (a: any, b: any) => {\n  const result = weiToNumber(\n    BigNumber.from(numberToWei(a)).mul(numberToWei(b)),\n    36,\n  )\n  const arr = result.split('.')\n  arr[1] = arr[1]?.slice(0, 18)\n  return arr[1] ? arr.join('.') : arr.join('')\n}\n\nexport const sub = (a: any, b: any) => {\n  return weiToNumber(BigNumber.from(numberToWei(a)).sub(numberToWei(b)))\n}\n\nexport const div = (a: any, b: any) => {\n  if (!b || b.toString() === '0') {\n    return '0'\n  }\n  return weiToNumber(BigNumber.from(numberToWei(a, 36)).div(numberToWei(b)))\n}\n\nexport const add = (a: any, b: any) => {\n  return weiToNumber(BigNumber.from(numberToWei(a)).add(numberToWei(b)))\n}\n\nexport const detectDecimalFromPrice = (price: number | string) => {\n  if (Number(price || 0) === 0 || Number(price || 0) >= 1) {\n    return 4\n  } else {\n    const rate = !bn(numberToWei(price)).isZero()\n      ? weiToNumber(\n          BigNumber.from(numberToWei(1, 36)).div(numberToWei(price)).toString(),\n        )\n      : '0'\n    return rate.split('.')[0].length + 3\n  }\n}\n\nexport const packId = (kind: string, address: string) => {\n  const k = bn(kind)\n  return k.shl(160).add(address)\n}\n\nexport const parseUq128x128 = (value: BigNumber, unit = 1000) => {\n  return value.mul(unit).shr(112).toNumber() / unit\n}\n\nexport const parseSqrtSpotPrice = (\n  value: BigNumber,\n  token0: TokenType,\n  token1: TokenType,\n  quoteTokenIndex: number,\n) => {\n  let price = weiToNumber(\n    value.mul(value).mul(numberToWei(1, token0.decimal)).shr(256),\n    token1.decimal,\n  )\n  if (quoteTokenIndex === 0) {\n    price = weiToNumber(bn(numberToWei(1, 36)).div(bn(numberToWei(price))))\n  }\n  return formatFloat(price, 18)\n}\n\nexport const parseSqrtX96 = (\n  price: BigNumber,\n  baseToken: TokenType,\n  quoteToken: TokenType,\n) => {\n  return weiToNumber(\n    price\n      .mul(price)\n      .mul(numberToWei(1, baseToken.decimal + 18))\n      .shr(192),\n    quoteToken.decimal + 18,\n  )\n}\n\nconst isObject = (item: any) => {\n  return item && typeof item === 'object' && !Array.isArray(item)\n}\n\nexport const mergeDeep = (target: any, ...sources: any): any => {\n  if (!sources.length) return target\n  const source = sources.shift()\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} })\n        mergeDeep(target[key], source[key])\n      } else {\n        Object.assign(target, { [key]: source[key] })\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources)\n}\n","// eslint-disable-next-line no-unused-vars\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { initialState } from './type'\nexport const tokens = createSlice({\n  name: 'web3React',\n  initialState,\n  reducers: {\n    setAccount: (state, action: PayloadAction<{ account: string }>) => {\n      state.account = action.payload.account\n    },\n    setChainId: (state, action: PayloadAction<{ chainId: any }>) => {\n      state.chainId = action.payload.chainId\n    },\n    setActive: (state, action: PayloadAction<{ active: any }>) => {\n      state.active = action.payload.active\n    },\n    setProvider: (state, action: PayloadAction<{ provider: any }>) => {\n      state.provider = action.payload.provider\n    },\n    setShowWalletModalCallback: (\n      state,\n      action: PayloadAction<{ callback: () => void }>\n    ) => {\n      state.showConnectModal = action.payload.callback\n    }\n  }\n})\n\n// Actions\nexport const {\n  setShowWalletModalCallback,\n  setChainId,\n  setActive,\n  setProvider,\n  setAccount\n} = tokens.actions\n\nexport default tokens.reducer\n","export interface web3ReactState {\n  account: string\n  chainId: number | null\n  active: any\n  provider: any\n  showConnectModal: () => void\n}\n\nexport const initialState: web3ReactState = {\n  account: '',\n  chainId: null,\n  active: null,\n  provider: null,\n  showConnectModal: () => {}\n}\n","// eslint-disable-next-line no-unused-vars\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { initialState } from './type'\nimport { Engine } from 'derivable-tools/dist/engine'\nexport const tokens = createSlice({\n  name: 'configs',\n  initialState,\n  reducers: {\n    setConfigs: (\n      state,\n      action: PayloadAction<{\n        configs: any\n        chainId: number\n        useSubPage: any\n        language: string\n        location: any\n        useHistory: any\n        env: 'development' | 'production'\n      }>\n    ) => {\n      state.chainId = action.payload.chainId\n      state.env = action.payload.env\n      state.language = action.payload.language\n      state.useSubPage = action.payload.useSubPage\n      state.location = action.payload.location\n      state.useHistory = action.payload.useHistory\n      state.configs = action.payload.configs\n      state.initialledConfig = true\n    },\n\n    setEngine: (state, action: PayloadAction<{\n      engine: Engine\n    }>) => {\n      state.engine = action.payload.engine\n    }\n  }\n})\n\n// Actions\nexport const { setConfigs, setEngine } = tokens.actions\n\nexport default tokens.reducer\n","import { Engine } from 'derivable-tools/dist/engine'\n\nexport interface configsState {\n  chainId: number\n  useSubPage: any\n  language: string\n  location: any\n  useHistory: any\n  env: 'development' | 'production',\n  configs: {\n    addresses: {[key: string]: string}\n    rpcUrl: string\n    scanApi: string\n    ddlGenesisBlock: number\n    explorer: string\n    scanName: string\n    dTokens: string[]\n    powers: number[]\n  },\n  initialledConfig: boolean\n  engine?: Engine\n}\n\nexport const initialState: configsState = {\n  chainId: 56,\n  useSubPage: () => {},\n  language: 'en',\n  env: 'production',\n  location: {},\n  useHistory: () => {},\n  configs: {\n    addresses: {},\n    rpcUrl: '',\n    ddlGenesisBlock: 0,\n    scanApi: '',\n    explorer: '',\n    scanName: '',\n    dTokens: [],\n    powers: []\n  },\n  initialledConfig: false\n}\n","export interface currentPoolState {\n  baseToken: string\n  quoteToken: string\n  cToken: string\n  dTokens: string[]\n  logicAddress?: string\n  cTokenPrice: number\n  states: any\n  powers: number[]\n  basePrice: string\n  changedIn24h: number\n  poolAddress: string\n  baseId: number,\n  quoteId: number,\n  chartIsOutDate: boolean\n  candleChartIsLoading: boolean\n  chartTimeRange: {\n    from: number,\n    to: number\n  },\n  chartTimeFocus: number\n  chartResolutionIsUpdated: boolean\n}\n\nexport const initialState: currentPoolState = {\n  baseToken: '',\n  quoteToken: '',\n  cToken: '',\n  dTokens: [],\n  logicAddress: undefined,\n  cTokenPrice: 0,\n  baseId: 0,\n  quoteId: 0,\n  states: {},\n  powers: [],\n  basePrice: '0',\n  changedIn24h: 0,\n  poolAddress: '',\n  chartIsOutDate: false,\n  candleChartIsLoading: false,\n  chartTimeRange: {\n    from: 0,\n    to: 0\n  },\n  chartTimeFocus: 0,\n  chartResolutionIsUpdated: false\n}\n","// eslint-disable-next-line no-unused-vars\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { initialState } from './type'\n\nexport const tokens = createSlice({\n  name: 'pool',\n  initialState,\n  reducers: {\n    setChartIsOutDate: (state, action: PayloadAction<{\n      status: boolean\n    }>) => {\n      state.chartIsOutDate = action.payload.status\n    },\n    setCandleChartIsLoadingReduce: (state, action: PayloadAction<{\n      status: boolean\n    }>) => {\n      state.candleChartIsLoading = action.payload.status\n    },\n    setCurrentPoolInfo: (\n      state,\n      action: PayloadAction<{\n        baseToken: string\n        quoteToken: string\n        cToken: string\n        cTokenPrice: number\n        basePrice: string\n        baseId: number\n        quoteId: number\n        dTokens: string[]\n        logicAddress?: string\n        states: any,\n        powers: number[]\n        // changedIn24h: number\n        poolAddress: string\n      }>\n    ) => {\n      state.cTokenPrice = action.payload.cTokenPrice\n      state.cToken = action.payload.cToken\n      state.dTokens = action.payload.dTokens\n      state.logicAddress = action.payload.logicAddress\n      state.states = action.payload.states\n      state.powers = action.payload.powers\n      state.baseToken = action.payload.baseToken\n      state.quoteToken = action.payload.quoteToken\n      state.basePrice = action.payload.basePrice\n      // state.changedIn24h = action.payload.changedIn24h\n      state.poolAddress = action.payload.poolAddress\n      state.baseId = action.payload.baseId\n      state.quoteId = action.payload.quoteId\n    },\n    setChartTimeRange: (state, action: PayloadAction<{\n      timeRange: {from: number, to: number}\n    }>) => {\n      state.chartTimeRange = action.payload.timeRange\n    },\n    setChartTimeFocusReduce: (state, action: PayloadAction<{\n      time: number\n    }>) => {\n      state.chartTimeFocus = action.payload.time\n    },\n    setChartIntervalIsUpdated: (state, action: PayloadAction<{\n      status: boolean\n    }>) => {\n      state.chartResolutionIsUpdated = action.payload.status\n    }\n  }\n})\n\n// Actions\nexport const {\n  setChartTimeFocusReduce,\n  setChartIsOutDate,\n  setCurrentPoolInfo,\n  setCandleChartIsLoadingReduce,\n  setChartTimeRange,\n  setChartIntervalIsUpdated\n} = tokens.actions\n\nexport default tokens.reducer\n","import { BigNumber } from 'ethers'\n\nexport type BalancesType = { [key: string]: BigNumber }\nexport type AllowancesType = { [key: string]: BigNumber }\nexport type SwapTxType = {\n  transactionHash: string,\n  timeStamp: number,\n  oldBalances: {[key: number]: BigNumber},\n  newBalances: {[key: number]: BigNumber},\n  cAmount: BigNumber,\n  cp: BigNumber,\n  newLeverage: number,\n  oldLeverage: number,\n}\n\nexport interface walletState {\n  account: string\n  balances: BalancesType\n  swapLogs: {[key: string]: any[] }\n  formartedSwapLogs: any[]\n  routerAllowances: AllowancesType\n}\n\nexport const initialState: walletState = {\n  account: '',\n  balances: {},\n  swapLogs: {},\n  formartedSwapLogs: [],\n  routerAllowances: {}\n}\n","// eslint-disable-next-line no-unused-vars\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport {\n  AllowancesType,\n  BalancesType,\n  initialState\n} from './type'\nimport _ from 'lodash'\n\nexport const tokens = createSlice({\n  name: 'wallet',\n  initialState,\n  reducers: {\n    resetBnA: (state) => {\n      state.balances = {}\n      state.routerAllowances = {}\n      state.account = ''\n    },\n    updateSwapTxs: (state, action: PayloadAction<{\n      account: string,\n      swapLogs: any\n    }>) => {\n      if (!action.payload.account) return\n      const logs = state.swapLogs[action.payload.account] ? [\n        ...action.payload.swapLogs,\n        ...state.swapLogs[action.payload.account]\n      ] : action.payload.swapLogs\n\n      state.swapLogs[action.payload.account] = _.uniqBy(logs, (l) => l.logIndex)\n    },\n    updateFormatedSwapTxs: (state, action: PayloadAction<{\n      swapTxs: any\n    }>) => {\n      const logs = _.uniqBy(action.payload.swapTxs, (l: any) => l.transactionHash)\n      if (_.differenceBy(logs, state.formartedSwapLogs, 'transactionHash').length) {\n        state.formartedSwapLogs = logs\n      }\n    },\n    updateBalanceAndAllowancesReduce: (\n      state,\n      action: PayloadAction<{\n        balances: BalancesType,\n        routerAllowances: AllowancesType,\n        account: string,\n      }>\n    ) => {\n      if (action.payload.account !== state.account) {\n        state.balances = action.payload.balances\n        state.routerAllowances = action.payload.routerAllowances\n        state.account = action.payload.account\n      } else {\n        state.balances = {\n          ...state.balances,\n          ...action.payload.balances\n        }\n        state.routerAllowances = {\n          ...state.routerAllowances,\n          ...action.payload.routerAllowances\n        }\n      }\n    }\n  }\n})\n\n// Actions\nexport const {\n  resetBnA,\n  updateBalanceAndAllowancesReduce,\n  updateSwapTxs,\n  updateFormatedSwapTxs\n} = tokens.actions\n\nexport default tokens.reducer\n","// eslint-disable-next-line no-unused-vars\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { initialState, TokenType } from './type'\nexport const tokens = createSlice({\n  name: 'tokens',\n  initialState,\n  reducers: {\n    addTokensReduce: (state, action: PayloadAction<{\n      tokens: TokenType[],\n      chainId: number\n    }>) => {\n      if (action.payload.tokens.length === 0) return\n      const newToken = {}\n      const tokens = action.payload.tokens\n      for (let i = 0; i < tokens.length; i++) {\n        newToken[tokens[i].address] = tokens[i]\n      }\n      state.tokens[action.payload.chainId] = {\n        ...state.tokens[action.payload.chainId],\n        ...newToken\n      }\n    }\n  }\n})\n\n// Actions\nexport const {\n  addTokensReduce\n} = tokens.actions\n\nexport default tokens.reducer\n","// import configs from '../config/configs'\n\nexport interface TokenType {\n  decimal: number\n  name: string\n  symbol: string\n  icon?: string\n  logo?: string\n  address: string\n  isWhiteList?: boolean\n  isCustomToken?: boolean\n  value?: string\n  hideInSearchModal?: boolean\n}\n\nexport type ListTokensType = { [key: string]: TokenType }\n\nexport interface tokensState {\n  tokens: {\n    [key: number]: ListTokensType\n  }\n}\n\nexport const initialState: tokensState = {\n  tokens: {\n    56: {},\n    42161: {},\n    31337: {},\n    97: {}\n  }\n}\n","import { BigNumber } from 'ethers'\nimport { ListTokensType } from '../token/type'\n\nexport type BalancesType = { [key: string]: BigNumber }\nexport type AllowancesType = { [key: string]: BigNumber }\n\nexport type ParseLogType = {\n  address: string\n  name: string\n  topic: string\n  args: any\n}\nexport type PoolType = {\n  pool: string,\n  logic: string,\n  cTokenPrice: number,\n  baseSymbol: string\n  states: any\n  baseToken: string,\n  quoteToken: string,\n  cToken: string,\n  powers: number[]\n  dTokens: string[]\n  priceToleranceRatio: BigNumber\n  quoteSymbol: string\n  rentRate: BigNumber\n  deleverageRate: BigNumber\n  poolAddress: string\n  quoteId: number,\n  baseId: number,\n  basePrice: string\n  cPrice: number,\n  ORACLE: string,\n  MARK: BigNumber,\n  INIT_TIME: BigNumber\n  TOKEN_R: string\n}\n\nexport type PoolGroupType = any\n\nexport interface poolsState {\n  poolGroups: {\n    [key: number]: {[key: string]: PoolGroupType}\n  },\n  pools: {\n    [key: number]: {[key: string]: PoolType}\n  },\n  tokens: {\n    [key: string]: ListTokensType\n  },\n  prices: {\n    [key: number]: {[key: string]: BigNumber}\n  },\n  swapLogs: {[key: string]: any[] }\n}\nconst initDataEachChain = {\n  56: {},\n  31337: {},\n  1337: {},\n  97: {},\n  42161: {}\n}\n\nexport const initialState: poolsState = {\n  poolGroups: initDataEachChain,\n  pools: initDataEachChain,\n  tokens: initDataEachChain,\n  prices: initDataEachChain,\n  swapLogs: {\n  }\n}\n","// eslint-disable-next-line no-unused-vars\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { initialState, PoolType } from './type'\nimport { BigNumber } from 'ethers'\nexport const tokens = createSlice({\n  name: 'pools',\n  initialState,\n  reducers: {\n    addPoolGroupsWithChain: (state, action: PayloadAction<{\n      poolGroups: {[key: string]: PoolType},\n      chainId: number\n    }>) => {\n      if (Object.keys(action.payload.poolGroups).length === 0) return\n      state.poolGroups[action.payload.chainId] = {\n        ...state[action.payload.chainId],\n        ...action.payload.poolGroups\n      }\n    },\n    addPoolsWithChain: (state, action: PayloadAction<{\n      pools: {[key: string]: PoolType},\n      chainId: number\n    }>) => {\n      if (Object.keys(action.payload.pools).length === 0) return\n      state.pools[action.payload.chainId] = {\n        ...state[action.payload.chainId],\n        ...action.payload.pools\n      }\n    },\n    addTokenPriceWithChain: (state, action: PayloadAction<{\n      prices: {[key: string]: BigNumber},\n      chainId: number\n    }>) => {\n      if (Object.keys(action.payload.prices).length === 0) return\n      state.prices[action.payload.chainId] = {\n        ...state[action.payload.chainId],\n        ...action.payload.prices\n      }\n    }\n  }\n})\n\n// Actions\nexport const {\n  addPoolsWithChain,\n  addPoolGroupsWithChain,\n  addTokenPriceWithChain\n} = tokens.actions\n\nexport default tokens.reducer\n","import { createStore, applyMiddleware, combineReducers } from 'redux'\nimport thunk from 'redux-thunk'\nimport customWeb3ReactReduce from './customWeb3React/reducer'\nimport configReduce from './config/reducer'\nimport currentPoolReduce from './currentPool/reducer'\nimport walletReduce from './wallet/reducer'\nimport tokenReduce from './token/reducer'\nimport poolsReduce from './pools/reducer'\n\nexport const store = createStore(\n  combineReducers({\n    pools: poolsReduce,\n    web3React: customWeb3ReactReduce,\n    configs: configReduce,\n    currentPool: currentPoolReduce,\n    wallet: walletReduce,\n    tokens: tokenReduce\n  }),\n  applyMiddleware(thunk)\n)\n","import { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\nimport {\n  setAccount, setActive,\n  setChainId,\n  setProvider,\n  setShowWalletModalCallback\n} from './reducer'\n\nexport const useInitWeb3React = (\n  web3ReactData: any,\n  showConnectWalletModal: () => void\n) => {\n  const { library, chainId, account, active } = web3ReactData()\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(setActive({ active }))\n    dispatch(setAccount({ account }))\n    dispatch(setChainId({ chainId }))\n    dispatch(setProvider({ provider: library }))\n    dispatch(setShowWalletModalCallback({ callback: showConnectWalletModal }))\n  }, [library, chainId, account])\n}\n\nexport const useWeb3React = () => {\n  const { active, provider, chainId, account, showConnectModal, connectWallet, library } = useSelector(\n    (state: any) => {\n      return {\n        active: state.web3React.active,\n        chainId: state.web3React.chainId,\n        account: state.web3React.account,\n        provider: state.web3React.provider,\n        library: state.web3React.provider,\n        showConnectModal: state.web3React.showConnectModal,\n        connectWallet: state.web3React.showConnectModal\n      }\n    }\n  )\n\n  return { active, provider, chainId, account, connectWallet, showConnectModal, library }\n}\n","export default {\n  56: {\n    rpcUrl: 'https://bsc-dataseed.binance.org/',\n    rpcToGetLogs: 'https://bscrpc.com',\n    scanApi: 'https://api.bscscan.com/api',\n    explorer: 'https://bscscan.com',\n    scanName: 'BscScan',\n    ddlGenesisBlock: 23917200,\n    timePerBlock: 3000,\n    // theGraphExchange: 'https://thegraph.com/hosted-service/subgraph/olastenberg/sushiswap-arbitrum-fix',\n    // theGraphExchange: 'https://thegraph.com/hosted-service/subgraph/developerfred/pancake-exchange',\n    theGraphExchange: 'https://data-platform.nodereal.io/graph/v1/95e657b8187749b5b5645487c7dd8bc5/projects/pancakeswap',\n    candleChartApi: 'https://api.lz.finance/56/chart/',\n    nativeToken: {\n      name: 'BNB',\n      symbol: 'BNB',\n      decimal: 18,\n      address: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE'\n    },\n    addresses: {\n      multiCall: '0xC50F4c1E81c873B2204D7eFf7069Ffec6Fbe136D',\n      tokensInfo: '0x6B451b1bdaa7088467961FC0370d4049DF1C2E4d',\n      pairsInfo: '0xf7Eb29dFfcDb11BC82D094e3bffA3E5764117A22',\n      bnA: '0xA0c0Da3e41c401A601c7c93C4036773B5Ac47be2',\n      wrapToken: '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c',\n      nativeToken: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n      wrapUsdPair: '0x58F876857a02D6762E0101bb5C46A8c1ED44Dc16',\n      poolFactory: '0xfead51eBe15ba6E16586d59fEFa7249E5E1B6355',\n      router: '0x2B1a5571C00B032d3bF0ca3271CdAa73b1cc6e5c'\n    }\n  },\n  31337: {\n    rpcUrl: 'http://localhost:8545/',\n    rpcToGetLogs: 'http://localhost:8545/',\n    explorer: 'https://bscscan.com',\n    scanApi: '',\n    scanName: 'Localhost Scan',\n    ddlGenesisBlock: 0,\n    timePerBlock: 3000,\n    nativeToken: {\n      name: 'BNB',\n      symbol: 'BNB',\n      decimal: 18,\n      address: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE'\n    },\n    addresses: {\n      multiCall: '0x3bc605DBD3f9d8e9B6FACdfc6548f8BD3b0f0Af5',\n      tokensInfo: '0xD633ee476cfD10B300F20ae23ABAebf4B35BE18F',\n      pairsInfo: '0x82fcaa6c2C9D103b916d4E3bfbDc8DCD8637875E',\n      bnA: '0x66c409EB2937C9627Db0622D48DC8B4982fC58D6',\n      wrapToken: '0xB29439A682eBa17df241944D5eFAE0f44fcf431B',\n      nativeToken: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n      poolFactory: '0x2A539728626a96a800833B4133Da061c637CCA5B',\n      router: '0xdBa9451aC3f3a4a5171715EB5B776316aA474E62'\n    }\n  },\n  1337: {\n    rpcUrl: 'http://localhost:8545/',\n    rpcToGetLogs: 'http://localhost:8545/',\n    explorer: 'https://bscscan.com',\n    scanApi: '',\n    scanName: 'Localhost Scan',\n    ddlGenesisBlock: 0,\n    timePerBlock: 3000,\n    nativeToken: {\n      name: 'ETH',\n      symbol: 'ETH',\n      decimal: 18,\n      address: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE'\n    },\n    addresses: {\n      nativeToken: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n      quoteToken: '0x8F98902cf8255ab9D403Dfa68875b1024cd6C3d4',\n      multiCall: '0xE0b291b76b78b1a73Da8F2Cc2e717267065bF95A',\n      pairsInfo: '0x448816f124c9cE4234907566ECef78f95bdDaF5E',\n      bnA: '0xF258e00021773b7603109887BF2eeb80d5C6f601',\n      tokensInfo: '0xE1550e06C6759b48cD0a6f5851029A30a6Fee735',\n      router: '0x4F1111145AB659CF9BBB45442F54A5D427783DaA',\n      wrapToken: '0xaf9173D7fcd8f18d57Ea7EE2b3DeCF263C25679F',\n      wrapUsdPair: '0x1C26520758F364237AE9AD0c7d2C0d59565669F8'\n    }\n  },\n  97: {\n    rpcUrl: 'https://data-seed-prebsc-1-s1.binance.org:8545/',\n    rpcToGetLogs: 'https://data-seed-prebsc-1-s1.binance.org:8545/',\n    explorer: 'https://testnet.bscscan.com',\n    scanApi: 'https://api-testnet.bscscan.com/api',\n    scanName: 'BSC test Scan',\n    ddlGenesisBlock: 0,\n    timePerBlock: 3000,\n    nativeToken: {\n      name: 'BNB',\n      symbol: 'BNB',\n      decimal: 18,\n      address: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE'\n    },\n    addresses: {\n      multiCall: '0x73CCde5acdb9980f54BcCc0483B28B8b4a537b4A',\n      tokensInfo: '0xE48cD6883C0B17aD3C9C321F6afB4d7f4708D647',\n      pairsInfo: '0x010AfBf77C86d39949710789d1e4bcC5AB141DBb',\n      bnA: '0x6A1a4e301E7634F2D14aEbDD6b38ec2fC6cec731',\n      wrapToken: '0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd',\n      nativeToken: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n      poolFactory: '0xd9Ba0343BED07AE5764c77d7e54d7C3EBaBcC8bC',\n      router: '0xace397FBf3fA9f672b014C995Eb579317D55592d'\n    }\n  },\n  42161: {\n    rpcUrl: 'https://arb1.arbitrum.io/rpc',\n    rpcToGetLogs: 'https://arb1.arbitrum.io/rpc',\n    explorer: 'https://arbiscan.io',\n    scanApi: 'https://api.arbiscan.io/api',\n    candleChartApi: 'https://api.lz.finance/56/chart/',\n    // theGraphExchange: 'https://api.thegraph.com/subgraphs/name/sushi-v2/sushiswap-arbitrum',\n    theGraphExchange: 'https://api.thegraph.com/subgraphs/name/sushiswap/arbitrum-exchange',\n    scanName: 'Arbitrum Scan',\n    ddlGenesisBlock: 70615018,\n    timePerBlock: 1000,\n    nativeToken: {\n      name: 'ETH',\n      symbol: 'ETH',\n      decimal: 18,\n      address: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE'\n    },\n    addresses: {\n      multiCall: '0x07BBBb79619a45D041549Baf8Ee7A60376d649cf',\n      tokensInfo: '0x696630d3aE600147902c71bF967ec3eb7a2C8b44',\n      pairsInfo: '0x81C8f6bC2a602B9Ad403116ab4c0EC1a0e5B49B1',\n      bnA: '0x357FF35761979254F93a21995b20d9071904603d',\n      wrapToken: '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1',\n      nativeToken: '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n      poolFactory: '0x848389D3c869dEF538b148cE5864eFee71C868e1',\n      router: '0xbc9a257e43f7b3b1a03aEBE909f15e95A4928834'\n    },\n    stableCoins: [\n      '0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8',\n      '0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9',\n      '0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1'\n    ]\n  }\n}\n","export const LARGE_VALUE =\n  '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000'\nexport const NATIVE_ADDRESS = '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE'\nexport const fee10000 = 30\nexport const SECONDS_PER_DAY = 60 * 60 * 24\nexport const MINI_SECOND_PER_DAY = 86400000\nexport const LP_PRICE_UNIT = 10000\nexport const TIME_TO_REFRESH_STATE = 30000\nexport const DEFAULT_CHAIN = 1337\nexport const CHAINS = {\n  LOCAL: 31337,\n  GANACHE: 1337,\n  BSC: 56\n}\n\nexport const LOCALSTORAGE_KEY = {\n  DDL_LOGS: 'ddl-log-v1.0',\n  LAST_BLOCK_DDL_LOGS: 'last-block-ddl-log-v1.0',\n  SWAP_LOGS: 'swap-log-v1.0',\n  SWAP_BLOCK_LOGS: 'last-block-swap-log-v1.0'\n}\n\nexport const SWAP_TAB = {\n  EXPOSURE: Symbol('exposure'),\n  SWAP: Symbol('swap')\n}\n\nexport const LIQUIDITY_TAB = {\n  ADD: Symbol('add'),\n  REMOVE: Symbol('remove')\n}\n\nexport const CHART_API_ENDPOINT = 'https://api.lz.finance/56/chart/'\nexport const LASTEST_BLOCK_NUMBER = 99999999999999999\n\nexport const POOL_IDS = {\n  cToken: 131072,\n  cp: 65536,\n  token0: 262144,\n  token1: 262145,\n  native: '0x000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',\n  R: 0x00,\n  A: 0x10,\n  B: 0x20,\n  C: 0x30\n}\n\nexport const COLORS = {\n  BUY: '#3DBAA2',\n  SELL: '#FF7A68'\n}\n","import { useSelector } from 'react-redux'\nimport { State } from '../types'\nimport configs from './configs'\nimport { DEFAULT_CHAIN } from '../../utils/constant'\n\nexport const useConfigs = () => {\n  const { engine, initialledConfig, location, useHistory, chainId, useSubPage, language, env } = useSelector(\n    (state: State) => {\n      return {\n        engine: state.configs.engine,\n        initialledConfig: state.configs.initialledConfig,\n        chainId: state.configs.chainId,\n        useSubPage: state.configs.useSubPage,\n        language: state.configs.language,\n        location: state.configs.location,\n        useHistory: state.configs.useHistory,\n        env: state.configs.env\n      }\n    }\n  )\n\n  return {\n    initialledConfig,\n    chainId,\n    useSubPage,\n    language,\n    env,\n    location,\n    useHistory,\n    configs: configs[chainId || DEFAULT_CHAIN],\n    ddlEngine: engine\n  }\n}\n","import React, { Fragment } from 'react'\nimport { useInitWeb3React } from './state/customWeb3React/hook'\nimport { useInitConfig } from './state/config/useInitConfig'\nimport { useConfigs } from './state/config/useConfigs'\nimport { DEFAULT_CHAIN } from './utils/constant'\n\nexport const InitConfig = ({\n  useWeb3React,\n  useSubPage,\n  xStorageClient,\n  language,\n  showConnectWalletModal,\n  env,\n  children,\n  useHistory,\n  useLocation\n}: any) => {\n  const { initialledConfig } = useConfigs()\n  const { chainId, library, account } = useWeb3React()\n  useInitWeb3React(useWeb3React, showConnectWalletModal)\n  useInitConfig({\n    chainId: chainId || DEFAULT_CHAIN,\n    library,\n    env,\n    language,\n    useSubPage,\n    useHistory,\n    useLocation,\n    account\n  })\n  if (initialledConfig) {\n    return <Fragment>{children}</Fragment>\n  }\n  return <div>loading</div>\n}\n","import { useDispatch } from 'react-redux'\nimport { useEffect } from 'react'\nimport { setConfigs, setEngine } from './reducer'\nimport configs from './configs'\nimport { addTokensReduce } from '../token/reducer'\nimport { Engine } from 'derivable-tools/dist/engine'\nimport { DEFAULT_CHAIN } from '../../utils/constant'\n\nexport const useInitConfig = ({\n  library,\n  chainId,\n  useSubPage,\n  language,\n  useLocation,\n  useHistory,\n  env,\n  account\n}: {\n  library: any\n  useLocation: any\n  useHistory: any\n  chainId: number\n  useSubPage: any\n  language: string\n  account: string\n  env: 'development' | 'production'\n}) => {\n  const dispatch = useDispatch()\n  const location = useLocation()\n\n  useEffect(() => {\n    dispatch(\n      addTokensReduce({\n        tokens: [configs[chainId || DEFAULT_CHAIN].nativeToken],\n        chainId: chainId || DEFAULT_CHAIN\n      })\n    )\n    dispatch(\n      setConfigs({\n        configs: configs[chainId || DEFAULT_CHAIN],\n        chainId: chainId || DEFAULT_CHAIN,\n        useSubPage,\n        language,\n        env,\n        location,\n        useHistory\n      })\n    )\n  }, [location, useHistory, chainId, useSubPage, language, env])\n\n  useEffect(() => {\n    if (!chainId) return\n    if (!account) {\n      return console.log('=======await sync account========')\n    }\n    const engine = new Engine(\n      account,\n      {\n        storage: {\n          // @ts-ignore\n          setItem: (itemName, value) => localStorage.setItem(itemName, value),\n          // @ts-ignore\n          getItem: (itemName) => localStorage.getItem(itemName)\n        },\n        signer: library?.getSigner(),\n        ...configs[chainId || DEFAULT_CHAIN],\n        account\n      },\n      chainId\n    )\n    dispatch(setEngine({ engine }))\n  }, [library, account, chainId])\n}\n","import { useDispatch, useSelector } from 'react-redux'\nimport { State } from '../types'\nimport { useConfigs } from '../config/useConfigs'\nimport { addTokensReduce } from './reducer'\nimport { TokenType } from './type'\n\nexport const useListTokens = () => {\n  const { chainId } = useConfigs()\n  const { tokens } = useSelector(\n    (state: State) => {\n      return {\n        tokens: state.tokens.tokens\n      }\n    }\n  )\n  const dispatch = useDispatch()\n\n  const addTokenToList = (token: TokenType) => {\n    dispatch(addTokensReduce({ tokens: [token], chainId }))\n  }\n\n  return {\n    tokens: tokens[chainId],\n    addTokenToList\n  }\n}\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import { BigNumber, ethers, utils } from 'ethers'\n\nexport const bn = ethers.BigNumber.from\n\nexport const shortenAddressString = (address: string) => {\n  return address.slice?.(0, 6) + '...' + address.slice?.(address.length - 4, address.length)\n}\n\nexport const weiToNumber = (wei: any, decimal: number = 18, decimalToDisplay?: number): string => {\n  if (!wei || !Number(wei)) return '0'\n  wei = wei.toString()\n  const result = utils.formatUnits(wei, decimal)\n  const num = result.indexOf('.') === result.length - 1\n    ? result.slice(0, -1)\n    : result\n  if (decimalToDisplay) {\n    return num.slice(0, result.indexOf('.') + decimalToDisplay)\n  }\n  return num\n}\nexport const numberToWei = (number: any, decimal: number = 18) => {\n  if (!number) return '0'\n  number = number.toString()\n\n  const arr = number.split('.')\n  if (arr[1] && arr[1].length > decimal) {\n    arr[1] = arr[1].slice(0, decimal)\n    number = arr.join('.')\n  }\n\n  return utils.parseUnits(number, decimal).toString()\n}\n\nexport const maxBN = (a: BigNumber, b: BigNumber) => {\n  if (a.gt(b)) {\n    return a\n  }\n  return b\n}\n\nexport const minBN = (a: BigNumber, b: BigNumber) => {\n  if (a.lt(b)) {\n    return a\n  }\n  return b\n}\n\nexport function overrideContract(provider: any, deployedBytecode: string) {\n  if (typeof provider.setStateOverride === 'undefined') {\n    throw 'provider: state override not supported'\n  }\n  const address = ethers.utils.keccak256(deployedBytecode).substring(0, 42)\n  provider.setStateOverride({\n    ...provider.getStateOverride(),\n    [address]: { code: deployedBytecode }\n  })\n  return address\n}\n\nexport const parseCallStaticError = (error: any) => {\n  const message = error.data?.message\n    ? error.data?.message?.replace('check error: ', '') || 'Error'\n    : error.message\n  if (message.includes('reverted with reason string')) {\n    const arr = message.split('reason=\"')\n    const m = arr[1]\n    return m?.split('\"')[0]\n  } else if (message.includes('insufficient funds for transfer')) {\n    return 'insufficient funds for transfer'\n  } else if (message.includes('insufficient funds for gas * price + value')) {\n    return 'insufficient funds for gas * price + value'\n  } else if (message.includes('VM Exception while processing transaction:')) {\n    const arr = message.split('VM Exception while processing transaction:')\n    const m = arr[1]\n    return m?.split('[')[0]?.replace('reverted with', '').trim()\n  }\n  return message\n}\n\nexport const formatFloat = (number: number | string, decimal?: number) => {\n  if (!decimal) {\n    decimal = detectDecimalFromPrice(number)\n  }\n\n  number = number.toString()\n  const arr = number.split('.')\n  if (arr.length > 1) {\n    arr[1] = arr[1].slice(0, decimal)\n  }\n  return Number(arr.join('.'))\n}\n\nexport const mul = (a: any, b: any) => {\n  const result = weiToNumber(\n    BigNumber.from(numberToWei(a)).mul(numberToWei(b)),\n    36\n  )\n  const arr = result.split('.')\n  arr[1] = arr[1]?.slice(0, 18)\n  return arr[1] ? arr.join('.') : arr.join('')\n}\n\nexport const sub = (a: any, b: any) => {\n  return weiToNumber(BigNumber.from(numberToWei(a)).sub(numberToWei(b)))\n}\n\nexport const div = (a: any, b: any) => {\n  if (!b || b.toString() === '0') {\n    return '0'\n  }\n  return weiToNumber(BigNumber.from(numberToWei(a, 36)).div(numberToWei(b)))\n}\n\nexport const add = (a: any, b: any) => {\n  return weiToNumber(BigNumber.from(numberToWei(a)).add(numberToWei(b)))\n}\n\nexport const formatPercent = (floatNumber: any, decimal: number = 2) => {\n  floatNumber = floatNumber.toString()\n  return formatFloat(weiToNumber(numberToWei(floatNumber), 16), decimal)\n}\n\nexport const getNormalAddress = (addresses: string[]) => {\n  return addresses.filter((adr: string) => /^0x[0-9,a-f,A-Z]{40}$/g.test(adr))\n}\n\n/**\n *\n * @param addresses address with format 0x...-id\n * example 0x72bB2D0F05D6b0c346023f978F6fA19e9e3c353c-0\n */\nexport const getErc1155Token = (addresses: string[]) => {\n  const erc1155Addresses = addresses.filter(isErc1155Address)\n  const result = {}\n  for (let i = 0; i < erc1155Addresses.length; i++) {\n    const address = erc1155Addresses[i].split('-')[0]\n    const id = erc1155Addresses[i].split('-')[1]\n    if (!result[address]) {\n      result[address] = [bn(id)]\n    } else {\n      result[address].push(bn(id))\n    }\n  }\n  return result\n}\n\nexport const isErc1155Address = (address: string) => {\n  return /^0x[0-9,a-f,A-Z]{40}-[0-9]{1,}$/g.test(address)\n}\n\nexport const decodeErc1155Address = (address: string) => {\n  return {\n    address: address.split('-')[0],\n    id: address.split('-')[1]\n  }\n}\n\nexport const parseUq112x112 = (value: BigNumber, unit = 1000) => {\n  return value.mul(unit).shr(112).toNumber() / unit\n}\n\nexport const formatMultiCallBignumber = (data: any) => {\n  return data.map((item: any) => {\n    if (item.type === 'BigNumber') {\n      item = bn(item.hex)\n    }\n\n    if (Array.isArray(item)) {\n      item = formatMultiCallBignumber(item)\n    }\n    return item\n  })\n}\n\nexport const formatDate = (timestamp: number) => {\n  if (!timestamp) return ''\n\n  const date = new Date(timestamp)\n  const d = date.getDate()\n  const m = date.getMonth() + 1 // Month from 0 to 11\n  const y = date.getFullYear()\n  return y + '-' + (m <= 9 ? '0' + m : m) + '-' + (d <= 9 ? '0' + d : d)\n}\n\nexport const formatTime = (timestamp: number) => {\n  if (!timestamp) return ''\n\n  const date = new Date(timestamp)\n  const h = date.getHours()\n  const m = date.getMinutes() + 1 // Month from 0 to 11\n  const s = date.getSeconds()\n  return (\n    (h <= 9 ? '0' + h : h) +\n    ':' +\n    (m <= 9 ? '0' + m : m) +\n    ':' +\n    (s <= 9 ? '0' + s : s)\n  )\n}\n\nexport const detectDecimalFromPrice = (price: number | string) => {\n  if (Number(price || 0) === 0 || Number(price || 0) >= 1) {\n    return 4\n  } else {\n    const rate = !bn(numberToWei(price)).isZero()\n      ? weiToNumber(\n        BigNumber.from(numberToWei(1, 36)).div(numberToWei(price)).toString()\n      )\n      : '0'\n    return rate.split('.')[0].length + 3\n  }\n}\n\nexport const cutDecimal = (number: string, decimal?: number) => {\n  if (!decimal) {\n    decimal = detectDecimalFromPrice(number)\n  }\n\n  number = number.toString()\n  const arr = number.split('.')\n  if (arr.length > 1) {\n    arr[1] = arr[1].slice(0, decimal)\n  }\n  return arr.join('.')\n}\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","\"use strict\";\nlet _permanentCensorErrors = false;\nlet _censorErrors = false;\nconst LogLevels = { debug: 1, \"default\": 2, info: 2, warning: 3, error: 4, off: 5 };\nlet _logLevel = LogLevels[\"default\"];\nimport { version } from \"./_version\";\nlet _globalLogger = null;\nfunction _checkNormalize() {\n    try {\n        const missing = [];\n        // Make sure all forms of normalization are supported\n        [\"NFD\", \"NFC\", \"NFKD\", \"NFKC\"].forEach((form) => {\n            try {\n                if (\"test\".normalize(form) !== \"test\") {\n                    throw new Error(\"bad normalize\");\n                }\n                ;\n            }\n            catch (error) {\n                missing.push(form);\n            }\n        });\n        if (missing.length) {\n            throw new Error(\"missing \" + missing.join(\", \"));\n        }\n        if (String.fromCharCode(0xe9).normalize(\"NFD\") !== String.fromCharCode(0x65, 0x0301)) {\n            throw new Error(\"broken implementation\");\n        }\n    }\n    catch (error) {\n        return error.message;\n    }\n    return null;\n}\nconst _normalizeError = _checkNormalize();\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[\"DEBUG\"] = \"DEBUG\";\n    LogLevel[\"INFO\"] = \"INFO\";\n    LogLevel[\"WARNING\"] = \"WARNING\";\n    LogLevel[\"ERROR\"] = \"ERROR\";\n    LogLevel[\"OFF\"] = \"OFF\";\n})(LogLevel || (LogLevel = {}));\nexport var ErrorCode;\n(function (ErrorCode) {\n    ///////////////////\n    // Generic Errors\n    // Unknown Error\n    ErrorCode[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n    // Not Implemented\n    ErrorCode[\"NOT_IMPLEMENTED\"] = \"NOT_IMPLEMENTED\";\n    // Unsupported Operation\n    //   - operation\n    ErrorCode[\"UNSUPPORTED_OPERATION\"] = \"UNSUPPORTED_OPERATION\";\n    // Network Error (i.e. Ethereum Network, such as an invalid chain ID)\n    //   - event (\"noNetwork\" is not re-thrown in provider.ready; otherwise thrown)\n    ErrorCode[\"NETWORK_ERROR\"] = \"NETWORK_ERROR\";\n    // Some sort of bad response from the server\n    ErrorCode[\"SERVER_ERROR\"] = \"SERVER_ERROR\";\n    // Timeout\n    ErrorCode[\"TIMEOUT\"] = \"TIMEOUT\";\n    ///////////////////\n    // Operational  Errors\n    // Buffer Overrun\n    ErrorCode[\"BUFFER_OVERRUN\"] = \"BUFFER_OVERRUN\";\n    // Numeric Fault\n    //   - operation: the operation being executed\n    //   - fault: the reason this faulted\n    ErrorCode[\"NUMERIC_FAULT\"] = \"NUMERIC_FAULT\";\n    ///////////////////\n    // Argument Errors\n    // Missing new operator to an object\n    //  - name: The name of the class\n    ErrorCode[\"MISSING_NEW\"] = \"MISSING_NEW\";\n    // Invalid argument (e.g. value is incompatible with type) to a function:\n    //   - argument: The argument name that was invalid\n    //   - value: The value of the argument\n    ErrorCode[\"INVALID_ARGUMENT\"] = \"INVALID_ARGUMENT\";\n    // Missing argument to a function:\n    //   - count: The number of arguments received\n    //   - expectedCount: The number of arguments expected\n    ErrorCode[\"MISSING_ARGUMENT\"] = \"MISSING_ARGUMENT\";\n    // Too many arguments\n    //   - count: The number of arguments received\n    //   - expectedCount: The number of arguments expected\n    ErrorCode[\"UNEXPECTED_ARGUMENT\"] = \"UNEXPECTED_ARGUMENT\";\n    ///////////////////\n    // Blockchain Errors\n    // Call exception\n    //  - transaction: the transaction\n    //  - address?: the contract address\n    //  - args?: The arguments passed into the function\n    //  - method?: The Solidity method signature\n    //  - errorSignature?: The EIP848 error signature\n    //  - errorArgs?: The EIP848 error parameters\n    //  - reason: The reason (only for EIP848 \"Error(string)\")\n    ErrorCode[\"CALL_EXCEPTION\"] = \"CALL_EXCEPTION\";\n    // Insufficient funds (< value + gasLimit * gasPrice)\n    //   - transaction: the transaction attempted\n    ErrorCode[\"INSUFFICIENT_FUNDS\"] = \"INSUFFICIENT_FUNDS\";\n    // Nonce has already been used\n    //   - transaction: the transaction attempted\n    ErrorCode[\"NONCE_EXPIRED\"] = \"NONCE_EXPIRED\";\n    // The replacement fee for the transaction is too low\n    //   - transaction: the transaction attempted\n    ErrorCode[\"REPLACEMENT_UNDERPRICED\"] = \"REPLACEMENT_UNDERPRICED\";\n    // The gas limit could not be estimated\n    //   - transaction: the transaction passed to estimateGas\n    ErrorCode[\"UNPREDICTABLE_GAS_LIMIT\"] = \"UNPREDICTABLE_GAS_LIMIT\";\n    // The transaction was replaced by one with a higher gas price\n    //   - reason: \"cancelled\", \"replaced\" or \"repriced\"\n    //   - cancelled: true if reason == \"cancelled\" or reason == \"replaced\")\n    //   - hash: original transaction hash\n    //   - replacement: the full TransactionsResponse for the replacement\n    //   - receipt: the receipt of the replacement\n    ErrorCode[\"TRANSACTION_REPLACED\"] = \"TRANSACTION_REPLACED\";\n    ///////////////////\n    // Interaction Errors\n    // The user rejected the action, such as signing a message or sending\n    // a transaction\n    ErrorCode[\"ACTION_REJECTED\"] = \"ACTION_REJECTED\";\n})(ErrorCode || (ErrorCode = {}));\n;\nconst HEX = \"0123456789abcdef\";\nexport class Logger {\n    constructor(version) {\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            value: version,\n            writable: false\n        });\n    }\n    _log(logLevel, args) {\n        const level = logLevel.toLowerCase();\n        if (LogLevels[level] == null) {\n            this.throwArgumentError(\"invalid log level name\", \"logLevel\", logLevel);\n        }\n        if (_logLevel > LogLevels[level]) {\n            return;\n        }\n        console.log.apply(console, args);\n    }\n    debug(...args) {\n        this._log(Logger.levels.DEBUG, args);\n    }\n    info(...args) {\n        this._log(Logger.levels.INFO, args);\n    }\n    warn(...args) {\n        this._log(Logger.levels.WARNING, args);\n    }\n    makeError(message, code, params) {\n        // Errors are being censored\n        if (_censorErrors) {\n            return this.makeError(\"censored error\", code, {});\n        }\n        if (!code) {\n            code = Logger.errors.UNKNOWN_ERROR;\n        }\n        if (!params) {\n            params = {};\n        }\n        const messageDetails = [];\n        Object.keys(params).forEach((key) => {\n            const value = params[key];\n            try {\n                if (value instanceof Uint8Array) {\n                    let hex = \"\";\n                    for (let i = 0; i < value.length; i++) {\n                        hex += HEX[value[i] >> 4];\n                        hex += HEX[value[i] & 0x0f];\n                    }\n                    messageDetails.push(key + \"=Uint8Array(0x\" + hex + \")\");\n                }\n                else {\n                    messageDetails.push(key + \"=\" + JSON.stringify(value));\n                }\n            }\n            catch (error) {\n                messageDetails.push(key + \"=\" + JSON.stringify(params[key].toString()));\n            }\n        });\n        messageDetails.push(`code=${code}`);\n        messageDetails.push(`version=${this.version}`);\n        const reason = message;\n        let url = \"\";\n        switch (code) {\n            case ErrorCode.NUMERIC_FAULT: {\n                url = \"NUMERIC_FAULT\";\n                const fault = message;\n                switch (fault) {\n                    case \"overflow\":\n                    case \"underflow\":\n                    case \"division-by-zero\":\n                        url += \"-\" + fault;\n                        break;\n                    case \"negative-power\":\n                    case \"negative-width\":\n                        url += \"-unsupported\";\n                        break;\n                    case \"unbound-bitwise-result\":\n                        url += \"-unbound-result\";\n                        break;\n                }\n                break;\n            }\n            case ErrorCode.CALL_EXCEPTION:\n            case ErrorCode.INSUFFICIENT_FUNDS:\n            case ErrorCode.MISSING_NEW:\n            case ErrorCode.NONCE_EXPIRED:\n            case ErrorCode.REPLACEMENT_UNDERPRICED:\n            case ErrorCode.TRANSACTION_REPLACED:\n            case ErrorCode.UNPREDICTABLE_GAS_LIMIT:\n                url = code;\n                break;\n        }\n        if (url) {\n            message += \" [ See: https:/\\/links.ethers.org/v5-errors-\" + url + \" ]\";\n        }\n        if (messageDetails.length) {\n            message += \" (\" + messageDetails.join(\", \") + \")\";\n        }\n        // @TODO: Any??\n        const error = new Error(message);\n        error.reason = reason;\n        error.code = code;\n        Object.keys(params).forEach(function (key) {\n            error[key] = params[key];\n        });\n        return error;\n    }\n    throwError(message, code, params) {\n        throw this.makeError(message, code, params);\n    }\n    throwArgumentError(message, name, value) {\n        return this.throwError(message, Logger.errors.INVALID_ARGUMENT, {\n            argument: name,\n            value: value\n        });\n    }\n    assert(condition, message, code, params) {\n        if (!!condition) {\n            return;\n        }\n        this.throwError(message, code, params);\n    }\n    assertArgument(condition, message, name, value) {\n        if (!!condition) {\n            return;\n        }\n        this.throwArgumentError(message, name, value);\n    }\n    checkNormalize(message) {\n        if (message == null) {\n            message = \"platform missing String.prototype.normalize\";\n        }\n        if (_normalizeError) {\n            this.throwError(\"platform missing String.prototype.normalize\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"String.prototype.normalize\", form: _normalizeError\n            });\n        }\n    }\n    checkSafeUint53(value, message) {\n        if (typeof (value) !== \"number\") {\n            return;\n        }\n        if (message == null) {\n            message = \"value not safe\";\n        }\n        if (value < 0 || value >= 0x1fffffffffffff) {\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\n                operation: \"checkSafeInteger\",\n                fault: \"out-of-safe-range\",\n                value: value\n            });\n        }\n        if (value % 1) {\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\n                operation: \"checkSafeInteger\",\n                fault: \"non-integer\",\n                value: value\n            });\n        }\n    }\n    checkArgumentCount(count, expectedCount, message) {\n        if (message) {\n            message = \": \" + message;\n        }\n        else {\n            message = \"\";\n        }\n        if (count < expectedCount) {\n            this.throwError(\"missing argument\" + message, Logger.errors.MISSING_ARGUMENT, {\n                count: count,\n                expectedCount: expectedCount\n            });\n        }\n        if (count > expectedCount) {\n            this.throwError(\"too many arguments\" + message, Logger.errors.UNEXPECTED_ARGUMENT, {\n                count: count,\n                expectedCount: expectedCount\n            });\n        }\n    }\n    checkNew(target, kind) {\n        if (target === Object || target == null) {\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\n        }\n    }\n    checkAbstract(target, kind) {\n        if (target === kind) {\n            this.throwError(\"cannot instantiate abstract class \" + JSON.stringify(kind.name) + \" directly; use a sub-class\", Logger.errors.UNSUPPORTED_OPERATION, { name: target.name, operation: \"new\" });\n        }\n        else if (target === Object || target == null) {\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\n        }\n    }\n    static globalLogger() {\n        if (!_globalLogger) {\n            _globalLogger = new Logger(version);\n        }\n        return _globalLogger;\n    }\n    static setCensorship(censorship, permanent) {\n        if (!censorship && permanent) {\n            this.globalLogger().throwError(\"cannot permanently disable censorship\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setCensorship\"\n            });\n        }\n        if (_permanentCensorErrors) {\n            if (!censorship) {\n                return;\n            }\n            this.globalLogger().throwError(\"error censorship permanent\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setCensorship\"\n            });\n        }\n        _censorErrors = !!censorship;\n        _permanentCensorErrors = !!permanent;\n    }\n    static setLogLevel(logLevel) {\n        const level = LogLevels[logLevel.toLowerCase()];\n        if (level == null) {\n            Logger.globalLogger().warn(\"invalid log level - \" + logLevel);\n            return;\n        }\n        _logLevel = level;\n    }\n    static from(version) {\n        return new Logger(version);\n    }\n}\nLogger.errors = ErrorCode;\nLogger.levels = LogLevel;\n//# sourceMappingURL=index.js.map","export const version = \"logger/5.7.0\";\n//# sourceMappingURL=_version.js.map","export const version = \"bytes/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n///////////////////////////////\nfunction isHexable(value) {\n    return !!(value.toHexString);\n}\nfunction addSlice(array) {\n    if (array.slice) {\n        return array;\n    }\n    array.slice = function () {\n        const args = Array.prototype.slice.call(arguments);\n        return addSlice(new Uint8Array(Array.prototype.slice.apply(array, args)));\n    };\n    return array;\n}\nexport function isBytesLike(value) {\n    return ((isHexString(value) && !(value.length % 2)) || isBytes(value));\n}\nfunction isInteger(value) {\n    return (typeof (value) === \"number\" && value == value && (value % 1) === 0);\n}\nexport function isBytes(value) {\n    if (value == null) {\n        return false;\n    }\n    if (value.constructor === Uint8Array) {\n        return true;\n    }\n    if (typeof (value) === \"string\") {\n        return false;\n    }\n    if (!isInteger(value.length) || value.length < 0) {\n        return false;\n    }\n    for (let i = 0; i < value.length; i++) {\n        const v = value[i];\n        if (!isInteger(v) || v < 0 || v >= 256) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function arrayify(value, options) {\n    if (!options) {\n        options = {};\n    }\n    if (typeof (value) === \"number\") {\n        logger.checkSafeUint53(value, \"invalid arrayify value\");\n        const result = [];\n        while (value) {\n            result.unshift(value & 0xff);\n            value = parseInt(String(value / 256));\n        }\n        if (result.length === 0) {\n            result.push(0);\n        }\n        return addSlice(new Uint8Array(result));\n    }\n    if (options.allowMissingPrefix && typeof (value) === \"string\" && value.substring(0, 2) !== \"0x\") {\n        value = \"0x\" + value;\n    }\n    if (isHexable(value)) {\n        value = value.toHexString();\n    }\n    if (isHexString(value)) {\n        let hex = value.substring(2);\n        if (hex.length % 2) {\n            if (options.hexPad === \"left\") {\n                hex = \"0\" + hex;\n            }\n            else if (options.hexPad === \"right\") {\n                hex += \"0\";\n            }\n            else {\n                logger.throwArgumentError(\"hex data is odd-length\", \"value\", value);\n            }\n        }\n        const result = [];\n        for (let i = 0; i < hex.length; i += 2) {\n            result.push(parseInt(hex.substring(i, i + 2), 16));\n        }\n        return addSlice(new Uint8Array(result));\n    }\n    if (isBytes(value)) {\n        return addSlice(new Uint8Array(value));\n    }\n    return logger.throwArgumentError(\"invalid arrayify value\", \"value\", value);\n}\nexport function concat(items) {\n    const objects = items.map(item => arrayify(item));\n    const length = objects.reduce((accum, item) => (accum + item.length), 0);\n    const result = new Uint8Array(length);\n    objects.reduce((offset, object) => {\n        result.set(object, offset);\n        return offset + object.length;\n    }, 0);\n    return addSlice(result);\n}\nexport function stripZeros(value) {\n    let result = arrayify(value);\n    if (result.length === 0) {\n        return result;\n    }\n    // Find the first non-zero entry\n    let start = 0;\n    while (start < result.length && result[start] === 0) {\n        start++;\n    }\n    // If we started with zeros, strip them\n    if (start) {\n        result = result.slice(start);\n    }\n    return result;\n}\nexport function zeroPad(value, length) {\n    value = arrayify(value);\n    if (value.length > length) {\n        logger.throwArgumentError(\"value out of range\", \"value\", arguments[0]);\n    }\n    const result = new Uint8Array(length);\n    result.set(value, length - value.length);\n    return addSlice(result);\n}\nexport function isHexString(value, length) {\n    if (typeof (value) !== \"string\" || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n        return false;\n    }\n    if (length && value.length !== 2 + 2 * length) {\n        return false;\n    }\n    return true;\n}\nconst HexCharacters = \"0123456789abcdef\";\nexport function hexlify(value, options) {\n    if (!options) {\n        options = {};\n    }\n    if (typeof (value) === \"number\") {\n        logger.checkSafeUint53(value, \"invalid hexlify value\");\n        let hex = \"\";\n        while (value) {\n            hex = HexCharacters[value & 0xf] + hex;\n            value = Math.floor(value / 16);\n        }\n        if (hex.length) {\n            if (hex.length % 2) {\n                hex = \"0\" + hex;\n            }\n            return \"0x\" + hex;\n        }\n        return \"0x00\";\n    }\n    if (typeof (value) === \"bigint\") {\n        value = value.toString(16);\n        if (value.length % 2) {\n            return (\"0x0\" + value);\n        }\n        return \"0x\" + value;\n    }\n    if (options.allowMissingPrefix && typeof (value) === \"string\" && value.substring(0, 2) !== \"0x\") {\n        value = \"0x\" + value;\n    }\n    if (isHexable(value)) {\n        return value.toHexString();\n    }\n    if (isHexString(value)) {\n        if (value.length % 2) {\n            if (options.hexPad === \"left\") {\n                value = \"0x0\" + value.substring(2);\n            }\n            else if (options.hexPad === \"right\") {\n                value += \"0\";\n            }\n            else {\n                logger.throwArgumentError(\"hex data is odd-length\", \"value\", value);\n            }\n        }\n        return value.toLowerCase();\n    }\n    if (isBytes(value)) {\n        let result = \"0x\";\n        for (let i = 0; i < value.length; i++) {\n            let v = value[i];\n            result += HexCharacters[(v & 0xf0) >> 4] + HexCharacters[v & 0x0f];\n        }\n        return result;\n    }\n    return logger.throwArgumentError(\"invalid hexlify value\", \"value\", value);\n}\n/*\nfunction unoddify(value: BytesLike | Hexable | number): BytesLike | Hexable | number {\n    if (typeof(value) === \"string\" && value.length % 2 && value.substring(0, 2) === \"0x\") {\n        return \"0x0\" + value.substring(2);\n    }\n    return value;\n}\n*/\nexport function hexDataLength(data) {\n    if (typeof (data) !== \"string\") {\n        data = hexlify(data);\n    }\n    else if (!isHexString(data) || (data.length % 2)) {\n        return null;\n    }\n    return (data.length - 2) / 2;\n}\nexport function hexDataSlice(data, offset, endOffset) {\n    if (typeof (data) !== \"string\") {\n        data = hexlify(data);\n    }\n    else if (!isHexString(data) || (data.length % 2)) {\n        logger.throwArgumentError(\"invalid hexData\", \"value\", data);\n    }\n    offset = 2 + 2 * offset;\n    if (endOffset != null) {\n        return \"0x\" + data.substring(offset, 2 + 2 * endOffset);\n    }\n    return \"0x\" + data.substring(offset);\n}\nexport function hexConcat(items) {\n    let result = \"0x\";\n    items.forEach((item) => {\n        result += hexlify(item).substring(2);\n    });\n    return result;\n}\nexport function hexValue(value) {\n    const trimmed = hexStripZeros(hexlify(value, { hexPad: \"left\" }));\n    if (trimmed === \"0x\") {\n        return \"0x0\";\n    }\n    return trimmed;\n}\nexport function hexStripZeros(value) {\n    if (typeof (value) !== \"string\") {\n        value = hexlify(value);\n    }\n    if (!isHexString(value)) {\n        logger.throwArgumentError(\"invalid hex string\", \"value\", value);\n    }\n    value = value.substring(2);\n    let offset = 0;\n    while (offset < value.length && value[offset] === \"0\") {\n        offset++;\n    }\n    return \"0x\" + value.substring(offset);\n}\nexport function hexZeroPad(value, length) {\n    if (typeof (value) !== \"string\") {\n        value = hexlify(value);\n    }\n    else if (!isHexString(value)) {\n        logger.throwArgumentError(\"invalid hex string\", \"value\", value);\n    }\n    if (value.length > 2 * length + 2) {\n        logger.throwArgumentError(\"value out of range\", \"value\", arguments[1]);\n    }\n    while (value.length < 2 * length + 2) {\n        value = \"0x0\" + value.substring(2);\n    }\n    return value;\n}\nexport function splitSignature(signature) {\n    const result = {\n        r: \"0x\",\n        s: \"0x\",\n        _vs: \"0x\",\n        recoveryParam: 0,\n        v: 0,\n        yParityAndS: \"0x\",\n        compact: \"0x\"\n    };\n    if (isBytesLike(signature)) {\n        let bytes = arrayify(signature);\n        // Get the r, s and v\n        if (bytes.length === 64) {\n            // EIP-2098; pull the v from the top bit of s and clear it\n            result.v = 27 + (bytes[32] >> 7);\n            bytes[32] &= 0x7f;\n            result.r = hexlify(bytes.slice(0, 32));\n            result.s = hexlify(bytes.slice(32, 64));\n        }\n        else if (bytes.length === 65) {\n            result.r = hexlify(bytes.slice(0, 32));\n            result.s = hexlify(bytes.slice(32, 64));\n            result.v = bytes[64];\n        }\n        else {\n            logger.throwArgumentError(\"invalid signature string\", \"signature\", signature);\n        }\n        // Allow a recid to be used as the v\n        if (result.v < 27) {\n            if (result.v === 0 || result.v === 1) {\n                result.v += 27;\n            }\n            else {\n                logger.throwArgumentError(\"signature invalid v byte\", \"signature\", signature);\n            }\n        }\n        // Compute recoveryParam from v\n        result.recoveryParam = 1 - (result.v % 2);\n        // Compute _vs from recoveryParam and s\n        if (result.recoveryParam) {\n            bytes[32] |= 0x80;\n        }\n        result._vs = hexlify(bytes.slice(32, 64));\n    }\n    else {\n        result.r = signature.r;\n        result.s = signature.s;\n        result.v = signature.v;\n        result.recoveryParam = signature.recoveryParam;\n        result._vs = signature._vs;\n        // If the _vs is available, use it to populate missing s, v and recoveryParam\n        // and verify non-missing s, v and recoveryParam\n        if (result._vs != null) {\n            const vs = zeroPad(arrayify(result._vs), 32);\n            result._vs = hexlify(vs);\n            // Set or check the recid\n            const recoveryParam = ((vs[0] >= 128) ? 1 : 0);\n            if (result.recoveryParam == null) {\n                result.recoveryParam = recoveryParam;\n            }\n            else if (result.recoveryParam !== recoveryParam) {\n                logger.throwArgumentError(\"signature recoveryParam mismatch _vs\", \"signature\", signature);\n            }\n            // Set or check the s\n            vs[0] &= 0x7f;\n            const s = hexlify(vs);\n            if (result.s == null) {\n                result.s = s;\n            }\n            else if (result.s !== s) {\n                logger.throwArgumentError(\"signature v mismatch _vs\", \"signature\", signature);\n            }\n        }\n        // Use recid and v to populate each other\n        if (result.recoveryParam == null) {\n            if (result.v == null) {\n                logger.throwArgumentError(\"signature missing v and recoveryParam\", \"signature\", signature);\n            }\n            else if (result.v === 0 || result.v === 1) {\n                result.recoveryParam = result.v;\n            }\n            else {\n                result.recoveryParam = 1 - (result.v % 2);\n            }\n        }\n        else {\n            if (result.v == null) {\n                result.v = 27 + result.recoveryParam;\n            }\n            else {\n                const recId = (result.v === 0 || result.v === 1) ? result.v : (1 - (result.v % 2));\n                if (result.recoveryParam !== recId) {\n                    logger.throwArgumentError(\"signature recoveryParam mismatch v\", \"signature\", signature);\n                }\n            }\n        }\n        if (result.r == null || !isHexString(result.r)) {\n            logger.throwArgumentError(\"signature missing or invalid r\", \"signature\", signature);\n        }\n        else {\n            result.r = hexZeroPad(result.r, 32);\n        }\n        if (result.s == null || !isHexString(result.s)) {\n            logger.throwArgumentError(\"signature missing or invalid s\", \"signature\", signature);\n        }\n        else {\n            result.s = hexZeroPad(result.s, 32);\n        }\n        const vs = arrayify(result.s);\n        if (vs[0] >= 128) {\n            logger.throwArgumentError(\"signature s out of range\", \"signature\", signature);\n        }\n        if (result.recoveryParam) {\n            vs[0] |= 0x80;\n        }\n        const _vs = hexlify(vs);\n        if (result._vs) {\n            if (!isHexString(result._vs)) {\n                logger.throwArgumentError(\"signature invalid _vs\", \"signature\", signature);\n            }\n            result._vs = hexZeroPad(result._vs, 32);\n        }\n        // Set or check the _vs\n        if (result._vs == null) {\n            result._vs = _vs;\n        }\n        else if (result._vs !== _vs) {\n            logger.throwArgumentError(\"signature _vs mismatch v and s\", \"signature\", signature);\n        }\n    }\n    result.yParityAndS = result._vs;\n    result.compact = result.r + result.yParityAndS.substring(2);\n    return result;\n}\nexport function joinSignature(signature) {\n    signature = splitSignature(signature);\n    return hexlify(concat([\n        signature.r,\n        signature.s,\n        (signature.recoveryParam ? \"0x1c\" : \"0x1b\")\n    ]));\n}\n//# sourceMappingURL=index.js.map","export const version = \"bignumber/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\n/**\n *  BigNumber\n *\n *  A wrapper around the BN.js object. We use the BN.js library\n *  because it is used by elliptic, so it is required regardless.\n *\n */\nimport _BN from \"bn.js\";\nvar BN = _BN.BN;\nimport { hexlify, isBytes, isHexString } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nconst _constructorGuard = {};\nconst MAX_SAFE = 0x1fffffffffffff;\nexport function isBigNumberish(value) {\n    return (value != null) && (BigNumber.isBigNumber(value) ||\n        (typeof (value) === \"number\" && (value % 1) === 0) ||\n        (typeof (value) === \"string\" && !!value.match(/^-?[0-9]+$/)) ||\n        isHexString(value) ||\n        (typeof (value) === \"bigint\") ||\n        isBytes(value));\n}\n// Only warn about passing 10 into radix once\nlet _warnedToStringRadix = false;\nexport class BigNumber {\n    constructor(constructorGuard, hex) {\n        if (constructorGuard !== _constructorGuard) {\n            logger.throwError(\"cannot call constructor directly; use BigNumber.from\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"new (BigNumber)\"\n            });\n        }\n        this._hex = hex;\n        this._isBigNumber = true;\n        Object.freeze(this);\n    }\n    fromTwos(value) {\n        return toBigNumber(toBN(this).fromTwos(value));\n    }\n    toTwos(value) {\n        return toBigNumber(toBN(this).toTwos(value));\n    }\n    abs() {\n        if (this._hex[0] === \"-\") {\n            return BigNumber.from(this._hex.substring(1));\n        }\n        return this;\n    }\n    add(other) {\n        return toBigNumber(toBN(this).add(toBN(other)));\n    }\n    sub(other) {\n        return toBigNumber(toBN(this).sub(toBN(other)));\n    }\n    div(other) {\n        const o = BigNumber.from(other);\n        if (o.isZero()) {\n            throwFault(\"division-by-zero\", \"div\");\n        }\n        return toBigNumber(toBN(this).div(toBN(other)));\n    }\n    mul(other) {\n        return toBigNumber(toBN(this).mul(toBN(other)));\n    }\n    mod(other) {\n        const value = toBN(other);\n        if (value.isNeg()) {\n            throwFault(\"division-by-zero\", \"mod\");\n        }\n        return toBigNumber(toBN(this).umod(value));\n    }\n    pow(other) {\n        const value = toBN(other);\n        if (value.isNeg()) {\n            throwFault(\"negative-power\", \"pow\");\n        }\n        return toBigNumber(toBN(this).pow(value));\n    }\n    and(other) {\n        const value = toBN(other);\n        if (this.isNegative() || value.isNeg()) {\n            throwFault(\"unbound-bitwise-result\", \"and\");\n        }\n        return toBigNumber(toBN(this).and(value));\n    }\n    or(other) {\n        const value = toBN(other);\n        if (this.isNegative() || value.isNeg()) {\n            throwFault(\"unbound-bitwise-result\", \"or\");\n        }\n        return toBigNumber(toBN(this).or(value));\n    }\n    xor(other) {\n        const value = toBN(other);\n        if (this.isNegative() || value.isNeg()) {\n            throwFault(\"unbound-bitwise-result\", \"xor\");\n        }\n        return toBigNumber(toBN(this).xor(value));\n    }\n    mask(value) {\n        if (this.isNegative() || value < 0) {\n            throwFault(\"negative-width\", \"mask\");\n        }\n        return toBigNumber(toBN(this).maskn(value));\n    }\n    shl(value) {\n        if (this.isNegative() || value < 0) {\n            throwFault(\"negative-width\", \"shl\");\n        }\n        return toBigNumber(toBN(this).shln(value));\n    }\n    shr(value) {\n        if (this.isNegative() || value < 0) {\n            throwFault(\"negative-width\", \"shr\");\n        }\n        return toBigNumber(toBN(this).shrn(value));\n    }\n    eq(other) {\n        return toBN(this).eq(toBN(other));\n    }\n    lt(other) {\n        return toBN(this).lt(toBN(other));\n    }\n    lte(other) {\n        return toBN(this).lte(toBN(other));\n    }\n    gt(other) {\n        return toBN(this).gt(toBN(other));\n    }\n    gte(other) {\n        return toBN(this).gte(toBN(other));\n    }\n    isNegative() {\n        return (this._hex[0] === \"-\");\n    }\n    isZero() {\n        return toBN(this).isZero();\n    }\n    toNumber() {\n        try {\n            return toBN(this).toNumber();\n        }\n        catch (error) {\n            throwFault(\"overflow\", \"toNumber\", this.toString());\n        }\n        return null;\n    }\n    toBigInt() {\n        try {\n            return BigInt(this.toString());\n        }\n        catch (e) { }\n        return logger.throwError(\"this platform does not support BigInt\", Logger.errors.UNSUPPORTED_OPERATION, {\n            value: this.toString()\n        });\n    }\n    toString() {\n        // Lots of people expect this, which we do not support, so check (See: #889)\n        if (arguments.length > 0) {\n            if (arguments[0] === 10) {\n                if (!_warnedToStringRadix) {\n                    _warnedToStringRadix = true;\n                    logger.warn(\"BigNumber.toString does not accept any parameters; base-10 is assumed\");\n                }\n            }\n            else if (arguments[0] === 16) {\n                logger.throwError(\"BigNumber.toString does not accept any parameters; use bigNumber.toHexString()\", Logger.errors.UNEXPECTED_ARGUMENT, {});\n            }\n            else {\n                logger.throwError(\"BigNumber.toString does not accept parameters\", Logger.errors.UNEXPECTED_ARGUMENT, {});\n            }\n        }\n        return toBN(this).toString(10);\n    }\n    toHexString() {\n        return this._hex;\n    }\n    toJSON(key) {\n        return { type: \"BigNumber\", hex: this.toHexString() };\n    }\n    static from(value) {\n        if (value instanceof BigNumber) {\n            return value;\n        }\n        if (typeof (value) === \"string\") {\n            if (value.match(/^-?0x[0-9a-f]+$/i)) {\n                return new BigNumber(_constructorGuard, toHex(value));\n            }\n            if (value.match(/^-?[0-9]+$/)) {\n                return new BigNumber(_constructorGuard, toHex(new BN(value)));\n            }\n            return logger.throwArgumentError(\"invalid BigNumber string\", \"value\", value);\n        }\n        if (typeof (value) === \"number\") {\n            if (value % 1) {\n                throwFault(\"underflow\", \"BigNumber.from\", value);\n            }\n            if (value >= MAX_SAFE || value <= -MAX_SAFE) {\n                throwFault(\"overflow\", \"BigNumber.from\", value);\n            }\n            return BigNumber.from(String(value));\n        }\n        const anyValue = value;\n        if (typeof (anyValue) === \"bigint\") {\n            return BigNumber.from(anyValue.toString());\n        }\n        if (isBytes(anyValue)) {\n            return BigNumber.from(hexlify(anyValue));\n        }\n        if (anyValue) {\n            // Hexable interface (takes priority)\n            if (anyValue.toHexString) {\n                const hex = anyValue.toHexString();\n                if (typeof (hex) === \"string\") {\n                    return BigNumber.from(hex);\n                }\n            }\n            else {\n                // For now, handle legacy JSON-ified values (goes away in v6)\n                let hex = anyValue._hex;\n                // New-form JSON\n                if (hex == null && anyValue.type === \"BigNumber\") {\n                    hex = anyValue.hex;\n                }\n                if (typeof (hex) === \"string\") {\n                    if (isHexString(hex) || (hex[0] === \"-\" && isHexString(hex.substring(1)))) {\n                        return BigNumber.from(hex);\n                    }\n                }\n            }\n        }\n        return logger.throwArgumentError(\"invalid BigNumber value\", \"value\", value);\n    }\n    static isBigNumber(value) {\n        return !!(value && value._isBigNumber);\n    }\n}\n// Normalize the hex string\nfunction toHex(value) {\n    // For BN, call on the hex string\n    if (typeof (value) !== \"string\") {\n        return toHex(value.toString(16));\n    }\n    // If negative, prepend the negative sign to the normalized positive value\n    if (value[0] === \"-\") {\n        // Strip off the negative sign\n        value = value.substring(1);\n        // Cannot have multiple negative signs (e.g. \"--0x04\")\n        if (value[0] === \"-\") {\n            logger.throwArgumentError(\"invalid hex\", \"value\", value);\n        }\n        // Call toHex on the positive component\n        value = toHex(value);\n        // Do not allow \"-0x00\"\n        if (value === \"0x00\") {\n            return value;\n        }\n        // Negate the value\n        return \"-\" + value;\n    }\n    // Add a \"0x\" prefix if missing\n    if (value.substring(0, 2) !== \"0x\") {\n        value = \"0x\" + value;\n    }\n    // Normalize zero\n    if (value === \"0x\") {\n        return \"0x00\";\n    }\n    // Make the string even length\n    if (value.length % 2) {\n        value = \"0x0\" + value.substring(2);\n    }\n    // Trim to smallest even-length string\n    while (value.length > 4 && value.substring(0, 4) === \"0x00\") {\n        value = \"0x\" + value.substring(4);\n    }\n    return value;\n}\nfunction toBigNumber(value) {\n    return BigNumber.from(toHex(value));\n}\nfunction toBN(value) {\n    const hex = BigNumber.from(value).toHexString();\n    if (hex[0] === \"-\") {\n        return (new BN(\"-\" + hex.substring(3), 16));\n    }\n    return new BN(hex.substring(2), 16);\n}\nfunction throwFault(fault, operation, value) {\n    const params = { fault: fault, operation: operation };\n    if (value != null) {\n        params.value = value;\n    }\n    return logger.throwError(fault, Logger.errors.NUMERIC_FAULT, params);\n}\n// value should have no prefix\nexport function _base36To16(value) {\n    return (new BN(value, 36)).toString(16);\n}\n// value should have no prefix\nexport function _base16To36(value) {\n    return (new BN(value, 16)).toString(36);\n}\n//# sourceMappingURL=bignumber.js.map","export const version = \"properties/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport function defineReadOnly(object, name, value) {\n    Object.defineProperty(object, name, {\n        enumerable: true,\n        value: value,\n        writable: false,\n    });\n}\n// Crawl up the constructor chain to find a static method\nexport function getStatic(ctor, key) {\n    for (let i = 0; i < 32; i++) {\n        if (ctor[key]) {\n            return ctor[key];\n        }\n        if (!ctor.prototype || typeof (ctor.prototype) !== \"object\") {\n            break;\n        }\n        ctor = Object.getPrototypeOf(ctor.prototype).constructor;\n    }\n    return null;\n}\nexport function resolveProperties(object) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const promises = Object.keys(object).map((key) => {\n            const value = object[key];\n            return Promise.resolve(value).then((v) => ({ key: key, value: v }));\n        });\n        const results = yield Promise.all(promises);\n        return results.reduce((accum, result) => {\n            accum[(result.key)] = result.value;\n            return accum;\n        }, {});\n    });\n}\nexport function checkProperties(object, properties) {\n    if (!object || typeof (object) !== \"object\") {\n        logger.throwArgumentError(\"invalid object\", \"object\", object);\n    }\n    Object.keys(object).forEach((key) => {\n        if (!properties[key]) {\n            logger.throwArgumentError(\"invalid object key - \" + key, \"transaction:\" + key, object);\n        }\n    });\n}\nexport function shallowCopy(object) {\n    const result = {};\n    for (const key in object) {\n        result[key] = object[key];\n    }\n    return result;\n}\nconst opaque = { bigint: true, boolean: true, \"function\": true, number: true, string: true };\nfunction _isFrozen(object) {\n    // Opaque objects are not mutable, so safe to copy by assignment\n    if (object === undefined || object === null || opaque[typeof (object)]) {\n        return true;\n    }\n    if (Array.isArray(object) || typeof (object) === \"object\") {\n        if (!Object.isFrozen(object)) {\n            return false;\n        }\n        const keys = Object.keys(object);\n        for (let i = 0; i < keys.length; i++) {\n            let value = null;\n            try {\n                value = object[keys[i]];\n            }\n            catch (error) {\n                // If accessing a value triggers an error, it is a getter\n                // designed to do so (e.g. Result) and is therefore \"frozen\"\n                continue;\n            }\n            if (!_isFrozen(value)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return logger.throwArgumentError(`Cannot deepCopy ${typeof (object)}`, \"object\", object);\n}\n// Returns a new copy of object, such that no properties may be replaced.\n// New properties may be added only to objects.\nfunction _deepCopy(object) {\n    if (_isFrozen(object)) {\n        return object;\n    }\n    // Arrays are mutable, so we need to create a copy\n    if (Array.isArray(object)) {\n        return Object.freeze(object.map((item) => deepCopy(item)));\n    }\n    if (typeof (object) === \"object\") {\n        const result = {};\n        for (const key in object) {\n            const value = object[key];\n            if (value === undefined) {\n                continue;\n            }\n            defineReadOnly(result, key, deepCopy(value));\n        }\n        return result;\n    }\n    return logger.throwArgumentError(`Cannot deepCopy ${typeof (object)}`, \"object\", object);\n}\nexport function deepCopy(object) {\n    return _deepCopy(object);\n}\nexport class Description {\n    constructor(info) {\n        for (const key in info) {\n            this[key] = deepCopy(info[key]);\n        }\n    }\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { isHexString } from \"@ethersproject/bytes\";\nimport { Description, defineReadOnly, resolveProperties } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n;\n;\n//export type CallTransactionable = {\n//    call(transaction: TransactionRequest): Promise<TransactionResponse>;\n//};\nexport class ForkEvent extends Description {\n    static isForkEvent(value) {\n        return !!(value && value._isForkEvent);\n    }\n}\nexport class BlockForkEvent extends ForkEvent {\n    constructor(blockHash, expiry) {\n        if (!isHexString(blockHash, 32)) {\n            logger.throwArgumentError(\"invalid blockHash\", \"blockHash\", blockHash);\n        }\n        super({\n            _isForkEvent: true,\n            _isBlockForkEvent: true,\n            expiry: (expiry || 0),\n            blockHash: blockHash\n        });\n    }\n}\nexport class TransactionForkEvent extends ForkEvent {\n    constructor(hash, expiry) {\n        if (!isHexString(hash, 32)) {\n            logger.throwArgumentError(\"invalid transaction hash\", \"hash\", hash);\n        }\n        super({\n            _isForkEvent: true,\n            _isTransactionForkEvent: true,\n            expiry: (expiry || 0),\n            hash: hash\n        });\n    }\n}\nexport class TransactionOrderForkEvent extends ForkEvent {\n    constructor(beforeHash, afterHash, expiry) {\n        if (!isHexString(beforeHash, 32)) {\n            logger.throwArgumentError(\"invalid transaction hash\", \"beforeHash\", beforeHash);\n        }\n        if (!isHexString(afterHash, 32)) {\n            logger.throwArgumentError(\"invalid transaction hash\", \"afterHash\", afterHash);\n        }\n        super({\n            _isForkEvent: true,\n            _isTransactionOrderForkEvent: true,\n            expiry: (expiry || 0),\n            beforeHash: beforeHash,\n            afterHash: afterHash\n        });\n    }\n}\n///////////////////////////////\n// Exported Abstracts\nexport class Provider {\n    constructor() {\n        logger.checkAbstract(new.target, Provider);\n        defineReadOnly(this, \"_isProvider\", true);\n    }\n    getFeeData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { block, gasPrice } = yield resolveProperties({\n                block: this.getBlock(\"latest\"),\n                gasPrice: this.getGasPrice().catch((error) => {\n                    // @TODO: Why is this now failing on Calaveras?\n                    //console.log(error);\n                    return null;\n                })\n            });\n            let lastBaseFeePerGas = null, maxFeePerGas = null, maxPriorityFeePerGas = null;\n            if (block && block.baseFeePerGas) {\n                // We may want to compute this more accurately in the future,\n                // using the formula \"check if the base fee is correct\".\n                // See: https://eips.ethereum.org/EIPS/eip-1559\n                lastBaseFeePerGas = block.baseFeePerGas;\n                maxPriorityFeePerGas = BigNumber.from(\"1500000000\");\n                maxFeePerGas = block.baseFeePerGas.mul(2).add(maxPriorityFeePerGas);\n            }\n            return { lastBaseFeePerGas, maxFeePerGas, maxPriorityFeePerGas, gasPrice };\n        });\n    }\n    // Alias for \"on\"\n    addListener(eventName, listener) {\n        return this.on(eventName, listener);\n    }\n    // Alias for \"off\"\n    removeListener(eventName, listener) {\n        return this.off(eventName, listener);\n    }\n    static isProvider(value) {\n        return !!(value && value._isProvider);\n    }\n}\n//# sourceMappingURL=index.js.map","export const version = \"abstract-provider/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n;\nfunction isRenetworkable(value) {\n    return (value && typeof (value.renetwork) === \"function\");\n}\nfunction ethDefaultProvider(network) {\n    const func = function (providers, options) {\n        if (options == null) {\n            options = {};\n        }\n        const providerList = [];\n        if (providers.InfuraProvider && options.infura !== \"-\") {\n            try {\n                providerList.push(new providers.InfuraProvider(network, options.infura));\n            }\n            catch (error) { }\n        }\n        if (providers.EtherscanProvider && options.etherscan !== \"-\") {\n            try {\n                providerList.push(new providers.EtherscanProvider(network, options.etherscan));\n            }\n            catch (error) { }\n        }\n        if (providers.AlchemyProvider && options.alchemy !== \"-\") {\n            try {\n                providerList.push(new providers.AlchemyProvider(network, options.alchemy));\n            }\n            catch (error) { }\n        }\n        if (providers.PocketProvider && options.pocket !== \"-\") {\n            // These networks are currently faulty on Pocket as their\n            // network does not handle the Berlin hardfork, which is\n            // live on these ones.\n            // @TODO: This goes away once Pocket has upgraded their nodes\n            const skip = [\"goerli\", \"ropsten\", \"rinkeby\", \"sepolia\"];\n            try {\n                const provider = new providers.PocketProvider(network, options.pocket);\n                if (provider.network && skip.indexOf(provider.network.name) === -1) {\n                    providerList.push(provider);\n                }\n            }\n            catch (error) { }\n        }\n        if (providers.CloudflareProvider && options.cloudflare !== \"-\") {\n            try {\n                providerList.push(new providers.CloudflareProvider(network));\n            }\n            catch (error) { }\n        }\n        if (providers.AnkrProvider && options.ankr !== \"-\") {\n            try {\n                const skip = [\"ropsten\"];\n                const provider = new providers.AnkrProvider(network, options.ankr);\n                if (provider.network && skip.indexOf(provider.network.name) === -1) {\n                    providerList.push(provider);\n                }\n            }\n            catch (error) { }\n        }\n        if (providerList.length === 0) {\n            return null;\n        }\n        if (providers.FallbackProvider) {\n            let quorum = 1;\n            if (options.quorum != null) {\n                quorum = options.quorum;\n            }\n            else if (network === \"homestead\") {\n                quorum = 2;\n            }\n            return new providers.FallbackProvider(providerList, quorum);\n        }\n        return providerList[0];\n    };\n    func.renetwork = function (network) {\n        return ethDefaultProvider(network);\n    };\n    return func;\n}\nfunction etcDefaultProvider(url, network) {\n    const func = function (providers, options) {\n        if (providers.JsonRpcProvider) {\n            return new providers.JsonRpcProvider(url, network);\n        }\n        return null;\n    };\n    func.renetwork = function (network) {\n        return etcDefaultProvider(url, network);\n    };\n    return func;\n}\nconst homestead = {\n    chainId: 1,\n    ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n    name: \"homestead\",\n    _defaultProvider: ethDefaultProvider(\"homestead\")\n};\nconst ropsten = {\n    chainId: 3,\n    ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n    name: \"ropsten\",\n    _defaultProvider: ethDefaultProvider(\"ropsten\")\n};\nconst classicMordor = {\n    chainId: 63,\n    name: \"classicMordor\",\n    _defaultProvider: etcDefaultProvider(\"https://www.ethercluster.com/mordor\", \"classicMordor\")\n};\n// See: https://chainlist.org\nconst networks = {\n    unspecified: { chainId: 0, name: \"unspecified\" },\n    homestead: homestead,\n    mainnet: homestead,\n    morden: { chainId: 2, name: \"morden\" },\n    ropsten: ropsten,\n    testnet: ropsten,\n    rinkeby: {\n        chainId: 4,\n        ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n        name: \"rinkeby\",\n        _defaultProvider: ethDefaultProvider(\"rinkeby\")\n    },\n    kovan: {\n        chainId: 42,\n        name: \"kovan\",\n        _defaultProvider: ethDefaultProvider(\"kovan\")\n    },\n    goerli: {\n        chainId: 5,\n        ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n        name: \"goerli\",\n        _defaultProvider: ethDefaultProvider(\"goerli\")\n    },\n    kintsugi: { chainId: 1337702, name: \"kintsugi\" },\n    sepolia: {\n        chainId: 11155111,\n        name: \"sepolia\",\n        _defaultProvider: ethDefaultProvider(\"sepolia\")\n    },\n    // ETC (See: #351)\n    classic: {\n        chainId: 61,\n        name: \"classic\",\n        _defaultProvider: etcDefaultProvider(\"https:/\\/www.ethercluster.com/etc\", \"classic\")\n    },\n    classicMorden: { chainId: 62, name: \"classicMorden\" },\n    classicMordor: classicMordor,\n    classicTestnet: classicMordor,\n    classicKotti: {\n        chainId: 6,\n        name: \"classicKotti\",\n        _defaultProvider: etcDefaultProvider(\"https:/\\/www.ethercluster.com/kotti\", \"classicKotti\")\n    },\n    xdai: { chainId: 100, name: \"xdai\" },\n    matic: {\n        chainId: 137,\n        name: \"matic\",\n        _defaultProvider: ethDefaultProvider(\"matic\")\n    },\n    maticmum: { chainId: 80001, name: \"maticmum\" },\n    optimism: {\n        chainId: 10,\n        name: \"optimism\",\n        _defaultProvider: ethDefaultProvider(\"optimism\")\n    },\n    \"optimism-kovan\": { chainId: 69, name: \"optimism-kovan\" },\n    \"optimism-goerli\": { chainId: 420, name: \"optimism-goerli\" },\n    arbitrum: { chainId: 42161, name: \"arbitrum\" },\n    \"arbitrum-rinkeby\": { chainId: 421611, name: \"arbitrum-rinkeby\" },\n    \"arbitrum-goerli\": { chainId: 421613, name: \"arbitrum-goerli\" },\n    bnb: { chainId: 56, name: \"bnb\" },\n    bnbt: { chainId: 97, name: \"bnbt\" },\n};\n/**\n *  getNetwork\n *\n *  Converts a named common networks or chain ID (network ID) to a Network\n *  and verifies a network is a valid Network..\n */\nexport function getNetwork(network) {\n    // No network (null)\n    if (network == null) {\n        return null;\n    }\n    if (typeof (network) === \"number\") {\n        for (const name in networks) {\n            const standard = networks[name];\n            if (standard.chainId === network) {\n                return {\n                    name: standard.name,\n                    chainId: standard.chainId,\n                    ensAddress: (standard.ensAddress || null),\n                    _defaultProvider: (standard._defaultProvider || null)\n                };\n            }\n        }\n        return {\n            chainId: network,\n            name: \"unknown\"\n        };\n    }\n    if (typeof (network) === \"string\") {\n        const standard = networks[network];\n        if (standard == null) {\n            return null;\n        }\n        return {\n            name: standard.name,\n            chainId: standard.chainId,\n            ensAddress: standard.ensAddress,\n            _defaultProvider: (standard._defaultProvider || null)\n        };\n    }\n    const standard = networks[network.name];\n    // Not a standard network; check that it is a valid network in general\n    if (!standard) {\n        if (typeof (network.chainId) !== \"number\") {\n            logger.throwArgumentError(\"invalid network chainId\", \"network\", network);\n        }\n        return network;\n    }\n    // Make sure the chainId matches the expected network chainId (or is 0; disable EIP-155)\n    if (network.chainId !== 0 && network.chainId !== standard.chainId) {\n        logger.throwArgumentError(\"network chainId mismatch\", \"network\", network);\n    }\n    // @TODO: In the next major version add an attach function to a defaultProvider\n    // class and move the _defaultProvider internal to this file (extend Network)\n    let defaultProvider = network._defaultProvider || null;\n    if (defaultProvider == null && standard._defaultProvider) {\n        if (isRenetworkable(standard._defaultProvider)) {\n            defaultProvider = standard._defaultProvider.renetwork(network);\n        }\n        else {\n            defaultProvider = standard._defaultProvider;\n        }\n    }\n    // Standard Network (allow overriding the ENS address)\n    return {\n        name: network.name,\n        chainId: standard.chainId,\n        ensAddress: (network.ensAddress || standard.ensAddress || null),\n        _defaultProvider: defaultProvider\n    };\n}\n//# sourceMappingURL=index.js.map","export const version = \"networks/5.7.1\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { arrayify } from \"@ethersproject/bytes\";\nexport function decode(textData) {\n    textData = atob(textData);\n    const data = [];\n    for (let i = 0; i < textData.length; i++) {\n        data.push(textData.charCodeAt(i));\n    }\n    return arrayify(data);\n}\nexport function encode(data) {\n    data = arrayify(data);\n    let textData = \"\";\n    for (let i = 0; i < data.length; i++) {\n        textData += String.fromCharCode(data[i]);\n    }\n    return btoa(textData);\n}\n//# sourceMappingURL=base64.js.map","/**\n * var basex = require(\"base-x\");\n *\n * This implementation is heavily based on base-x. The main reason to\n * deviate was to prevent the dependency of Buffer.\n *\n * Contributors:\n *\n * base-x encoding\n * Forked from https://github.com/cryptocoinjs/bs58\n * Originally written by Mike Hearn for BitcoinJ\n * Copyright (c) 2011 Google Inc\n * Ported to JavaScript by Stefan Thomas\n * Merged Buffer refactorings from base58-native by Stephen Pair\n * Copyright (c) 2013 BitPay Inc\n *\n * The MIT License (MIT)\n *\n * Copyright base-x contributors (c) 2016\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n *\n */\nimport { arrayify } from \"@ethersproject/bytes\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nexport class BaseX {\n    constructor(alphabet) {\n        defineReadOnly(this, \"alphabet\", alphabet);\n        defineReadOnly(this, \"base\", alphabet.length);\n        defineReadOnly(this, \"_alphabetMap\", {});\n        defineReadOnly(this, \"_leader\", alphabet.charAt(0));\n        // pre-compute lookup table\n        for (let i = 0; i < alphabet.length; i++) {\n            this._alphabetMap[alphabet.charAt(i)] = i;\n        }\n    }\n    encode(value) {\n        let source = arrayify(value);\n        if (source.length === 0) {\n            return \"\";\n        }\n        let digits = [0];\n        for (let i = 0; i < source.length; ++i) {\n            let carry = source[i];\n            for (let j = 0; j < digits.length; ++j) {\n                carry += digits[j] << 8;\n                digits[j] = carry % this.base;\n                carry = (carry / this.base) | 0;\n            }\n            while (carry > 0) {\n                digits.push(carry % this.base);\n                carry = (carry / this.base) | 0;\n            }\n        }\n        let string = \"\";\n        // deal with leading zeros\n        for (let k = 0; source[k] === 0 && k < source.length - 1; ++k) {\n            string += this._leader;\n        }\n        // convert digits to a string\n        for (let q = digits.length - 1; q >= 0; --q) {\n            string += this.alphabet[digits[q]];\n        }\n        return string;\n    }\n    decode(value) {\n        if (typeof (value) !== \"string\") {\n            throw new TypeError(\"Expected String\");\n        }\n        let bytes = [];\n        if (value.length === 0) {\n            return new Uint8Array(bytes);\n        }\n        bytes.push(0);\n        for (let i = 0; i < value.length; i++) {\n            let byte = this._alphabetMap[value[i]];\n            if (byte === undefined) {\n                throw new Error(\"Non-base\" + this.base + \" character\");\n            }\n            let carry = byte;\n            for (let j = 0; j < bytes.length; ++j) {\n                carry += bytes[j] * this.base;\n                bytes[j] = carry & 0xff;\n                carry >>= 8;\n            }\n            while (carry > 0) {\n                bytes.push(carry & 0xff);\n                carry >>= 8;\n            }\n        }\n        // deal with leading zeros\n        for (let k = 0; value[k] === this._leader && k < value.length - 1; ++k) {\n            bytes.push(0);\n        }\n        return arrayify(new Uint8Array(bytes.reverse()));\n    }\n}\nconst Base32 = new BaseX(\"abcdefghijklmnopqrstuvwxyz234567\");\nconst Base58 = new BaseX(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\");\nexport { Base32, Base58 };\n//console.log(Base58.decode(\"Qmd2V777o5XvJbYMeMb8k2nU5f8d3ciUQ5YpYuWhzv8iDj\"))\n//console.log(Base58.encode(Base58.decode(\"Qmd2V777o5XvJbYMeMb8k2nU5f8d3ciUQ5YpYuWhzv8iDj\")))\n//# sourceMappingURL=index.js.map","import { BigNumber } from \"@ethersproject/bignumber\";\nconst NegativeOne = ( /*#__PURE__*/BigNumber.from(-1));\nconst Zero = ( /*#__PURE__*/BigNumber.from(0));\nconst One = ( /*#__PURE__*/BigNumber.from(1));\nconst Two = ( /*#__PURE__*/BigNumber.from(2));\nconst WeiPerEther = ( /*#__PURE__*/BigNumber.from(\"1000000000000000000\"));\nconst MaxUint256 = ( /*#__PURE__*/BigNumber.from(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"));\nconst MinInt256 = ( /*#__PURE__*/BigNumber.from(\"-0x8000000000000000000000000000000000000000000000000000000000000000\"));\nconst MaxInt256 = ( /*#__PURE__*/BigNumber.from(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"));\nexport { NegativeOne, Zero, One, Two, WeiPerEther, MaxUint256, MinInt256, MaxInt256, };\n//# sourceMappingURL=bignumbers.js.map","/**\n * [js-sha3]{@link https://github.com/emn178/js-sha3}\n *\n * @version 0.8.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2015-2018\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var INPUT_ERROR = 'input is invalid type';\n  var FINALIZE_ERROR = 'finalize already called';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA3_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA3_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA3_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var SHAKE_PADDING = [31, 7936, 2031616, 520093696];\n  var CSHAKE_PADDING = [4, 1024, 262144, 67108864];\n  var KECCAK_PADDING = [1, 256, 65536, 16777216];\n  var PADDING = [6, 1536, 393216, 100663296];\n  var SHIFT = [0, 8, 16, 24];\n  var RC = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649,\n    0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0,\n    2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771,\n    2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648,\n    2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648];\n  var BITS = [224, 256, 384, 512];\n  var SHAKE_BITS = [128, 256];\n  var OUTPUT_TYPES = ['hex', 'buffer', 'arrayBuffer', 'array', 'digest'];\n  var CSHAKE_BYTEPAD = {\n    '128': 168,\n    '256': 136\n  };\n\n  if (root.JS_SHA3_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (bits, padding, outputType) {\n    return function (message) {\n      return new Keccak(bits, padding, bits).update(message)[outputType]();\n    };\n  };\n\n  var createShakeOutputMethod = function (bits, padding, outputType) {\n    return function (message, outputBits) {\n      return new Keccak(bits, padding, outputBits).update(message)[outputType]();\n    };\n  };\n\n  var createCshakeOutputMethod = function (bits, padding, outputType) {\n    return function (message, outputBits, n, s) {\n      return methods['cshake' + bits].update(message, outputBits, n, s)[outputType]();\n    };\n  };\n\n  var createKmacOutputMethod = function (bits, padding, outputType) {\n    return function (key, message, outputBits, s) {\n      return methods['kmac' + bits].update(key, message, outputBits, s)[outputType]();\n    };\n  };\n\n  var createOutputMethods = function (method, createMethod, bits, padding) {\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createMethod(bits, padding, type);\n    }\n    return method;\n  };\n\n  var createMethod = function (bits, padding) {\n    var method = createOutputMethod(bits, padding, 'hex');\n    method.create = function () {\n      return new Keccak(bits, padding, bits);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    return createOutputMethods(method, createOutputMethod, bits, padding);\n  };\n\n  var createShakeMethod = function (bits, padding) {\n    var method = createShakeOutputMethod(bits, padding, 'hex');\n    method.create = function (outputBits) {\n      return new Keccak(bits, padding, outputBits);\n    };\n    method.update = function (message, outputBits) {\n      return method.create(outputBits).update(message);\n    };\n    return createOutputMethods(method, createShakeOutputMethod, bits, padding);\n  };\n\n  var createCshakeMethod = function (bits, padding) {\n    var w = CSHAKE_BYTEPAD[bits];\n    var method = createCshakeOutputMethod(bits, padding, 'hex');\n    method.create = function (outputBits, n, s) {\n      if (!n && !s) {\n        return methods['shake' + bits].create(outputBits);\n      } else {\n        return new Keccak(bits, padding, outputBits).bytepad([n, s], w);\n      }\n    };\n    method.update = function (message, outputBits, n, s) {\n      return method.create(outputBits, n, s).update(message);\n    };\n    return createOutputMethods(method, createCshakeOutputMethod, bits, padding);\n  };\n\n  var createKmacMethod = function (bits, padding) {\n    var w = CSHAKE_BYTEPAD[bits];\n    var method = createKmacOutputMethod(bits, padding, 'hex');\n    method.create = function (key, outputBits, s) {\n      return new Kmac(bits, padding, outputBits).bytepad(['KMAC', s], w).bytepad([key], w);\n    };\n    method.update = function (key, message, outputBits, s) {\n      return method.create(key, outputBits, s).update(message);\n    };\n    return createOutputMethods(method, createKmacOutputMethod, bits, padding);\n  };\n\n  var algorithms = [\n    { name: 'keccak', padding: KECCAK_PADDING, bits: BITS, createMethod: createMethod },\n    { name: 'sha3', padding: PADDING, bits: BITS, createMethod: createMethod },\n    { name: 'shake', padding: SHAKE_PADDING, bits: SHAKE_BITS, createMethod: createShakeMethod },\n    { name: 'cshake', padding: CSHAKE_PADDING, bits: SHAKE_BITS, createMethod: createCshakeMethod },\n    { name: 'kmac', padding: CSHAKE_PADDING, bits: SHAKE_BITS, createMethod: createKmacMethod }\n  ];\n\n  var methods = {}, methodNames = [];\n\n  for (var i = 0; i < algorithms.length; ++i) {\n    var algorithm = algorithms[i];\n    var bits = algorithm.bits;\n    for (var j = 0; j < bits.length; ++j) {\n      var methodName = algorithm.name + '_' + bits[j];\n      methodNames.push(methodName);\n      methods[methodName] = algorithm.createMethod(bits[j], algorithm.padding);\n      if (algorithm.name !== 'sha3') {\n        var newMethodName = algorithm.name + bits[j];\n        methodNames.push(newMethodName);\n        methods[newMethodName] = methods[methodName];\n      }\n    }\n  }\n\n  function Keccak(bits, padding, outputBits) {\n    this.blocks = [];\n    this.s = [];\n    this.padding = padding;\n    this.outputBits = outputBits;\n    this.reset = true;\n    this.finalized = false;\n    this.block = 0;\n    this.start = 0;\n    this.blockCount = (1600 - (bits << 1)) >> 5;\n    this.byteCount = this.blockCount << 2;\n    this.outputBlocks = outputBits >> 5;\n    this.extraBytes = (outputBits & 31) >> 3;\n\n    for (var i = 0; i < 50; ++i) {\n      this.s[i] = 0;\n    }\n  }\n\n  Keccak.prototype.update = function (message) {\n    if (this.finalized) {\n      throw new Error(FINALIZE_ERROR);\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(INPUT_ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(INPUT_ERROR);\n          }\n        }\n      } else {\n        throw new Error(INPUT_ERROR);\n      }\n      notString = true;\n    }\n    var blocks = this.blocks, byteCount = this.byteCount, length = message.length,\n      blockCount = this.blockCount, index = 0, s = this.s, i, code;\n\n    while (index < length) {\n      if (this.reset) {\n        this.reset = false;\n        blocks[0] = this.block;\n        for (i = 1; i < blockCount + 1; ++i) {\n          blocks[i] = 0;\n        }\n      }\n      if (notString) {\n        for (i = this.start; index < length && i < byteCount; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < byteCount; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n      this.lastByteIndex = i;\n      if (i >= byteCount) {\n        this.start = i - byteCount;\n        this.block = blocks[blockCount];\n        for (i = 0; i < blockCount; ++i) {\n          s[i] ^= blocks[i];\n        }\n        f(s);\n        this.reset = true;\n      } else {\n        this.start = i;\n      }\n    }\n    return this;\n  };\n\n  Keccak.prototype.encode = function (x, right) {\n    var o = x & 255, n = 1;\n    var bytes = [o];\n    x = x >> 8;\n    o = x & 255;\n    while (o > 0) {\n      bytes.unshift(o);\n      x = x >> 8;\n      o = x & 255;\n      ++n;\n    }\n    if (right) {\n      bytes.push(n);\n    } else {\n      bytes.unshift(n);\n    }\n    this.update(bytes);\n    return bytes.length;\n  };\n\n  Keccak.prototype.encodeString = function (str) {\n    var notString, type = typeof str;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (str === null) {\n          throw new Error(INPUT_ERROR);\n        } else if (ARRAY_BUFFER && str.constructor === ArrayBuffer) {\n          str = new Uint8Array(str);\n        } else if (!Array.isArray(str)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(str)) {\n            throw new Error(INPUT_ERROR);\n          }\n        }\n      } else {\n        throw new Error(INPUT_ERROR);\n      }\n      notString = true;\n    }\n    var bytes = 0, length = str.length;\n    if (notString) {\n      bytes = length;\n    } else {\n      for (var i = 0; i < str.length; ++i) {\n        var code = str.charCodeAt(i);\n        if (code < 0x80) {\n          bytes += 1;\n        } else if (code < 0x800) {\n          bytes += 2;\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes += 3;\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (str.charCodeAt(++i) & 0x3ff));\n          bytes += 4;\n        }\n      }\n    }\n    bytes += this.encode(bytes * 8);\n    this.update(str);\n    return bytes;\n  };\n\n  Keccak.prototype.bytepad = function (strs, w) {\n    var bytes = this.encode(w);\n    for (var i = 0; i < strs.length; ++i) {\n      bytes += this.encodeString(strs[i]);\n    }\n    var paddingBytes = w - bytes % w;\n    var zeros = [];\n    zeros.length = paddingBytes;\n    this.update(zeros);\n    return this;\n  };\n\n  Keccak.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex, blockCount = this.blockCount, s = this.s;\n    blocks[i >> 2] |= this.padding[i & 3];\n    if (this.lastByteIndex === this.byteCount) {\n      blocks[0] = blocks[blockCount];\n      for (i = 1; i < blockCount + 1; ++i) {\n        blocks[i] = 0;\n      }\n    }\n    blocks[blockCount - 1] |= 0x80000000;\n    for (i = 0; i < blockCount; ++i) {\n      s[i] ^= blocks[i];\n    }\n    f(s);\n  };\n\n  Keccak.prototype.toString = Keccak.prototype.hex = function () {\n    this.finalize();\n\n    var blockCount = this.blockCount, s = this.s, outputBlocks = this.outputBlocks,\n      extraBytes = this.extraBytes, i = 0, j = 0;\n    var hex = '', block;\n    while (j < outputBlocks) {\n      for (i = 0; i < blockCount && j < outputBlocks; ++i, ++j) {\n        block = s[i];\n        hex += HEX_CHARS[(block >> 4) & 0x0F] + HEX_CHARS[block & 0x0F] +\n          HEX_CHARS[(block >> 12) & 0x0F] + HEX_CHARS[(block >> 8) & 0x0F] +\n          HEX_CHARS[(block >> 20) & 0x0F] + HEX_CHARS[(block >> 16) & 0x0F] +\n          HEX_CHARS[(block >> 28) & 0x0F] + HEX_CHARS[(block >> 24) & 0x0F];\n      }\n      if (j % blockCount === 0) {\n        f(s);\n        i = 0;\n      }\n    }\n    if (extraBytes) {\n      block = s[i];\n      hex += HEX_CHARS[(block >> 4) & 0x0F] + HEX_CHARS[block & 0x0F];\n      if (extraBytes > 1) {\n        hex += HEX_CHARS[(block >> 12) & 0x0F] + HEX_CHARS[(block >> 8) & 0x0F];\n      }\n      if (extraBytes > 2) {\n        hex += HEX_CHARS[(block >> 20) & 0x0F] + HEX_CHARS[(block >> 16) & 0x0F];\n      }\n    }\n    return hex;\n  };\n\n  Keccak.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var blockCount = this.blockCount, s = this.s, outputBlocks = this.outputBlocks,\n      extraBytes = this.extraBytes, i = 0, j = 0;\n    var bytes = this.outputBits >> 3;\n    var buffer;\n    if (extraBytes) {\n      buffer = new ArrayBuffer((outputBlocks + 1) << 2);\n    } else {\n      buffer = new ArrayBuffer(bytes);\n    }\n    var array = new Uint32Array(buffer);\n    while (j < outputBlocks) {\n      for (i = 0; i < blockCount && j < outputBlocks; ++i, ++j) {\n        array[j] = s[i];\n      }\n      if (j % blockCount === 0) {\n        f(s);\n      }\n    }\n    if (extraBytes) {\n      array[i] = s[i];\n      buffer = buffer.slice(0, bytes);\n    }\n    return buffer;\n  };\n\n  Keccak.prototype.buffer = Keccak.prototype.arrayBuffer;\n\n  Keccak.prototype.digest = Keccak.prototype.array = function () {\n    this.finalize();\n\n    var blockCount = this.blockCount, s = this.s, outputBlocks = this.outputBlocks,\n      extraBytes = this.extraBytes, i = 0, j = 0;\n    var array = [], offset, block;\n    while (j < outputBlocks) {\n      for (i = 0; i < blockCount && j < outputBlocks; ++i, ++j) {\n        offset = j << 2;\n        block = s[i];\n        array[offset] = block & 0xFF;\n        array[offset + 1] = (block >> 8) & 0xFF;\n        array[offset + 2] = (block >> 16) & 0xFF;\n        array[offset + 3] = (block >> 24) & 0xFF;\n      }\n      if (j % blockCount === 0) {\n        f(s);\n      }\n    }\n    if (extraBytes) {\n      offset = j << 2;\n      block = s[i];\n      array[offset] = block & 0xFF;\n      if (extraBytes > 1) {\n        array[offset + 1] = (block >> 8) & 0xFF;\n      }\n      if (extraBytes > 2) {\n        array[offset + 2] = (block >> 16) & 0xFF;\n      }\n    }\n    return array;\n  };\n\n  function Kmac(bits, padding, outputBits) {\n    Keccak.call(this, bits, padding, outputBits);\n  }\n\n  Kmac.prototype = new Keccak();\n\n  Kmac.prototype.finalize = function () {\n    this.encode(this.outputBits, true);\n    return Keccak.prototype.finalize.call(this);\n  };\n\n  var f = function (s) {\n    var h, l, n, c0, c1, c2, c3, c4, c5, c6, c7, c8, c9,\n      b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, b10, b11, b12, b13, b14, b15, b16, b17,\n      b18, b19, b20, b21, b22, b23, b24, b25, b26, b27, b28, b29, b30, b31, b32, b33,\n      b34, b35, b36, b37, b38, b39, b40, b41, b42, b43, b44, b45, b46, b47, b48, b49;\n    for (n = 0; n < 48; n += 2) {\n      c0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40];\n      c1 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41];\n      c2 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42];\n      c3 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43];\n      c4 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44];\n      c5 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45];\n      c6 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46];\n      c7 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47];\n      c8 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48];\n      c9 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49];\n\n      h = c8 ^ ((c2 << 1) | (c3 >>> 31));\n      l = c9 ^ ((c3 << 1) | (c2 >>> 31));\n      s[0] ^= h;\n      s[1] ^= l;\n      s[10] ^= h;\n      s[11] ^= l;\n      s[20] ^= h;\n      s[21] ^= l;\n      s[30] ^= h;\n      s[31] ^= l;\n      s[40] ^= h;\n      s[41] ^= l;\n      h = c0 ^ ((c4 << 1) | (c5 >>> 31));\n      l = c1 ^ ((c5 << 1) | (c4 >>> 31));\n      s[2] ^= h;\n      s[3] ^= l;\n      s[12] ^= h;\n      s[13] ^= l;\n      s[22] ^= h;\n      s[23] ^= l;\n      s[32] ^= h;\n      s[33] ^= l;\n      s[42] ^= h;\n      s[43] ^= l;\n      h = c2 ^ ((c6 << 1) | (c7 >>> 31));\n      l = c3 ^ ((c7 << 1) | (c6 >>> 31));\n      s[4] ^= h;\n      s[5] ^= l;\n      s[14] ^= h;\n      s[15] ^= l;\n      s[24] ^= h;\n      s[25] ^= l;\n      s[34] ^= h;\n      s[35] ^= l;\n      s[44] ^= h;\n      s[45] ^= l;\n      h = c4 ^ ((c8 << 1) | (c9 >>> 31));\n      l = c5 ^ ((c9 << 1) | (c8 >>> 31));\n      s[6] ^= h;\n      s[7] ^= l;\n      s[16] ^= h;\n      s[17] ^= l;\n      s[26] ^= h;\n      s[27] ^= l;\n      s[36] ^= h;\n      s[37] ^= l;\n      s[46] ^= h;\n      s[47] ^= l;\n      h = c6 ^ ((c0 << 1) | (c1 >>> 31));\n      l = c7 ^ ((c1 << 1) | (c0 >>> 31));\n      s[8] ^= h;\n      s[9] ^= l;\n      s[18] ^= h;\n      s[19] ^= l;\n      s[28] ^= h;\n      s[29] ^= l;\n      s[38] ^= h;\n      s[39] ^= l;\n      s[48] ^= h;\n      s[49] ^= l;\n\n      b0 = s[0];\n      b1 = s[1];\n      b32 = (s[11] << 4) | (s[10] >>> 28);\n      b33 = (s[10] << 4) | (s[11] >>> 28);\n      b14 = (s[20] << 3) | (s[21] >>> 29);\n      b15 = (s[21] << 3) | (s[20] >>> 29);\n      b46 = (s[31] << 9) | (s[30] >>> 23);\n      b47 = (s[30] << 9) | (s[31] >>> 23);\n      b28 = (s[40] << 18) | (s[41] >>> 14);\n      b29 = (s[41] << 18) | (s[40] >>> 14);\n      b20 = (s[2] << 1) | (s[3] >>> 31);\n      b21 = (s[3] << 1) | (s[2] >>> 31);\n      b2 = (s[13] << 12) | (s[12] >>> 20);\n      b3 = (s[12] << 12) | (s[13] >>> 20);\n      b34 = (s[22] << 10) | (s[23] >>> 22);\n      b35 = (s[23] << 10) | (s[22] >>> 22);\n      b16 = (s[33] << 13) | (s[32] >>> 19);\n      b17 = (s[32] << 13) | (s[33] >>> 19);\n      b48 = (s[42] << 2) | (s[43] >>> 30);\n      b49 = (s[43] << 2) | (s[42] >>> 30);\n      b40 = (s[5] << 30) | (s[4] >>> 2);\n      b41 = (s[4] << 30) | (s[5] >>> 2);\n      b22 = (s[14] << 6) | (s[15] >>> 26);\n      b23 = (s[15] << 6) | (s[14] >>> 26);\n      b4 = (s[25] << 11) | (s[24] >>> 21);\n      b5 = (s[24] << 11) | (s[25] >>> 21);\n      b36 = (s[34] << 15) | (s[35] >>> 17);\n      b37 = (s[35] << 15) | (s[34] >>> 17);\n      b18 = (s[45] << 29) | (s[44] >>> 3);\n      b19 = (s[44] << 29) | (s[45] >>> 3);\n      b10 = (s[6] << 28) | (s[7] >>> 4);\n      b11 = (s[7] << 28) | (s[6] >>> 4);\n      b42 = (s[17] << 23) | (s[16] >>> 9);\n      b43 = (s[16] << 23) | (s[17] >>> 9);\n      b24 = (s[26] << 25) | (s[27] >>> 7);\n      b25 = (s[27] << 25) | (s[26] >>> 7);\n      b6 = (s[36] << 21) | (s[37] >>> 11);\n      b7 = (s[37] << 21) | (s[36] >>> 11);\n      b38 = (s[47] << 24) | (s[46] >>> 8);\n      b39 = (s[46] << 24) | (s[47] >>> 8);\n      b30 = (s[8] << 27) | (s[9] >>> 5);\n      b31 = (s[9] << 27) | (s[8] >>> 5);\n      b12 = (s[18] << 20) | (s[19] >>> 12);\n      b13 = (s[19] << 20) | (s[18] >>> 12);\n      b44 = (s[29] << 7) | (s[28] >>> 25);\n      b45 = (s[28] << 7) | (s[29] >>> 25);\n      b26 = (s[38] << 8) | (s[39] >>> 24);\n      b27 = (s[39] << 8) | (s[38] >>> 24);\n      b8 = (s[48] << 14) | (s[49] >>> 18);\n      b9 = (s[49] << 14) | (s[48] >>> 18);\n\n      s[0] = b0 ^ (~b2 & b4);\n      s[1] = b1 ^ (~b3 & b5);\n      s[10] = b10 ^ (~b12 & b14);\n      s[11] = b11 ^ (~b13 & b15);\n      s[20] = b20 ^ (~b22 & b24);\n      s[21] = b21 ^ (~b23 & b25);\n      s[30] = b30 ^ (~b32 & b34);\n      s[31] = b31 ^ (~b33 & b35);\n      s[40] = b40 ^ (~b42 & b44);\n      s[41] = b41 ^ (~b43 & b45);\n      s[2] = b2 ^ (~b4 & b6);\n      s[3] = b3 ^ (~b5 & b7);\n      s[12] = b12 ^ (~b14 & b16);\n      s[13] = b13 ^ (~b15 & b17);\n      s[22] = b22 ^ (~b24 & b26);\n      s[23] = b23 ^ (~b25 & b27);\n      s[32] = b32 ^ (~b34 & b36);\n      s[33] = b33 ^ (~b35 & b37);\n      s[42] = b42 ^ (~b44 & b46);\n      s[43] = b43 ^ (~b45 & b47);\n      s[4] = b4 ^ (~b6 & b8);\n      s[5] = b5 ^ (~b7 & b9);\n      s[14] = b14 ^ (~b16 & b18);\n      s[15] = b15 ^ (~b17 & b19);\n      s[24] = b24 ^ (~b26 & b28);\n      s[25] = b25 ^ (~b27 & b29);\n      s[34] = b34 ^ (~b36 & b38);\n      s[35] = b35 ^ (~b37 & b39);\n      s[44] = b44 ^ (~b46 & b48);\n      s[45] = b45 ^ (~b47 & b49);\n      s[6] = b6 ^ (~b8 & b0);\n      s[7] = b7 ^ (~b9 & b1);\n      s[16] = b16 ^ (~b18 & b10);\n      s[17] = b17 ^ (~b19 & b11);\n      s[26] = b26 ^ (~b28 & b20);\n      s[27] = b27 ^ (~b29 & b21);\n      s[36] = b36 ^ (~b38 & b30);\n      s[37] = b37 ^ (~b39 & b31);\n      s[46] = b46 ^ (~b48 & b40);\n      s[47] = b47 ^ (~b49 & b41);\n      s[8] = b8 ^ (~b0 & b2);\n      s[9] = b9 ^ (~b1 & b3);\n      s[18] = b18 ^ (~b10 & b12);\n      s[19] = b19 ^ (~b11 & b13);\n      s[28] = b28 ^ (~b20 & b22);\n      s[29] = b29 ^ (~b21 & b23);\n      s[38] = b38 ^ (~b30 & b32);\n      s[39] = b39 ^ (~b31 & b33);\n      s[48] = b48 ^ (~b40 & b42);\n      s[49] = b49 ^ (~b41 & b43);\n\n      s[0] ^= RC[n];\n      s[1] ^= RC[n + 1];\n    }\n  };\n\n  if (COMMON_JS) {\n    module.exports = methods;\n  } else {\n    for (i = 0; i < methodNames.length; ++i) {\n      root[methodNames[i]] = methods[methodNames[i]];\n    }\n    if (AMD) {\n      define(function () {\n        return methods;\n      });\n    }\n  }\n})();\n","\"use strict\";\nimport sha3 from \"js-sha3\";\nimport { arrayify } from \"@ethersproject/bytes\";\nexport function keccak256(data) {\n    return '0x' + sha3.keccak_256(arrayify(data));\n}\n//# sourceMappingURL=index.js.map","export const version = \"strings/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { arrayify } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n///////////////////////////////\nexport var UnicodeNormalizationForm;\n(function (UnicodeNormalizationForm) {\n    UnicodeNormalizationForm[\"current\"] = \"\";\n    UnicodeNormalizationForm[\"NFC\"] = \"NFC\";\n    UnicodeNormalizationForm[\"NFD\"] = \"NFD\";\n    UnicodeNormalizationForm[\"NFKC\"] = \"NFKC\";\n    UnicodeNormalizationForm[\"NFKD\"] = \"NFKD\";\n})(UnicodeNormalizationForm || (UnicodeNormalizationForm = {}));\n;\nexport var Utf8ErrorReason;\n(function (Utf8ErrorReason) {\n    // A continuation byte was present where there was nothing to continue\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"UNEXPECTED_CONTINUE\"] = \"unexpected continuation byte\";\n    // An invalid (non-continuation) byte to start a UTF-8 codepoint was found\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"BAD_PREFIX\"] = \"bad codepoint prefix\";\n    // The string is too short to process the expected codepoint\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"OVERRUN\"] = \"string overrun\";\n    // A missing continuation byte was expected but not found\n    // - offset = the index the continuation byte was expected at\n    Utf8ErrorReason[\"MISSING_CONTINUE\"] = \"missing continuation byte\";\n    // The computed code point is outside the range for UTF-8\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; outside the UTF-8 range\n    Utf8ErrorReason[\"OUT_OF_RANGE\"] = \"out of UTF-8 range\";\n    // UTF-8 strings may not contain UTF-16 surrogate pairs\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; inside the UTF-16 surrogate range\n    Utf8ErrorReason[\"UTF16_SURROGATE\"] = \"UTF-16 surrogate\";\n    // The string is an overlong representation\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; already bounds checked\n    Utf8ErrorReason[\"OVERLONG\"] = \"overlong representation\";\n})(Utf8ErrorReason || (Utf8ErrorReason = {}));\n;\nfunction errorFunc(reason, offset, bytes, output, badCodepoint) {\n    return logger.throwArgumentError(`invalid codepoint at offset ${offset}; ${reason}`, \"bytes\", bytes);\n}\nfunction ignoreFunc(reason, offset, bytes, output, badCodepoint) {\n    // If there is an invalid prefix (including stray continuation), skip any additional continuation bytes\n    if (reason === Utf8ErrorReason.BAD_PREFIX || reason === Utf8ErrorReason.UNEXPECTED_CONTINUE) {\n        let i = 0;\n        for (let o = offset + 1; o < bytes.length; o++) {\n            if (bytes[o] >> 6 !== 0x02) {\n                break;\n            }\n            i++;\n        }\n        return i;\n    }\n    // This byte runs us past the end of the string, so just jump to the end\n    // (but the first byte was read already read and therefore skipped)\n    if (reason === Utf8ErrorReason.OVERRUN) {\n        return bytes.length - offset - 1;\n    }\n    // Nothing to skip\n    return 0;\n}\nfunction replaceFunc(reason, offset, bytes, output, badCodepoint) {\n    // Overlong representations are otherwise \"valid\" code points; just non-deistingtished\n    if (reason === Utf8ErrorReason.OVERLONG) {\n        output.push(badCodepoint);\n        return 0;\n    }\n    // Put the replacement character into the output\n    output.push(0xfffd);\n    // Otherwise, process as if ignoring errors\n    return ignoreFunc(reason, offset, bytes, output, badCodepoint);\n}\n// Common error handing strategies\nexport const Utf8ErrorFuncs = Object.freeze({\n    error: errorFunc,\n    ignore: ignoreFunc,\n    replace: replaceFunc\n});\n// http://stackoverflow.com/questions/13356493/decode-utf-8-with-javascript#13691499\nfunction getUtf8CodePoints(bytes, onError) {\n    if (onError == null) {\n        onError = Utf8ErrorFuncs.error;\n    }\n    bytes = arrayify(bytes);\n    const result = [];\n    let i = 0;\n    // Invalid bytes are ignored\n    while (i < bytes.length) {\n        const c = bytes[i++];\n        // 0xxx xxxx\n        if (c >> 7 === 0) {\n            result.push(c);\n            continue;\n        }\n        // Multibyte; how many bytes left for this character?\n        let extraLength = null;\n        let overlongMask = null;\n        // 110x xxxx 10xx xxxx\n        if ((c & 0xe0) === 0xc0) {\n            extraLength = 1;\n            overlongMask = 0x7f;\n            // 1110 xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf0) === 0xe0) {\n            extraLength = 2;\n            overlongMask = 0x7ff;\n            // 1111 0xxx 10xx xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf8) === 0xf0) {\n            extraLength = 3;\n            overlongMask = 0xffff;\n        }\n        else {\n            if ((c & 0xc0) === 0x80) {\n                i += onError(Utf8ErrorReason.UNEXPECTED_CONTINUE, i - 1, bytes, result);\n            }\n            else {\n                i += onError(Utf8ErrorReason.BAD_PREFIX, i - 1, bytes, result);\n            }\n            continue;\n        }\n        // Do we have enough bytes in our data?\n        if (i - 1 + extraLength >= bytes.length) {\n            i += onError(Utf8ErrorReason.OVERRUN, i - 1, bytes, result);\n            continue;\n        }\n        // Remove the length prefix from the char\n        let res = c & ((1 << (8 - extraLength - 1)) - 1);\n        for (let j = 0; j < extraLength; j++) {\n            let nextChar = bytes[i];\n            // Invalid continuation byte\n            if ((nextChar & 0xc0) != 0x80) {\n                i += onError(Utf8ErrorReason.MISSING_CONTINUE, i, bytes, result);\n                res = null;\n                break;\n            }\n            ;\n            res = (res << 6) | (nextChar & 0x3f);\n            i++;\n        }\n        // See above loop for invalid continuation byte\n        if (res === null) {\n            continue;\n        }\n        // Maximum code point\n        if (res > 0x10ffff) {\n            i += onError(Utf8ErrorReason.OUT_OF_RANGE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Reserved for UTF-16 surrogate halves\n        if (res >= 0xd800 && res <= 0xdfff) {\n            i += onError(Utf8ErrorReason.UTF16_SURROGATE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Check for overlong sequences (more bytes than needed)\n        if (res <= overlongMask) {\n            i += onError(Utf8ErrorReason.OVERLONG, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        result.push(res);\n    }\n    return result;\n}\n// http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\nexport function toUtf8Bytes(str, form = UnicodeNormalizationForm.current) {\n    if (form != UnicodeNormalizationForm.current) {\n        logger.checkNormalize();\n        str = str.normalize(form);\n    }\n    let result = [];\n    for (let i = 0; i < str.length; i++) {\n        const c = str.charCodeAt(i);\n        if (c < 0x80) {\n            result.push(c);\n        }\n        else if (c < 0x800) {\n            result.push((c >> 6) | 0xc0);\n            result.push((c & 0x3f) | 0x80);\n        }\n        else if ((c & 0xfc00) == 0xd800) {\n            i++;\n            const c2 = str.charCodeAt(i);\n            if (i >= str.length || (c2 & 0xfc00) !== 0xdc00) {\n                throw new Error(\"invalid utf-8 string\");\n            }\n            // Surrogate Pair\n            const pair = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\n            result.push((pair >> 18) | 0xf0);\n            result.push(((pair >> 12) & 0x3f) | 0x80);\n            result.push(((pair >> 6) & 0x3f) | 0x80);\n            result.push((pair & 0x3f) | 0x80);\n        }\n        else {\n            result.push((c >> 12) | 0xe0);\n            result.push(((c >> 6) & 0x3f) | 0x80);\n            result.push((c & 0x3f) | 0x80);\n        }\n    }\n    return arrayify(result);\n}\n;\nfunction escapeChar(value) {\n    const hex = (\"0000\" + value.toString(16));\n    return \"\\\\u\" + hex.substring(hex.length - 4);\n}\nexport function _toEscapedUtf8String(bytes, onError) {\n    return '\"' + getUtf8CodePoints(bytes, onError).map((codePoint) => {\n        if (codePoint < 256) {\n            switch (codePoint) {\n                case 8: return \"\\\\b\";\n                case 9: return \"\\\\t\";\n                case 10: return \"\\\\n\";\n                case 13: return \"\\\\r\";\n                case 34: return \"\\\\\\\"\";\n                case 92: return \"\\\\\\\\\";\n            }\n            if (codePoint >= 32 && codePoint < 127) {\n                return String.fromCharCode(codePoint);\n            }\n        }\n        if (codePoint <= 0xffff) {\n            return escapeChar(codePoint);\n        }\n        codePoint -= 0x10000;\n        return escapeChar(((codePoint >> 10) & 0x3ff) + 0xd800) + escapeChar((codePoint & 0x3ff) + 0xdc00);\n    }).join(\"\") + '\"';\n}\nexport function _toUtf8String(codePoints) {\n    return codePoints.map((codePoint) => {\n        if (codePoint <= 0xffff) {\n            return String.fromCharCode(codePoint);\n        }\n        codePoint -= 0x10000;\n        return String.fromCharCode((((codePoint >> 10) & 0x3ff) + 0xd800), ((codePoint & 0x3ff) + 0xdc00));\n    }).join(\"\");\n}\nexport function toUtf8String(bytes, onError) {\n    return _toUtf8String(getUtf8CodePoints(bytes, onError));\n}\nexport function toUtf8CodePoints(str, form = UnicodeNormalizationForm.current) {\n    return getUtf8CodePoints(toUtf8Bytes(str, form));\n}\n//# sourceMappingURL=utf8.js.map","import { keccak256 } from \"@ethersproject/keccak256\";\nimport { toUtf8Bytes } from \"@ethersproject/strings\";\nexport function id(text) {\n    return keccak256(toUtf8Bytes(text));\n}\n//# sourceMappingURL=id.js.map","export const version = \"hash/5.7.0\";\n//# sourceMappingURL=_version.js.map","/**\n * MIT License\n *\n * Copyright (c) 2021 Andrew Raffensperger\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * This is a near carbon-copy of the original source (link below) with the\n * TypeScript typings added and a few tweaks to make it ES3-compatible.\n *\n * See: https://github.com/adraffy/ens-normalize.js\n */\n// https://github.com/behnammodi/polyfill/blob/master/array.polyfill.js\nfunction flat(array, depth) {\n    if (depth == null) {\n        depth = 1;\n    }\n    const result = [];\n    const forEach = result.forEach;\n    const flatDeep = function (arr, depth) {\n        forEach.call(arr, function (val) {\n            if (depth > 0 && Array.isArray(val)) {\n                flatDeep(val, depth - 1);\n            }\n            else {\n                result.push(val);\n            }\n        });\n    };\n    flatDeep(array, depth);\n    return result;\n}\nfunction fromEntries(array) {\n    const result = {};\n    for (let i = 0; i < array.length; i++) {\n        const value = array[i];\n        result[value[0]] = value[1];\n    }\n    return result;\n}\nexport function decode_arithmetic(bytes) {\n    let pos = 0;\n    function u16() { return (bytes[pos++] << 8) | bytes[pos++]; }\n    // decode the frequency table\n    let symbol_count = u16();\n    let total = 1;\n    let acc = [0, 1]; // first symbol has frequency 1\n    for (let i = 1; i < symbol_count; i++) {\n        acc.push(total += u16());\n    }\n    // skip the sized-payload that the last 3 symbols index into\n    let skip = u16();\n    let pos_payload = pos;\n    pos += skip;\n    let read_width = 0;\n    let read_buffer = 0;\n    function read_bit() {\n        if (read_width == 0) {\n            // this will read beyond end of buffer\n            // but (undefined|0) => zero pad\n            read_buffer = (read_buffer << 8) | bytes[pos++];\n            read_width = 8;\n        }\n        return (read_buffer >> --read_width) & 1;\n    }\n    const N = 31;\n    const FULL = Math.pow(2, N);\n    const HALF = FULL >>> 1;\n    const QRTR = HALF >> 1;\n    const MASK = FULL - 1;\n    // fill register\n    let register = 0;\n    for (let i = 0; i < N; i++)\n        register = (register << 1) | read_bit();\n    let symbols = [];\n    let low = 0;\n    let range = FULL; // treat like a float\n    while (true) {\n        let value = Math.floor((((register - low + 1) * total) - 1) / range);\n        let start = 0;\n        let end = symbol_count;\n        while (end - start > 1) { // binary search\n            let mid = (start + end) >>> 1;\n            if (value < acc[mid]) {\n                end = mid;\n            }\n            else {\n                start = mid;\n            }\n        }\n        if (start == 0)\n            break; // first symbol is end mark\n        symbols.push(start);\n        let a = low + Math.floor(range * acc[start] / total);\n        let b = low + Math.floor(range * acc[start + 1] / total) - 1;\n        while (((a ^ b) & HALF) == 0) {\n            register = (register << 1) & MASK | read_bit();\n            a = (a << 1) & MASK;\n            b = (b << 1) & MASK | 1;\n        }\n        while (a & ~b & QRTR) {\n            register = (register & HALF) | ((register << 1) & (MASK >>> 1)) | read_bit();\n            a = (a << 1) ^ HALF;\n            b = ((b ^ HALF) << 1) | HALF | 1;\n        }\n        low = a;\n        range = 1 + b - a;\n    }\n    let offset = symbol_count - 4;\n    return symbols.map(x => {\n        switch (x - offset) {\n            case 3: return offset + 0x10100 + ((bytes[pos_payload++] << 16) | (bytes[pos_payload++] << 8) | bytes[pos_payload++]);\n            case 2: return offset + 0x100 + ((bytes[pos_payload++] << 8) | bytes[pos_payload++]);\n            case 1: return offset + bytes[pos_payload++];\n            default: return x - 1;\n        }\n    });\n}\n// returns an iterator which returns the next symbol\nexport function read_payload(v) {\n    let pos = 0;\n    return () => v[pos++];\n}\nexport function read_compressed_payload(bytes) {\n    return read_payload(decode_arithmetic(bytes));\n}\n// eg. [0,1,2,3...] => [0,-1,1,-2,...]\nexport function signed(i) {\n    return (i & 1) ? (~i >> 1) : (i >> 1);\n}\nfunction read_counts(n, next) {\n    let v = Array(n);\n    for (let i = 0; i < n; i++)\n        v[i] = 1 + next();\n    return v;\n}\nfunction read_ascending(n, next) {\n    let v = Array(n);\n    for (let i = 0, x = -1; i < n; i++)\n        v[i] = x += 1 + next();\n    return v;\n}\nfunction read_deltas(n, next) {\n    let v = Array(n);\n    for (let i = 0, x = 0; i < n; i++)\n        v[i] = x += signed(next());\n    return v;\n}\nexport function read_member_array(next, lookup) {\n    let v = read_ascending(next(), next);\n    let n = next();\n    let vX = read_ascending(n, next);\n    let vN = read_counts(n, next);\n    for (let i = 0; i < n; i++) {\n        for (let j = 0; j < vN[i]; j++) {\n            v.push(vX[i] + j);\n        }\n    }\n    return lookup ? v.map(x => lookup[x]) : v;\n}\n// returns array of \n// [x, ys] => single replacement rule\n// [x, ys, n, dx, dx] => linear map\nexport function read_mapped_map(next) {\n    let ret = [];\n    while (true) {\n        let w = next();\n        if (w == 0)\n            break;\n        ret.push(read_linear_table(w, next));\n    }\n    while (true) {\n        let w = next() - 1;\n        if (w < 0)\n            break;\n        ret.push(read_replacement_table(w, next));\n    }\n    return fromEntries(flat(ret));\n}\nexport function read_zero_terminated_array(next) {\n    let v = [];\n    while (true) {\n        let i = next();\n        if (i == 0)\n            break;\n        v.push(i);\n    }\n    return v;\n}\nfunction read_transposed(n, w, next) {\n    let m = Array(n).fill(undefined).map(() => []);\n    for (let i = 0; i < w; i++) {\n        read_deltas(n, next).forEach((x, j) => m[j].push(x));\n    }\n    return m;\n}\nfunction read_linear_table(w, next) {\n    let dx = 1 + next();\n    let dy = next();\n    let vN = read_zero_terminated_array(next);\n    let m = read_transposed(vN.length, 1 + w, next);\n    return flat(m.map((v, i) => {\n        const x = v[0], ys = v.slice(1);\n        //let [x, ...ys] = v;\n        //return Array(vN[i]).fill().map((_, j) => {\n        return Array(vN[i]).fill(undefined).map((_, j) => {\n            let j_dy = j * dy;\n            return [x + j * dx, ys.map(y => y + j_dy)];\n        });\n    }));\n}\nfunction read_replacement_table(w, next) {\n    let n = 1 + next();\n    let m = read_transposed(n, 1 + w, next);\n    return m.map(v => [v[0], v.slice(1)]);\n}\nexport function read_emoji_trie(next) {\n    let sorted = read_member_array(next).sort((a, b) => a - b);\n    return read();\n    function read() {\n        let branches = [];\n        while (true) {\n            let keys = read_member_array(next, sorted);\n            if (keys.length == 0)\n                break;\n            branches.push({ set: new Set(keys), node: read() });\n        }\n        branches.sort((a, b) => b.set.size - a.set.size); // sort by likelihood\n        let temp = next();\n        let valid = temp % 3;\n        temp = (temp / 3) | 0;\n        let fe0f = !!(temp & 1);\n        temp >>= 1;\n        let save = temp == 1;\n        let check = temp == 2;\n        return { branches, valid, fe0f, save, check };\n    }\n}\n//# sourceMappingURL=decoder.js.map","/**\n * MIT License\n *\n * Copyright (c) 2021 Andrew Raffensperger\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * This is a near carbon-copy of the original source (link below) with the\n * TypeScript typings added and a few tweaks to make it ES3-compatible.\n *\n * See: https://github.com/adraffy/ens-normalize.js\n */\nimport { toUtf8CodePoints } from \"@ethersproject/strings\";\nimport { getData } from './include.js';\nconst r = getData();\nimport { read_member_array, read_mapped_map, read_emoji_trie } from './decoder.js';\n// @TODO: This should be lazily loaded\nconst VALID = new Set(read_member_array(r));\nconst IGNORED = new Set(read_member_array(r));\nconst MAPPED = read_mapped_map(r);\nconst EMOJI_ROOT = read_emoji_trie(r);\n//const NFC_CHECK = new Set(read_member_array(r, Array.from(VALID.values()).sort((a, b) => a - b)));\n//const STOP = 0x2E;\nconst HYPHEN = 0x2D;\nconst UNDERSCORE = 0x5F;\nfunction explode_cp(name) {\n    return toUtf8CodePoints(name);\n}\nfunction filter_fe0f(cps) {\n    return cps.filter(cp => cp != 0xFE0F);\n}\nexport function ens_normalize_post_check(name) {\n    for (let label of name.split('.')) {\n        let cps = explode_cp(label);\n        try {\n            for (let i = cps.lastIndexOf(UNDERSCORE) - 1; i >= 0; i--) {\n                if (cps[i] !== UNDERSCORE) {\n                    throw new Error(`underscore only allowed at start`);\n                }\n            }\n            if (cps.length >= 4 && cps.every(cp => cp < 0x80) && cps[2] === HYPHEN && cps[3] === HYPHEN) {\n                throw new Error(`invalid label extension`);\n            }\n        }\n        catch (err) {\n            throw new Error(`Invalid label \"${label}\": ${err.message}`);\n        }\n    }\n    return name;\n}\nexport function ens_normalize(name) {\n    return ens_normalize_post_check(normalize(name, filter_fe0f));\n}\nfunction normalize(name, emoji_filter) {\n    let input = explode_cp(name).reverse(); // flip for pop\n    let output = [];\n    while (input.length) {\n        let emoji = consume_emoji_reversed(input);\n        if (emoji) {\n            output.push(...emoji_filter(emoji));\n            continue;\n        }\n        let cp = input.pop();\n        if (VALID.has(cp)) {\n            output.push(cp);\n            continue;\n        }\n        if (IGNORED.has(cp)) {\n            continue;\n        }\n        let cps = MAPPED[cp];\n        if (cps) {\n            output.push(...cps);\n            continue;\n        }\n        throw new Error(`Disallowed codepoint: 0x${cp.toString(16).toUpperCase()}`);\n    }\n    return ens_normalize_post_check(nfc(String.fromCodePoint(...output)));\n}\nfunction nfc(s) {\n    return s.normalize('NFC');\n}\nfunction consume_emoji_reversed(cps, eaten) {\n    var _a;\n    let node = EMOJI_ROOT;\n    let emoji;\n    let saved;\n    let stack = [];\n    let pos = cps.length;\n    if (eaten)\n        eaten.length = 0; // clear input buffer (if needed)\n    while (pos) {\n        let cp = cps[--pos];\n        node = (_a = node.branches.find(x => x.set.has(cp))) === null || _a === void 0 ? void 0 : _a.node;\n        if (!node)\n            break;\n        if (node.save) { // remember\n            saved = cp;\n        }\n        else if (node.check) { // check exclusion\n            if (cp === saved)\n                break;\n        }\n        stack.push(cp);\n        if (node.fe0f) {\n            stack.push(0xFE0F);\n            if (pos > 0 && cps[pos - 1] == 0xFE0F)\n                pos--; // consume optional FE0F\n        }\n        if (node.valid) { // this is a valid emoji (so far)\n            emoji = stack.slice(); // copy stack\n            if (node.valid == 2)\n                emoji.splice(1, 1); // delete FE0F at position 1 (RGI ZWJ don't follow spec!)\n            if (eaten)\n                eaten.push(...cps.slice(pos).reverse()); // copy input (if needed)\n            cps.length = pos; // truncate\n        }\n    }\n    return emoji;\n}\n//# sourceMappingURL=lib.js.map","/**\n * MIT License\n *\n * Copyright (c) 2021 Andrew Raffensperger\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * This is a near carbon-copy of the original source (link below) with the\n * TypeScript typings added and a few tweaks to make it ES3-compatible.\n *\n * See: https://github.com/adraffy/ens-normalize.js\n */\nimport { decode } from \"@ethersproject/base64\";\nimport { read_compressed_payload } from './decoder.js';\nexport function getData() {\n    return read_compressed_payload(decode('AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=='));\n}\n//# sourceMappingURL=include.js.map","import { concat, hexlify } from \"@ethersproject/bytes\";\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { ens_normalize } from \"./ens-normalize/lib\";\nconst Zeros = new Uint8Array(32);\nZeros.fill(0);\nfunction checkComponent(comp) {\n    if (comp.length === 0) {\n        throw new Error(\"invalid ENS name; empty component\");\n    }\n    return comp;\n}\nfunction ensNameSplit(name) {\n    const bytes = toUtf8Bytes(ens_normalize(name));\n    const comps = [];\n    if (name.length === 0) {\n        return comps;\n    }\n    let last = 0;\n    for (let i = 0; i < bytes.length; i++) {\n        const d = bytes[i];\n        // A separator (i.e. \".\"); copy this component\n        if (d === 0x2e) {\n            comps.push(checkComponent(bytes.slice(last, i)));\n            last = i + 1;\n        }\n    }\n    // There was a stray separator at the end of the name\n    if (last >= bytes.length) {\n        throw new Error(\"invalid ENS name; empty component\");\n    }\n    comps.push(checkComponent(bytes.slice(last)));\n    return comps;\n}\nexport function ensNormalize(name) {\n    return ensNameSplit(name).map((comp) => toUtf8String(comp)).join(\".\");\n}\nexport function isValidName(name) {\n    try {\n        return (ensNameSplit(name).length !== 0);\n    }\n    catch (error) { }\n    return false;\n}\nexport function namehash(name) {\n    /* istanbul ignore if */\n    if (typeof (name) !== \"string\") {\n        logger.throwArgumentError(\"invalid ENS name; not a string\", \"name\", name);\n    }\n    let result = Zeros;\n    const comps = ensNameSplit(name);\n    while (comps.length) {\n        result = keccak256(concat([result, keccak256(comps.pop())]));\n    }\n    return hexlify(result);\n}\nexport function dnsEncode(name) {\n    return hexlify(concat(ensNameSplit(name).map((comp) => {\n        // DNS does not allow components over 63 bytes in length\n        if (comp.length > 63) {\n            throw new Error(\"invalid DNS encoded entry; length exceeds 63 bytes\");\n        }\n        const bytes = new Uint8Array(comp.length + 1);\n        bytes.set(comp, 1);\n        bytes[0] = bytes.length - 1;\n        return bytes;\n    }))) + \"00\";\n}\n//# sourceMappingURL=namehash.js.map","export const version = \"rlp/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\n//See: https://github.com/ethereum/wiki/wiki/RLP\nimport { arrayify, hexlify, isBytesLike } from \"@ethersproject/bytes\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nfunction arrayifyInteger(value) {\n    const result = [];\n    while (value) {\n        result.unshift(value & 0xff);\n        value >>= 8;\n    }\n    return result;\n}\nfunction unarrayifyInteger(data, offset, length) {\n    let result = 0;\n    for (let i = 0; i < length; i++) {\n        result = (result * 256) + data[offset + i];\n    }\n    return result;\n}\nfunction _encode(object) {\n    if (Array.isArray(object)) {\n        let payload = [];\n        object.forEach(function (child) {\n            payload = payload.concat(_encode(child));\n        });\n        if (payload.length <= 55) {\n            payload.unshift(0xc0 + payload.length);\n            return payload;\n        }\n        const length = arrayifyInteger(payload.length);\n        length.unshift(0xf7 + length.length);\n        return length.concat(payload);\n    }\n    if (!isBytesLike(object)) {\n        logger.throwArgumentError(\"RLP object must be BytesLike\", \"object\", object);\n    }\n    const data = Array.prototype.slice.call(arrayify(object));\n    if (data.length === 1 && data[0] <= 0x7f) {\n        return data;\n    }\n    else if (data.length <= 55) {\n        data.unshift(0x80 + data.length);\n        return data;\n    }\n    const length = arrayifyInteger(data.length);\n    length.unshift(0xb7 + length.length);\n    return length.concat(data);\n}\nexport function encode(object) {\n    return hexlify(_encode(object));\n}\nfunction _decodeChildren(data, offset, childOffset, length) {\n    const result = [];\n    while (childOffset < offset + 1 + length) {\n        const decoded = _decode(data, childOffset);\n        result.push(decoded.result);\n        childOffset += decoded.consumed;\n        if (childOffset > offset + 1 + length) {\n            logger.throwError(\"child data too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n    }\n    return { consumed: (1 + length), result: result };\n}\n// returns { consumed: number, result: Object }\nfunction _decode(data, offset) {\n    if (data.length === 0) {\n        logger.throwError(\"data too short\", Logger.errors.BUFFER_OVERRUN, {});\n    }\n    // Array with extra length prefix\n    if (data[offset] >= 0xf8) {\n        const lengthLength = data[offset] - 0xf7;\n        if (offset + 1 + lengthLength > data.length) {\n            logger.throwError(\"data short segment too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const length = unarrayifyInteger(data, offset + 1, lengthLength);\n        if (offset + 1 + lengthLength + length > data.length) {\n            logger.throwError(\"data long segment too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        return _decodeChildren(data, offset, offset + 1 + lengthLength, lengthLength + length);\n    }\n    else if (data[offset] >= 0xc0) {\n        const length = data[offset] - 0xc0;\n        if (offset + 1 + length > data.length) {\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        return _decodeChildren(data, offset, offset + 1, length);\n    }\n    else if (data[offset] >= 0xb8) {\n        const lengthLength = data[offset] - 0xb7;\n        if (offset + 1 + lengthLength > data.length) {\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const length = unarrayifyInteger(data, offset + 1, lengthLength);\n        if (offset + 1 + lengthLength + length > data.length) {\n            logger.throwError(\"data array too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const result = hexlify(data.slice(offset + 1 + lengthLength, offset + 1 + lengthLength + length));\n        return { consumed: (1 + lengthLength + length), result: result };\n    }\n    else if (data[offset] >= 0x80) {\n        const length = data[offset] - 0x80;\n        if (offset + 1 + length > data.length) {\n            logger.throwError(\"data too short\", Logger.errors.BUFFER_OVERRUN, {});\n        }\n        const result = hexlify(data.slice(offset + 1, offset + 1 + length));\n        return { consumed: (1 + length), result: result };\n    }\n    return { consumed: 1, result: hexlify(data[offset]) };\n}\nexport function decode(data) {\n    const bytes = arrayify(data);\n    const decoded = _decode(bytes, 0);\n    if (decoded.consumed !== bytes.length) {\n        logger.throwArgumentError(\"invalid rlp data\", \"data\", data);\n    }\n    return decoded.result;\n}\n//# sourceMappingURL=index.js.map","export const version = \"address/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { arrayify, concat, hexDataLength, hexDataSlice, isHexString, stripZeros } from \"@ethersproject/bytes\";\nimport { BigNumber, _base16To36, _base36To16 } from \"@ethersproject/bignumber\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { encode } from \"@ethersproject/rlp\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nfunction getChecksumAddress(address) {\n    if (!isHexString(address, 20)) {\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\n    }\n    address = address.toLowerCase();\n    const chars = address.substring(2).split(\"\");\n    const expanded = new Uint8Array(40);\n    for (let i = 0; i < 40; i++) {\n        expanded[i] = chars[i].charCodeAt(0);\n    }\n    const hashed = arrayify(keccak256(expanded));\n    for (let i = 0; i < 40; i += 2) {\n        if ((hashed[i >> 1] >> 4) >= 8) {\n            chars[i] = chars[i].toUpperCase();\n        }\n        if ((hashed[i >> 1] & 0x0f) >= 8) {\n            chars[i + 1] = chars[i + 1].toUpperCase();\n        }\n    }\n    return \"0x\" + chars.join(\"\");\n}\n// Shims for environments that are missing some required constants and functions\nconst MAX_SAFE_INTEGER = 0x1fffffffffffff;\nfunction log10(x) {\n    if (Math.log10) {\n        return Math.log10(x);\n    }\n    return Math.log(x) / Math.LN10;\n}\n// See: https://en.wikipedia.org/wiki/International_Bank_Account_Number\n// Create lookup table\nconst ibanLookup = {};\nfor (let i = 0; i < 10; i++) {\n    ibanLookup[String(i)] = String(i);\n}\nfor (let i = 0; i < 26; i++) {\n    ibanLookup[String.fromCharCode(65 + i)] = String(10 + i);\n}\n// How many decimal digits can we process? (for 64-bit float, this is 15)\nconst safeDigits = Math.floor(log10(MAX_SAFE_INTEGER));\nfunction ibanChecksum(address) {\n    address = address.toUpperCase();\n    address = address.substring(4) + address.substring(0, 2) + \"00\";\n    let expanded = address.split(\"\").map((c) => { return ibanLookup[c]; }).join(\"\");\n    // Javascript can handle integers safely up to 15 (decimal) digits\n    while (expanded.length >= safeDigits) {\n        let block = expanded.substring(0, safeDigits);\n        expanded = parseInt(block, 10) % 97 + expanded.substring(block.length);\n    }\n    let checksum = String(98 - (parseInt(expanded, 10) % 97));\n    while (checksum.length < 2) {\n        checksum = \"0\" + checksum;\n    }\n    return checksum;\n}\n;\nexport function getAddress(address) {\n    let result = null;\n    if (typeof (address) !== \"string\") {\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\n    }\n    if (address.match(/^(0x)?[0-9a-fA-F]{40}$/)) {\n        // Missing the 0x prefix\n        if (address.substring(0, 2) !== \"0x\") {\n            address = \"0x\" + address;\n        }\n        result = getChecksumAddress(address);\n        // It is a checksummed address with a bad checksum\n        if (address.match(/([A-F].*[a-f])|([a-f].*[A-F])/) && result !== address) {\n            logger.throwArgumentError(\"bad address checksum\", \"address\", address);\n        }\n        // Maybe ICAP? (we only support direct mode)\n    }\n    else if (address.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {\n        // It is an ICAP address with a bad checksum\n        if (address.substring(2, 4) !== ibanChecksum(address)) {\n            logger.throwArgumentError(\"bad icap checksum\", \"address\", address);\n        }\n        result = _base36To16(address.substring(4));\n        while (result.length < 40) {\n            result = \"0\" + result;\n        }\n        result = getChecksumAddress(\"0x\" + result);\n    }\n    else {\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\n    }\n    return result;\n}\nexport function isAddress(address) {\n    try {\n        getAddress(address);\n        return true;\n    }\n    catch (error) { }\n    return false;\n}\nexport function getIcapAddress(address) {\n    let base36 = _base16To36(getAddress(address).substring(2)).toUpperCase();\n    while (base36.length < 30) {\n        base36 = \"0\" + base36;\n    }\n    return \"XE\" + ibanChecksum(\"XE00\" + base36) + base36;\n}\n// http://ethereum.stackexchange.com/questions/760/how-is-the-address-of-an-ethereum-contract-computed\nexport function getContractAddress(transaction) {\n    let from = null;\n    try {\n        from = getAddress(transaction.from);\n    }\n    catch (error) {\n        logger.throwArgumentError(\"missing from address\", \"transaction\", transaction);\n    }\n    const nonce = stripZeros(arrayify(BigNumber.from(transaction.nonce).toHexString()));\n    return getAddress(hexDataSlice(keccak256(encode([from, nonce])), 12));\n}\nexport function getCreate2Address(from, salt, initCodeHash) {\n    if (hexDataLength(salt) !== 32) {\n        logger.throwArgumentError(\"salt must be 32 bytes\", \"salt\", salt);\n    }\n    if (hexDataLength(initCodeHash) !== 32) {\n        logger.throwArgumentError(\"initCodeHash must be 32 bytes\", \"initCodeHash\", initCodeHash);\n    }\n    return getAddress(hexDataSlice(keccak256(concat([\"0xff\", getAddress(from), salt, initCodeHash])), 12));\n}\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { getAddress } from \"@ethersproject/address\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { arrayify, hexConcat, hexlify, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { deepCopy, defineReadOnly, shallowCopy } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { id } from \"./id\";\nconst padding = new Uint8Array(32);\npadding.fill(0);\nconst NegativeOne = BigNumber.from(-1);\nconst Zero = BigNumber.from(0);\nconst One = BigNumber.from(1);\nconst MaxUint256 = BigNumber.from(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");\nfunction hexPadRight(value) {\n    const bytes = arrayify(value);\n    const padOffset = bytes.length % 32;\n    if (padOffset) {\n        return hexConcat([bytes, padding.slice(padOffset)]);\n    }\n    return hexlify(bytes);\n}\nconst hexTrue = hexZeroPad(One.toHexString(), 32);\nconst hexFalse = hexZeroPad(Zero.toHexString(), 32);\nconst domainFieldTypes = {\n    name: \"string\",\n    version: \"string\",\n    chainId: \"uint256\",\n    verifyingContract: \"address\",\n    salt: \"bytes32\"\n};\nconst domainFieldNames = [\n    \"name\", \"version\", \"chainId\", \"verifyingContract\", \"salt\"\n];\nfunction checkString(key) {\n    return function (value) {\n        if (typeof (value) !== \"string\") {\n            logger.throwArgumentError(`invalid domain value for ${JSON.stringify(key)}`, `domain.${key}`, value);\n        }\n        return value;\n    };\n}\nconst domainChecks = {\n    name: checkString(\"name\"),\n    version: checkString(\"version\"),\n    chainId: function (value) {\n        try {\n            return BigNumber.from(value).toString();\n        }\n        catch (error) { }\n        return logger.throwArgumentError(`invalid domain value for \"chainId\"`, \"domain.chainId\", value);\n    },\n    verifyingContract: function (value) {\n        try {\n            return getAddress(value).toLowerCase();\n        }\n        catch (error) { }\n        return logger.throwArgumentError(`invalid domain value \"verifyingContract\"`, \"domain.verifyingContract\", value);\n    },\n    salt: function (value) {\n        try {\n            const bytes = arrayify(value);\n            if (bytes.length !== 32) {\n                throw new Error(\"bad length\");\n            }\n            return hexlify(bytes);\n        }\n        catch (error) { }\n        return logger.throwArgumentError(`invalid domain value \"salt\"`, \"domain.salt\", value);\n    }\n};\nfunction getBaseEncoder(type) {\n    // intXX and uintXX\n    {\n        const match = type.match(/^(u?)int(\\d*)$/);\n        if (match) {\n            const signed = (match[1] === \"\");\n            const width = parseInt(match[2] || \"256\");\n            if (width % 8 !== 0 || width > 256 || (match[2] && match[2] !== String(width))) {\n                logger.throwArgumentError(\"invalid numeric width\", \"type\", type);\n            }\n            const boundsUpper = MaxUint256.mask(signed ? (width - 1) : width);\n            const boundsLower = signed ? boundsUpper.add(One).mul(NegativeOne) : Zero;\n            return function (value) {\n                const v = BigNumber.from(value);\n                if (v.lt(boundsLower) || v.gt(boundsUpper)) {\n                    logger.throwArgumentError(`value out-of-bounds for ${type}`, \"value\", value);\n                }\n                return hexZeroPad(v.toTwos(256).toHexString(), 32);\n            };\n        }\n    }\n    // bytesXX\n    {\n        const match = type.match(/^bytes(\\d+)$/);\n        if (match) {\n            const width = parseInt(match[1]);\n            if (width === 0 || width > 32 || match[1] !== String(width)) {\n                logger.throwArgumentError(\"invalid bytes width\", \"type\", type);\n            }\n            return function (value) {\n                const bytes = arrayify(value);\n                if (bytes.length !== width) {\n                    logger.throwArgumentError(`invalid length for ${type}`, \"value\", value);\n                }\n                return hexPadRight(value);\n            };\n        }\n    }\n    switch (type) {\n        case \"address\": return function (value) {\n            return hexZeroPad(getAddress(value), 32);\n        };\n        case \"bool\": return function (value) {\n            return ((!value) ? hexFalse : hexTrue);\n        };\n        case \"bytes\": return function (value) {\n            return keccak256(value);\n        };\n        case \"string\": return function (value) {\n            return id(value);\n        };\n    }\n    return null;\n}\nfunction encodeType(name, fields) {\n    return `${name}(${fields.map(({ name, type }) => (type + \" \" + name)).join(\",\")})`;\n}\nexport class TypedDataEncoder {\n    constructor(types) {\n        defineReadOnly(this, \"types\", Object.freeze(deepCopy(types)));\n        defineReadOnly(this, \"_encoderCache\", {});\n        defineReadOnly(this, \"_types\", {});\n        // Link struct types to their direct child structs\n        const links = {};\n        // Link structs to structs which contain them as a child\n        const parents = {};\n        // Link all subtypes within a given struct\n        const subtypes = {};\n        Object.keys(types).forEach((type) => {\n            links[type] = {};\n            parents[type] = [];\n            subtypes[type] = {};\n        });\n        for (const name in types) {\n            const uniqueNames = {};\n            types[name].forEach((field) => {\n                // Check each field has a unique name\n                if (uniqueNames[field.name]) {\n                    logger.throwArgumentError(`duplicate variable name ${JSON.stringify(field.name)} in ${JSON.stringify(name)}`, \"types\", types);\n                }\n                uniqueNames[field.name] = true;\n                // Get the base type (drop any array specifiers)\n                const baseType = field.type.match(/^([^\\x5b]*)(\\x5b|$)/)[1];\n                if (baseType === name) {\n                    logger.throwArgumentError(`circular type reference to ${JSON.stringify(baseType)}`, \"types\", types);\n                }\n                // Is this a base encoding type?\n                const encoder = getBaseEncoder(baseType);\n                if (encoder) {\n                    return;\n                }\n                if (!parents[baseType]) {\n                    logger.throwArgumentError(`unknown type ${JSON.stringify(baseType)}`, \"types\", types);\n                }\n                // Add linkage\n                parents[baseType].push(name);\n                links[name][baseType] = true;\n            });\n        }\n        // Deduce the primary type\n        const primaryTypes = Object.keys(parents).filter((n) => (parents[n].length === 0));\n        if (primaryTypes.length === 0) {\n            logger.throwArgumentError(\"missing primary type\", \"types\", types);\n        }\n        else if (primaryTypes.length > 1) {\n            logger.throwArgumentError(`ambiguous primary types or unused types: ${primaryTypes.map((t) => (JSON.stringify(t))).join(\", \")}`, \"types\", types);\n        }\n        defineReadOnly(this, \"primaryType\", primaryTypes[0]);\n        // Check for circular type references\n        function checkCircular(type, found) {\n            if (found[type]) {\n                logger.throwArgumentError(`circular type reference to ${JSON.stringify(type)}`, \"types\", types);\n            }\n            found[type] = true;\n            Object.keys(links[type]).forEach((child) => {\n                if (!parents[child]) {\n                    return;\n                }\n                // Recursively check children\n                checkCircular(child, found);\n                // Mark all ancestors as having this decendant\n                Object.keys(found).forEach((subtype) => {\n                    subtypes[subtype][child] = true;\n                });\n            });\n            delete found[type];\n        }\n        checkCircular(this.primaryType, {});\n        // Compute each fully describe type\n        for (const name in subtypes) {\n            const st = Object.keys(subtypes[name]);\n            st.sort();\n            this._types[name] = encodeType(name, types[name]) + st.map((t) => encodeType(t, types[t])).join(\"\");\n        }\n    }\n    getEncoder(type) {\n        let encoder = this._encoderCache[type];\n        if (!encoder) {\n            encoder = this._encoderCache[type] = this._getEncoder(type);\n        }\n        return encoder;\n    }\n    _getEncoder(type) {\n        // Basic encoder type (address, bool, uint256, etc)\n        {\n            const encoder = getBaseEncoder(type);\n            if (encoder) {\n                return encoder;\n            }\n        }\n        // Array\n        const match = type.match(/^(.*)(\\x5b(\\d*)\\x5d)$/);\n        if (match) {\n            const subtype = match[1];\n            const subEncoder = this.getEncoder(subtype);\n            const length = parseInt(match[3]);\n            return (value) => {\n                if (length >= 0 && value.length !== length) {\n                    logger.throwArgumentError(\"array length mismatch; expected length ${ arrayLength }\", \"value\", value);\n                }\n                let result = value.map(subEncoder);\n                if (this._types[subtype]) {\n                    result = result.map(keccak256);\n                }\n                return keccak256(hexConcat(result));\n            };\n        }\n        // Struct\n        const fields = this.types[type];\n        if (fields) {\n            const encodedType = id(this._types[type]);\n            return (value) => {\n                const values = fields.map(({ name, type }) => {\n                    const result = this.getEncoder(type)(value[name]);\n                    if (this._types[type]) {\n                        return keccak256(result);\n                    }\n                    return result;\n                });\n                values.unshift(encodedType);\n                return hexConcat(values);\n            };\n        }\n        return logger.throwArgumentError(`unknown type: ${type}`, \"type\", type);\n    }\n    encodeType(name) {\n        const result = this._types[name];\n        if (!result) {\n            logger.throwArgumentError(`unknown type: ${JSON.stringify(name)}`, \"name\", name);\n        }\n        return result;\n    }\n    encodeData(type, value) {\n        return this.getEncoder(type)(value);\n    }\n    hashStruct(name, value) {\n        return keccak256(this.encodeData(name, value));\n    }\n    encode(value) {\n        return this.encodeData(this.primaryType, value);\n    }\n    hash(value) {\n        return this.hashStruct(this.primaryType, value);\n    }\n    _visit(type, value, callback) {\n        // Basic encoder type (address, bool, uint256, etc)\n        {\n            const encoder = getBaseEncoder(type);\n            if (encoder) {\n                return callback(type, value);\n            }\n        }\n        // Array\n        const match = type.match(/^(.*)(\\x5b(\\d*)\\x5d)$/);\n        if (match) {\n            const subtype = match[1];\n            const length = parseInt(match[3]);\n            if (length >= 0 && value.length !== length) {\n                logger.throwArgumentError(\"array length mismatch; expected length ${ arrayLength }\", \"value\", value);\n            }\n            return value.map((v) => this._visit(subtype, v, callback));\n        }\n        // Struct\n        const fields = this.types[type];\n        if (fields) {\n            return fields.reduce((accum, { name, type }) => {\n                accum[name] = this._visit(type, value[name], callback);\n                return accum;\n            }, {});\n        }\n        return logger.throwArgumentError(`unknown type: ${type}`, \"type\", type);\n    }\n    visit(value, callback) {\n        return this._visit(this.primaryType, value, callback);\n    }\n    static from(types) {\n        return new TypedDataEncoder(types);\n    }\n    static getPrimaryType(types) {\n        return TypedDataEncoder.from(types).primaryType;\n    }\n    static hashStruct(name, types, value) {\n        return TypedDataEncoder.from(types).hashStruct(name, value);\n    }\n    static hashDomain(domain) {\n        const domainFields = [];\n        for (const name in domain) {\n            const type = domainFieldTypes[name];\n            if (!type) {\n                logger.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(name)}`, \"domain\", domain);\n            }\n            domainFields.push({ name, type });\n        }\n        domainFields.sort((a, b) => {\n            return domainFieldNames.indexOf(a.name) - domainFieldNames.indexOf(b.name);\n        });\n        return TypedDataEncoder.hashStruct(\"EIP712Domain\", { EIP712Domain: domainFields }, domain);\n    }\n    static encode(domain, types, value) {\n        return hexConcat([\n            \"0x1901\",\n            TypedDataEncoder.hashDomain(domain),\n            TypedDataEncoder.from(types).hash(value)\n        ]);\n    }\n    static hash(domain, types, value) {\n        return keccak256(TypedDataEncoder.encode(domain, types, value));\n    }\n    // Replaces all address types with ENS names with their looked up address\n    static resolveNames(domain, types, value, resolveName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Make a copy to isolate it from the object passed in\n            domain = shallowCopy(domain);\n            // Look up all ENS names\n            const ensCache = {};\n            // Do we need to look up the domain's verifyingContract?\n            if (domain.verifyingContract && !isHexString(domain.verifyingContract, 20)) {\n                ensCache[domain.verifyingContract] = \"0x\";\n            }\n            // We are going to use the encoder to visit all the base values\n            const encoder = TypedDataEncoder.from(types);\n            // Get a list of all the addresses\n            encoder.visit(value, (type, value) => {\n                if (type === \"address\" && !isHexString(value, 20)) {\n                    ensCache[value] = \"0x\";\n                }\n                return value;\n            });\n            // Lookup each name\n            for (const name in ensCache) {\n                ensCache[name] = yield resolveName(name);\n            }\n            // Replace the domain verifyingContract if needed\n            if (domain.verifyingContract && ensCache[domain.verifyingContract]) {\n                domain.verifyingContract = ensCache[domain.verifyingContract];\n            }\n            // Replace all ENS names with their address\n            value = encoder.visit(value, (type, value) => {\n                if (type === \"address\" && ensCache[value]) {\n                    return ensCache[value];\n                }\n                return value;\n            });\n            return { domain, value };\n        });\n    }\n    static getPayload(domain, types, value) {\n        // Validate the domain fields\n        TypedDataEncoder.hashDomain(domain);\n        // Derive the EIP712Domain Struct reference type\n        const domainValues = {};\n        const domainTypes = [];\n        domainFieldNames.forEach((name) => {\n            const value = domain[name];\n            if (value == null) {\n                return;\n            }\n            domainValues[name] = domainChecks[name](value);\n            domainTypes.push({ name, type: domainFieldTypes[name] });\n        });\n        const encoder = TypedDataEncoder.from(types);\n        const typesWithDomain = shallowCopy(types);\n        if (typesWithDomain.EIP712Domain) {\n            logger.throwArgumentError(\"types must not contain EIP712Domain type\", \"types.EIP712Domain\", types);\n        }\n        else {\n            typesWithDomain.EIP712Domain = domainTypes;\n        }\n        // Validate the data structures and types\n        encoder.encode(value);\n        return {\n            types: typesWithDomain,\n            domain: domainValues,\n            primaryType: encoder.primaryType,\n            message: encoder.visit(value, (type, value) => {\n                // bytes\n                if (type.match(/^bytes(\\d*)/)) {\n                    return hexlify(arrayify(value));\n                }\n                // uint or int\n                if (type.match(/^u?int/)) {\n                    return BigNumber.from(value).toString();\n                }\n                switch (type) {\n                    case \"address\":\n                        return value.toLowerCase();\n                    case \"bool\":\n                        return !!value;\n                    case \"string\":\n                        if (typeof (value) !== \"string\") {\n                            logger.throwArgumentError(`invalid string`, \"value\", value);\n                        }\n                        return value;\n                }\n                return logger.throwArgumentError(\"unsupported type\", \"type\", type);\n            })\n        };\n    }\n}\n//# sourceMappingURL=typed-data.js.map","module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar assert = require('minimalistic-assert');\nvar inherits = require('inherits');\n\nexports.inherits = inherits;\n\nfunction isSurrogatePair(msg, i) {\n  if ((msg.charCodeAt(i) & 0xFC00) !== 0xD800) {\n    return false;\n  }\n  if (i < 0 || i + 1 >= msg.length) {\n    return false;\n  }\n  return (msg.charCodeAt(i + 1) & 0xFC00) === 0xDC00;\n}\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg === 'string') {\n    if (!enc) {\n      // Inspired by stringToUtf8ByteArray() in closure-library by Google\n      // https://github.com/google/closure-library/blob/8598d87242af59aac233270742c8984e2b2bdbe0/closure/goog/crypt/crypt.js#L117-L143\n      // Apache License 2.0\n      // https://github.com/google/closure-library/blob/master/LICENSE\n      var p = 0;\n      for (var i = 0; i < msg.length; i++) {\n        var c = msg.charCodeAt(i);\n        if (c < 128) {\n          res[p++] = c;\n        } else if (c < 2048) {\n          res[p++] = (c >> 6) | 192;\n          res[p++] = (c & 63) | 128;\n        } else if (isSurrogatePair(msg, i)) {\n          c = 0x10000 + ((c & 0x03FF) << 10) + (msg.charCodeAt(++i) & 0x03FF);\n          res[p++] = (c >> 18) | 240;\n          res[p++] = ((c >> 12) & 63) | 128;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        } else {\n          res[p++] = (c >> 12) | 224;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        }\n      }\n    } else if (enc === 'hex') {\n      msg = msg.replace(/[^a-z0-9]+/ig, '');\n      if (msg.length % 2 !== 0)\n        msg = '0' + msg;\n      for (i = 0; i < msg.length; i += 2)\n        res.push(parseInt(msg[i] + msg[i + 1], 16));\n    }\n  } else {\n    for (i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n  }\n  return res;\n}\nexports.toArray = toArray;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nexports.toHex = toHex;\n\nfunction htonl(w) {\n  var res = (w >>> 24) |\n            ((w >>> 8) & 0xff00) |\n            ((w << 8) & 0xff0000) |\n            ((w & 0xff) << 24);\n  return res >>> 0;\n}\nexports.htonl = htonl;\n\nfunction toHex32(msg, endian) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++) {\n    var w = msg[i];\n    if (endian === 'little')\n      w = htonl(w);\n    res += zero8(w.toString(16));\n  }\n  return res;\n}\nexports.toHex32 = toHex32;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nexports.zero2 = zero2;\n\nfunction zero8(word) {\n  if (word.length === 7)\n    return '0' + word;\n  else if (word.length === 6)\n    return '00' + word;\n  else if (word.length === 5)\n    return '000' + word;\n  else if (word.length === 4)\n    return '0000' + word;\n  else if (word.length === 3)\n    return '00000' + word;\n  else if (word.length === 2)\n    return '000000' + word;\n  else if (word.length === 1)\n    return '0000000' + word;\n  else\n    return word;\n}\nexports.zero8 = zero8;\n\nfunction join32(msg, start, end, endian) {\n  var len = end - start;\n  assert(len % 4 === 0);\n  var res = new Array(len / 4);\n  for (var i = 0, k = start; i < res.length; i++, k += 4) {\n    var w;\n    if (endian === 'big')\n      w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3];\n    else\n      w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k];\n    res[i] = w >>> 0;\n  }\n  return res;\n}\nexports.join32 = join32;\n\nfunction split32(msg, endian) {\n  var res = new Array(msg.length * 4);\n  for (var i = 0, k = 0; i < msg.length; i++, k += 4) {\n    var m = msg[i];\n    if (endian === 'big') {\n      res[k] = m >>> 24;\n      res[k + 1] = (m >>> 16) & 0xff;\n      res[k + 2] = (m >>> 8) & 0xff;\n      res[k + 3] = m & 0xff;\n    } else {\n      res[k + 3] = m >>> 24;\n      res[k + 2] = (m >>> 16) & 0xff;\n      res[k + 1] = (m >>> 8) & 0xff;\n      res[k] = m & 0xff;\n    }\n  }\n  return res;\n}\nexports.split32 = split32;\n\nfunction rotr32(w, b) {\n  return (w >>> b) | (w << (32 - b));\n}\nexports.rotr32 = rotr32;\n\nfunction rotl32(w, b) {\n  return (w << b) | (w >>> (32 - b));\n}\nexports.rotl32 = rotl32;\n\nfunction sum32(a, b) {\n  return (a + b) >>> 0;\n}\nexports.sum32 = sum32;\n\nfunction sum32_3(a, b, c) {\n  return (a + b + c) >>> 0;\n}\nexports.sum32_3 = sum32_3;\n\nfunction sum32_4(a, b, c, d) {\n  return (a + b + c + d) >>> 0;\n}\nexports.sum32_4 = sum32_4;\n\nfunction sum32_5(a, b, c, d, e) {\n  return (a + b + c + d + e) >>> 0;\n}\nexports.sum32_5 = sum32_5;\n\nfunction sum64(buf, pos, ah, al) {\n  var bh = buf[pos];\n  var bl = buf[pos + 1];\n\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  buf[pos] = hi >>> 0;\n  buf[pos + 1] = lo;\n}\nexports.sum64 = sum64;\n\nfunction sum64_hi(ah, al, bh, bl) {\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  return hi >>> 0;\n}\nexports.sum64_hi = sum64_hi;\n\nfunction sum64_lo(ah, al, bh, bl) {\n  var lo = al + bl;\n  return lo >>> 0;\n}\nexports.sum64_lo = sum64_lo;\n\nfunction sum64_4_hi(ah, al, bh, bl, ch, cl, dh, dl) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + carry;\n  return hi >>> 0;\n}\nexports.sum64_4_hi = sum64_4_hi;\n\nfunction sum64_4_lo(ah, al, bh, bl, ch, cl, dh, dl) {\n  var lo = al + bl + cl + dl;\n  return lo >>> 0;\n}\nexports.sum64_4_lo = sum64_4_lo;\n\nfunction sum64_5_hi(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n  lo = (lo + el) >>> 0;\n  carry += lo < el ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + eh + carry;\n  return hi >>> 0;\n}\nexports.sum64_5_hi = sum64_5_hi;\n\nfunction sum64_5_lo(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var lo = al + bl + cl + dl + el;\n\n  return lo >>> 0;\n}\nexports.sum64_5_lo = sum64_5_lo;\n\nfunction rotr64_hi(ah, al, num) {\n  var r = (al << (32 - num)) | (ah >>> num);\n  return r >>> 0;\n}\nexports.rotr64_hi = rotr64_hi;\n\nfunction rotr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.rotr64_lo = rotr64_lo;\n\nfunction shr64_hi(ah, al, num) {\n  return ah >>> num;\n}\nexports.shr64_hi = shr64_hi;\n\nfunction shr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.shr64_lo = shr64_lo;\n","'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction BlockHash() {\n  this.pending = null;\n  this.pendingTotal = 0;\n  this.blockSize = this.constructor.blockSize;\n  this.outSize = this.constructor.outSize;\n  this.hmacStrength = this.constructor.hmacStrength;\n  this.padLength = this.constructor.padLength / 8;\n  this.endian = 'big';\n\n  this._delta8 = this.blockSize / 8;\n  this._delta32 = this.blockSize / 32;\n}\nexports.BlockHash = BlockHash;\n\nBlockHash.prototype.update = function update(msg, enc) {\n  // Convert message to array, pad it, and join into 32bit blocks\n  msg = utils.toArray(msg, enc);\n  if (!this.pending)\n    this.pending = msg;\n  else\n    this.pending = this.pending.concat(msg);\n  this.pendingTotal += msg.length;\n\n  // Enough data, try updating\n  if (this.pending.length >= this._delta8) {\n    msg = this.pending;\n\n    // Process pending data in blocks\n    var r = msg.length % this._delta8;\n    this.pending = msg.slice(msg.length - r, msg.length);\n    if (this.pending.length === 0)\n      this.pending = null;\n\n    msg = utils.join32(msg, 0, msg.length - r, this.endian);\n    for (var i = 0; i < msg.length; i += this._delta32)\n      this._update(msg, i, i + this._delta32);\n  }\n\n  return this;\n};\n\nBlockHash.prototype.digest = function digest(enc) {\n  this.update(this._pad());\n  assert(this.pending === null);\n\n  return this._digest(enc);\n};\n\nBlockHash.prototype._pad = function pad() {\n  var len = this.pendingTotal;\n  var bytes = this._delta8;\n  var k = bytes - ((len + this.padLength) % bytes);\n  var res = new Array(k + this.padLength);\n  res[0] = 0x80;\n  for (var i = 1; i < k; i++)\n    res[i] = 0;\n\n  // Append length\n  len <<= 3;\n  if (this.endian === 'big') {\n    for (var t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = len & 0xff;\n  } else {\n    res[i++] = len & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n\n    for (t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n  }\n\n  return res;\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar rotr32 = utils.rotr32;\n\nfunction ft_1(s, x, y, z) {\n  if (s === 0)\n    return ch32(x, y, z);\n  if (s === 1 || s === 3)\n    return p32(x, y, z);\n  if (s === 2)\n    return maj32(x, y, z);\n}\nexports.ft_1 = ft_1;\n\nfunction ch32(x, y, z) {\n  return (x & y) ^ ((~x) & z);\n}\nexports.ch32 = ch32;\n\nfunction maj32(x, y, z) {\n  return (x & y) ^ (x & z) ^ (y & z);\n}\nexports.maj32 = maj32;\n\nfunction p32(x, y, z) {\n  return x ^ y ^ z;\n}\nexports.p32 = p32;\n\nfunction s0_256(x) {\n  return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22);\n}\nexports.s0_256 = s0_256;\n\nfunction s1_256(x) {\n  return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25);\n}\nexports.s1_256 = s1_256;\n\nfunction g0_256(x) {\n  return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3);\n}\nexports.g0_256 = g0_256;\n\nfunction g1_256(x) {\n  return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10);\n}\nexports.g1_256 = g1_256;\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\n\nvar rotl32 = utils.rotl32;\nvar sum32 = utils.sum32;\nvar sum32_5 = utils.sum32_5;\nvar ft_1 = shaCommon.ft_1;\nvar BlockHash = common.BlockHash;\n\nvar sha1_K = [\n  0x5A827999, 0x6ED9EBA1,\n  0x8F1BBCDC, 0xCA62C1D6\n];\n\nfunction SHA1() {\n  if (!(this instanceof SHA1))\n    return new SHA1();\n\n  BlockHash.call(this);\n  this.h = [\n    0x67452301, 0xefcdab89, 0x98badcfe,\n    0x10325476, 0xc3d2e1f0 ];\n  this.W = new Array(80);\n}\n\nutils.inherits(SHA1, BlockHash);\nmodule.exports = SHA1;\n\nSHA1.blockSize = 512;\nSHA1.outSize = 160;\nSHA1.hmacStrength = 80;\nSHA1.padLength = 64;\n\nSHA1.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n\n  for(; i < W.length; i++)\n    W[i] = rotl32(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n\n  for (i = 0; i < W.length; i++) {\n    var s = ~~(i / 20);\n    var t = sum32_5(rotl32(a, 5), ft_1(s, b, c, d), e, W[i], sha1_K[s]);\n    e = d;\n    d = c;\n    c = rotl32(b, 30);\n    b = a;\n    a = t;\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n};\n\nSHA1.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\nvar assert = require('minimalistic-assert');\n\nvar sum32 = utils.sum32;\nvar sum32_4 = utils.sum32_4;\nvar sum32_5 = utils.sum32_5;\nvar ch32 = shaCommon.ch32;\nvar maj32 = shaCommon.maj32;\nvar s0_256 = shaCommon.s0_256;\nvar s1_256 = shaCommon.s1_256;\nvar g0_256 = shaCommon.g0_256;\nvar g1_256 = shaCommon.g1_256;\n\nvar BlockHash = common.BlockHash;\n\nvar sha256_K = [\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,\n  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,\n  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,\n  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,\n  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n];\n\nfunction SHA256() {\n  if (!(this instanceof SHA256))\n    return new SHA256();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a,\n    0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n  ];\n  this.k = sha256_K;\n  this.W = new Array(64);\n}\nutils.inherits(SHA256, BlockHash);\nmodule.exports = SHA256;\n\nSHA256.blockSize = 512;\nSHA256.outSize = 256;\nSHA256.hmacStrength = 192;\nSHA256.padLength = 64;\n\nSHA256.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i++)\n    W[i] = sum32_4(g1_256(W[i - 2]), W[i - 7], g0_256(W[i - 15]), W[i - 16]);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n  var f = this.h[5];\n  var g = this.h[6];\n  var h = this.h[7];\n\n  assert(this.k.length === W.length);\n  for (i = 0; i < W.length; i++) {\n    var T1 = sum32_5(h, s1_256(e), ch32(e, f, g), this.k[i], W[i]);\n    var T2 = sum32(s0_256(a), maj32(a, b, c));\n    h = g;\n    g = f;\n    f = e;\n    e = sum32(d, T1);\n    d = c;\n    c = b;\n    b = a;\n    a = sum32(T1, T2);\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n  this.h[5] = sum32(this.h[5], f);\n  this.h[6] = sum32(this.h[6], g);\n  this.h[7] = sum32(this.h[7], h);\n};\n\nSHA256.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar SHA256 = require('./256');\n\nfunction SHA224() {\n  if (!(this instanceof SHA224))\n    return new SHA224();\n\n  SHA256.call(this);\n  this.h = [\n    0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939,\n    0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4 ];\n}\nutils.inherits(SHA224, SHA256);\nmodule.exports = SHA224;\n\nSHA224.blockSize = 512;\nSHA224.outSize = 224;\nSHA224.hmacStrength = 192;\nSHA224.padLength = 64;\n\nSHA224.prototype._digest = function digest(enc) {\n  // Just truncate output\n  if (enc === 'hex')\n    return utils.toHex32(this.h.slice(0, 7), 'big');\n  else\n    return utils.split32(this.h.slice(0, 7), 'big');\n};\n\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar assert = require('minimalistic-assert');\n\nvar rotr64_hi = utils.rotr64_hi;\nvar rotr64_lo = utils.rotr64_lo;\nvar shr64_hi = utils.shr64_hi;\nvar shr64_lo = utils.shr64_lo;\nvar sum64 = utils.sum64;\nvar sum64_hi = utils.sum64_hi;\nvar sum64_lo = utils.sum64_lo;\nvar sum64_4_hi = utils.sum64_4_hi;\nvar sum64_4_lo = utils.sum64_4_lo;\nvar sum64_5_hi = utils.sum64_5_hi;\nvar sum64_5_lo = utils.sum64_5_lo;\n\nvar BlockHash = common.BlockHash;\n\nvar sha512_K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction SHA512() {\n  if (!(this instanceof SHA512))\n    return new SHA512();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xf3bcc908,\n    0xbb67ae85, 0x84caa73b,\n    0x3c6ef372, 0xfe94f82b,\n    0xa54ff53a, 0x5f1d36f1,\n    0x510e527f, 0xade682d1,\n    0x9b05688c, 0x2b3e6c1f,\n    0x1f83d9ab, 0xfb41bd6b,\n    0x5be0cd19, 0x137e2179 ];\n  this.k = sha512_K;\n  this.W = new Array(160);\n}\nutils.inherits(SHA512, BlockHash);\nmodule.exports = SHA512;\n\nSHA512.blockSize = 1024;\nSHA512.outSize = 512;\nSHA512.hmacStrength = 192;\nSHA512.padLength = 128;\n\nSHA512.prototype._prepareBlock = function _prepareBlock(msg, start) {\n  var W = this.W;\n\n  // 32 x 32bit words\n  for (var i = 0; i < 32; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i += 2) {\n    var c0_hi = g1_512_hi(W[i - 4], W[i - 3]);  // i - 2\n    var c0_lo = g1_512_lo(W[i - 4], W[i - 3]);\n    var c1_hi = W[i - 14];  // i - 7\n    var c1_lo = W[i - 13];\n    var c2_hi = g0_512_hi(W[i - 30], W[i - 29]);  // i - 15\n    var c2_lo = g0_512_lo(W[i - 30], W[i - 29]);\n    var c3_hi = W[i - 32];  // i - 16\n    var c3_lo = W[i - 31];\n\n    W[i] = sum64_4_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n    W[i + 1] = sum64_4_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n  }\n};\n\nSHA512.prototype._update = function _update(msg, start) {\n  this._prepareBlock(msg, start);\n\n  var W = this.W;\n\n  var ah = this.h[0];\n  var al = this.h[1];\n  var bh = this.h[2];\n  var bl = this.h[3];\n  var ch = this.h[4];\n  var cl = this.h[5];\n  var dh = this.h[6];\n  var dl = this.h[7];\n  var eh = this.h[8];\n  var el = this.h[9];\n  var fh = this.h[10];\n  var fl = this.h[11];\n  var gh = this.h[12];\n  var gl = this.h[13];\n  var hh = this.h[14];\n  var hl = this.h[15];\n\n  assert(this.k.length === W.length);\n  for (var i = 0; i < W.length; i += 2) {\n    var c0_hi = hh;\n    var c0_lo = hl;\n    var c1_hi = s1_512_hi(eh, el);\n    var c1_lo = s1_512_lo(eh, el);\n    var c2_hi = ch64_hi(eh, el, fh, fl, gh, gl);\n    var c2_lo = ch64_lo(eh, el, fh, fl, gh, gl);\n    var c3_hi = this.k[i];\n    var c3_lo = this.k[i + 1];\n    var c4_hi = W[i];\n    var c4_lo = W[i + 1];\n\n    var T1_hi = sum64_5_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n    var T1_lo = sum64_5_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n\n    c0_hi = s0_512_hi(ah, al);\n    c0_lo = s0_512_lo(ah, al);\n    c1_hi = maj64_hi(ah, al, bh, bl, ch, cl);\n    c1_lo = maj64_lo(ah, al, bh, bl, ch, cl);\n\n    var T2_hi = sum64_hi(c0_hi, c0_lo, c1_hi, c1_lo);\n    var T2_lo = sum64_lo(c0_hi, c0_lo, c1_hi, c1_lo);\n\n    hh = gh;\n    hl = gl;\n\n    gh = fh;\n    gl = fl;\n\n    fh = eh;\n    fl = el;\n\n    eh = sum64_hi(dh, dl, T1_hi, T1_lo);\n    el = sum64_lo(dl, dl, T1_hi, T1_lo);\n\n    dh = ch;\n    dl = cl;\n\n    ch = bh;\n    cl = bl;\n\n    bh = ah;\n    bl = al;\n\n    ah = sum64_hi(T1_hi, T1_lo, T2_hi, T2_lo);\n    al = sum64_lo(T1_hi, T1_lo, T2_hi, T2_lo);\n  }\n\n  sum64(this.h, 0, ah, al);\n  sum64(this.h, 2, bh, bl);\n  sum64(this.h, 4, ch, cl);\n  sum64(this.h, 6, dh, dl);\n  sum64(this.h, 8, eh, el);\n  sum64(this.h, 10, fh, fl);\n  sum64(this.h, 12, gh, gl);\n  sum64(this.h, 14, hh, hl);\n};\n\nSHA512.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n\nfunction ch64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ ((~xh) & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction ch64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ ((~xl) & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ (xh & zh) ^ (yh & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ (xl & zl) ^ (yl & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 28);\n  var c1_hi = rotr64_hi(xl, xh, 2);  // 34\n  var c2_hi = rotr64_hi(xl, xh, 7);  // 39\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 28);\n  var c1_lo = rotr64_lo(xl, xh, 2);  // 34\n  var c2_lo = rotr64_lo(xl, xh, 7);  // 39\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 14);\n  var c1_hi = rotr64_hi(xh, xl, 18);\n  var c2_hi = rotr64_hi(xl, xh, 9);  // 41\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 14);\n  var c1_lo = rotr64_lo(xh, xl, 18);\n  var c2_lo = rotr64_lo(xl, xh, 9);  // 41\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 1);\n  var c1_hi = rotr64_hi(xh, xl, 8);\n  var c2_hi = shr64_hi(xh, xl, 7);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 1);\n  var c1_lo = rotr64_lo(xh, xl, 8);\n  var c2_lo = shr64_lo(xh, xl, 7);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 19);\n  var c1_hi = rotr64_hi(xl, xh, 29);  // 61\n  var c2_hi = shr64_hi(xh, xl, 6);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 19);\n  var c1_lo = rotr64_lo(xl, xh, 29);  // 61\n  var c2_lo = shr64_lo(xh, xl, 6);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n","'use strict';\n\nvar utils = require('../utils');\n\nvar SHA512 = require('./512');\n\nfunction SHA384() {\n  if (!(this instanceof SHA384))\n    return new SHA384();\n\n  SHA512.call(this);\n  this.h = [\n    0xcbbb9d5d, 0xc1059ed8,\n    0x629a292a, 0x367cd507,\n    0x9159015a, 0x3070dd17,\n    0x152fecd8, 0xf70e5939,\n    0x67332667, 0xffc00b31,\n    0x8eb44a87, 0x68581511,\n    0xdb0c2e0d, 0x64f98fa7,\n    0x47b5481d, 0xbefa4fa4 ];\n}\nutils.inherits(SHA384, SHA512);\nmodule.exports = SHA384;\n\nSHA384.blockSize = 1024;\nSHA384.outSize = 384;\nSHA384.hmacStrength = 192;\nSHA384.padLength = 128;\n\nSHA384.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h.slice(0, 12), 'big');\n  else\n    return utils.split32(this.h.slice(0, 12), 'big');\n};\n","'use strict';\n\nexports.sha1 = require('./sha/1');\nexports.sha224 = require('./sha/224');\nexports.sha256 = require('./sha/256');\nexports.sha384 = require('./sha/384');\nexports.sha512 = require('./sha/512');\n","'use strict';\n\nvar utils = require('./utils');\nvar common = require('./common');\n\nvar rotl32 = utils.rotl32;\nvar sum32 = utils.sum32;\nvar sum32_3 = utils.sum32_3;\nvar sum32_4 = utils.sum32_4;\nvar BlockHash = common.BlockHash;\n\nfunction RIPEMD160() {\n  if (!(this instanceof RIPEMD160))\n    return new RIPEMD160();\n\n  BlockHash.call(this);\n\n  this.h = [ 0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0 ];\n  this.endian = 'little';\n}\nutils.inherits(RIPEMD160, BlockHash);\nexports.ripemd160 = RIPEMD160;\n\nRIPEMD160.blockSize = 512;\nRIPEMD160.outSize = 160;\nRIPEMD160.hmacStrength = 192;\nRIPEMD160.padLength = 64;\n\nRIPEMD160.prototype._update = function update(msg, start) {\n  var A = this.h[0];\n  var B = this.h[1];\n  var C = this.h[2];\n  var D = this.h[3];\n  var E = this.h[4];\n  var Ah = A;\n  var Bh = B;\n  var Ch = C;\n  var Dh = D;\n  var Eh = E;\n  for (var j = 0; j < 80; j++) {\n    var T = sum32(\n      rotl32(\n        sum32_4(A, f(j, B, C, D), msg[r[j] + start], K(j)),\n        s[j]),\n      E);\n    A = E;\n    E = D;\n    D = rotl32(C, 10);\n    C = B;\n    B = T;\n    T = sum32(\n      rotl32(\n        sum32_4(Ah, f(79 - j, Bh, Ch, Dh), msg[rh[j] + start], Kh(j)),\n        sh[j]),\n      Eh);\n    Ah = Eh;\n    Eh = Dh;\n    Dh = rotl32(Ch, 10);\n    Ch = Bh;\n    Bh = T;\n  }\n  T = sum32_3(this.h[1], C, Dh);\n  this.h[1] = sum32_3(this.h[2], D, Eh);\n  this.h[2] = sum32_3(this.h[3], E, Ah);\n  this.h[3] = sum32_3(this.h[4], A, Bh);\n  this.h[4] = sum32_3(this.h[0], B, Ch);\n  this.h[0] = T;\n};\n\nRIPEMD160.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'little');\n  else\n    return utils.split32(this.h, 'little');\n};\n\nfunction f(j, x, y, z) {\n  if (j <= 15)\n    return x ^ y ^ z;\n  else if (j <= 31)\n    return (x & y) | ((~x) & z);\n  else if (j <= 47)\n    return (x | (~y)) ^ z;\n  else if (j <= 63)\n    return (x & z) | (y & (~z));\n  else\n    return x ^ (y | (~z));\n}\n\nfunction K(j) {\n  if (j <= 15)\n    return 0x00000000;\n  else if (j <= 31)\n    return 0x5a827999;\n  else if (j <= 47)\n    return 0x6ed9eba1;\n  else if (j <= 63)\n    return 0x8f1bbcdc;\n  else\n    return 0xa953fd4e;\n}\n\nfunction Kh(j) {\n  if (j <= 15)\n    return 0x50a28be6;\n  else if (j <= 31)\n    return 0x5c4dd124;\n  else if (j <= 47)\n    return 0x6d703ef3;\n  else if (j <= 63)\n    return 0x7a6d76e9;\n  else\n    return 0x00000000;\n}\n\nvar r = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,\n  3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12,\n  1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2,\n  4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13\n];\n\nvar rh = [\n  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12,\n  6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2,\n  15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13,\n  8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14,\n  12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11\n];\n\nvar s = [\n  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,\n  7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,\n  11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,\n  11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,\n  9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6\n];\n\nvar sh = [\n  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,\n  9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,\n  9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,\n  15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,\n  8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11\n];\n","'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction Hmac(hash, key, enc) {\n  if (!(this instanceof Hmac))\n    return new Hmac(hash, key, enc);\n  this.Hash = hash;\n  this.blockSize = hash.blockSize / 8;\n  this.outSize = hash.outSize / 8;\n  this.inner = null;\n  this.outer = null;\n\n  this._init(utils.toArray(key, enc));\n}\nmodule.exports = Hmac;\n\nHmac.prototype._init = function init(key) {\n  // Shorten key, if needed\n  if (key.length > this.blockSize)\n    key = new this.Hash().update(key).digest();\n  assert(key.length <= this.blockSize);\n\n  // Add padding to key\n  for (var i = key.length; i < this.blockSize; i++)\n    key.push(0);\n\n  for (i = 0; i < key.length; i++)\n    key[i] ^= 0x36;\n  this.inner = new this.Hash().update(key);\n\n  // 0x36 ^ 0x5c = 0x6a\n  for (i = 0; i < key.length; i++)\n    key[i] ^= 0x6a;\n  this.outer = new this.Hash().update(key);\n};\n\nHmac.prototype.update = function update(msg, enc) {\n  this.inner.update(msg, enc);\n  return this;\n};\n\nHmac.prototype.digest = function digest(enc) {\n  this.outer.update(this.inner.digest());\n  return this.outer.digest(enc);\n};\n","var hash = exports;\n\nhash.utils = require('./hash/utils');\nhash.common = require('./hash/common');\nhash.sha = require('./hash/sha');\nhash.ripemd = require('./hash/ripemd');\nhash.hmac = require('./hash/hmac');\n\n// Proxy hash functions to the main object\nhash.sha1 = hash.sha.sha1;\nhash.sha256 = hash.sha.sha256;\nhash.sha224 = hash.sha.sha224;\nhash.sha384 = hash.sha.sha384;\nhash.sha512 = hash.sha.sha512;\nhash.ripemd160 = hash.ripemd.ripemd160;\n","\"use strict\";\nimport hash from \"hash.js\";\n//const _ripemd160 = _hash.ripemd160;\nimport { arrayify } from \"@ethersproject/bytes\";\nimport { SupportedAlgorithm } from \"./types\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport function ripemd160(data) {\n    return \"0x\" + (hash.ripemd160().update(arrayify(data)).digest(\"hex\"));\n}\nexport function sha256(data) {\n    return \"0x\" + (hash.sha256().update(arrayify(data)).digest(\"hex\"));\n}\nexport function sha512(data) {\n    return \"0x\" + (hash.sha512().update(arrayify(data)).digest(\"hex\"));\n}\nexport function computeHmac(algorithm, key, data) {\n    if (!SupportedAlgorithm[algorithm]) {\n        logger.throwError(\"unsupported algorithm \" + algorithm, Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"hmac\",\n            algorithm: algorithm\n        });\n    }\n    return \"0x\" + hash.hmac(hash[algorithm], arrayify(key)).update(arrayify(data)).digest(\"hex\");\n}\n//# sourceMappingURL=sha2.js.map","export const version = \"sha2/5.7.0\";\n//# sourceMappingURL=_version.js.map","export const version = \"web/5.7.1\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { arrayify } from \"@ethersproject/bytes\";\nexport function getUrl(href, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (options == null) {\n            options = {};\n        }\n        const request = {\n            method: (options.method || \"GET\"),\n            headers: (options.headers || {}),\n            body: (options.body || undefined),\n        };\n        if (options.skipFetchSetup !== true) {\n            request.mode = \"cors\"; // no-cors, cors, *same-origin\n            request.cache = \"no-cache\"; // *default, no-cache, reload, force-cache, only-if-cached\n            request.credentials = \"same-origin\"; // include, *same-origin, omit\n            request.redirect = \"follow\"; // manual, *follow, error\n            request.referrer = \"client\"; // no-referrer, *client\n        }\n        ;\n        if (options.fetchOptions != null) {\n            const opts = options.fetchOptions;\n            if (opts.mode) {\n                request.mode = (opts.mode);\n            }\n            if (opts.cache) {\n                request.cache = (opts.cache);\n            }\n            if (opts.credentials) {\n                request.credentials = (opts.credentials);\n            }\n            if (opts.redirect) {\n                request.redirect = (opts.redirect);\n            }\n            if (opts.referrer) {\n                request.referrer = opts.referrer;\n            }\n        }\n        const response = yield fetch(href, request);\n        const body = yield response.arrayBuffer();\n        const headers = {};\n        if (response.headers.forEach) {\n            response.headers.forEach((value, key) => {\n                headers[key.toLowerCase()] = value;\n            });\n        }\n        else {\n            ((response.headers).keys)().forEach((key) => {\n                headers[key.toLowerCase()] = response.headers.get(key);\n            });\n        }\n        return {\n            headers: headers,\n            statusCode: response.status,\n            statusMessage: response.statusText,\n            body: arrayify(new Uint8Array(body)),\n        };\n    });\n}\n//# sourceMappingURL=geturl.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { decode as base64Decode, encode as base64Encode } from \"@ethersproject/base64\";\nimport { hexlify, isBytesLike } from \"@ethersproject/bytes\";\nimport { shallowCopy } from \"@ethersproject/properties\";\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { getUrl } from \"./geturl\";\nfunction staller(duration) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, duration);\n    });\n}\nfunction bodyify(value, type) {\n    if (value == null) {\n        return null;\n    }\n    if (typeof (value) === \"string\") {\n        return value;\n    }\n    if (isBytesLike(value)) {\n        if (type && (type.split(\"/\")[0] === \"text\" || type.split(\";\")[0].trim() === \"application/json\")) {\n            try {\n                return toUtf8String(value);\n            }\n            catch (error) { }\n            ;\n        }\n        return hexlify(value);\n    }\n    return value;\n}\nfunction unpercent(value) {\n    return toUtf8Bytes(value.replace(/%([0-9a-f][0-9a-f])/gi, (all, code) => {\n        return String.fromCharCode(parseInt(code, 16));\n    }));\n}\n// This API is still a work in progress; the future changes will likely be:\n// - ConnectionInfo => FetchDataRequest<T = any>\n// - FetchDataRequest.body? = string | Uint8Array | { contentType: string, data: string | Uint8Array }\n//   - If string => text/plain, Uint8Array => application/octet-stream (if content-type unspecified)\n// - FetchDataRequest.processFunc = (body: Uint8Array, response: FetchDataResponse) => T\n// For this reason, it should be considered internal until the API is finalized\nexport function _fetchData(connection, body, processFunc) {\n    // How many times to retry in the event of a throttle\n    const attemptLimit = (typeof (connection) === \"object\" && connection.throttleLimit != null) ? connection.throttleLimit : 12;\n    logger.assertArgument((attemptLimit > 0 && (attemptLimit % 1) === 0), \"invalid connection throttle limit\", \"connection.throttleLimit\", attemptLimit);\n    const throttleCallback = ((typeof (connection) === \"object\") ? connection.throttleCallback : null);\n    const throttleSlotInterval = ((typeof (connection) === \"object\" && typeof (connection.throttleSlotInterval) === \"number\") ? connection.throttleSlotInterval : 100);\n    logger.assertArgument((throttleSlotInterval > 0 && (throttleSlotInterval % 1) === 0), \"invalid connection throttle slot interval\", \"connection.throttleSlotInterval\", throttleSlotInterval);\n    const errorPassThrough = ((typeof (connection) === \"object\") ? !!(connection.errorPassThrough) : false);\n    const headers = {};\n    let url = null;\n    // @TODO: Allow ConnectionInfo to override some of these values\n    const options = {\n        method: \"GET\",\n    };\n    let allow304 = false;\n    let timeout = 2 * 60 * 1000;\n    if (typeof (connection) === \"string\") {\n        url = connection;\n    }\n    else if (typeof (connection) === \"object\") {\n        if (connection == null || connection.url == null) {\n            logger.throwArgumentError(\"missing URL\", \"connection.url\", connection);\n        }\n        url = connection.url;\n        if (typeof (connection.timeout) === \"number\" && connection.timeout > 0) {\n            timeout = connection.timeout;\n        }\n        if (connection.headers) {\n            for (const key in connection.headers) {\n                headers[key.toLowerCase()] = { key: key, value: String(connection.headers[key]) };\n                if ([\"if-none-match\", \"if-modified-since\"].indexOf(key.toLowerCase()) >= 0) {\n                    allow304 = true;\n                }\n            }\n        }\n        options.allowGzip = !!connection.allowGzip;\n        if (connection.user != null && connection.password != null) {\n            if (url.substring(0, 6) !== \"https:\" && connection.allowInsecureAuthentication !== true) {\n                logger.throwError(\"basic authentication requires a secure https url\", Logger.errors.INVALID_ARGUMENT, { argument: \"url\", url: url, user: connection.user, password: \"[REDACTED]\" });\n            }\n            const authorization = connection.user + \":\" + connection.password;\n            headers[\"authorization\"] = {\n                key: \"Authorization\",\n                value: \"Basic \" + base64Encode(toUtf8Bytes(authorization))\n            };\n        }\n        if (connection.skipFetchSetup != null) {\n            options.skipFetchSetup = !!connection.skipFetchSetup;\n        }\n        if (connection.fetchOptions != null) {\n            options.fetchOptions = shallowCopy(connection.fetchOptions);\n        }\n    }\n    const reData = new RegExp(\"^data:([^;:]*)?(;base64)?,(.*)$\", \"i\");\n    const dataMatch = ((url) ? url.match(reData) : null);\n    if (dataMatch) {\n        try {\n            const response = {\n                statusCode: 200,\n                statusMessage: \"OK\",\n                headers: { \"content-type\": (dataMatch[1] || \"text/plain\") },\n                body: (dataMatch[2] ? base64Decode(dataMatch[3]) : unpercent(dataMatch[3]))\n            };\n            let result = response.body;\n            if (processFunc) {\n                result = processFunc(response.body, response);\n            }\n            return Promise.resolve(result);\n        }\n        catch (error) {\n            logger.throwError(\"processing response error\", Logger.errors.SERVER_ERROR, {\n                body: bodyify(dataMatch[1], dataMatch[2]),\n                error: error,\n                requestBody: null,\n                requestMethod: \"GET\",\n                url: url\n            });\n        }\n    }\n    if (body) {\n        options.method = \"POST\";\n        options.body = body;\n        if (headers[\"content-type\"] == null) {\n            headers[\"content-type\"] = { key: \"Content-Type\", value: \"application/octet-stream\" };\n        }\n        if (headers[\"content-length\"] == null) {\n            headers[\"content-length\"] = { key: \"Content-Length\", value: String(body.length) };\n        }\n    }\n    const flatHeaders = {};\n    Object.keys(headers).forEach((key) => {\n        const header = headers[key];\n        flatHeaders[header.key] = header.value;\n    });\n    options.headers = flatHeaders;\n    const runningTimeout = (function () {\n        let timer = null;\n        const promise = new Promise(function (resolve, reject) {\n            if (timeout) {\n                timer = setTimeout(() => {\n                    if (timer == null) {\n                        return;\n                    }\n                    timer = null;\n                    reject(logger.makeError(\"timeout\", Logger.errors.TIMEOUT, {\n                        requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                        requestMethod: options.method,\n                        timeout: timeout,\n                        url: url\n                    }));\n                }, timeout);\n            }\n        });\n        const cancel = function () {\n            if (timer == null) {\n                return;\n            }\n            clearTimeout(timer);\n            timer = null;\n        };\n        return { promise, cancel };\n    })();\n    const runningFetch = (function () {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (let attempt = 0; attempt < attemptLimit; attempt++) {\n                let response = null;\n                try {\n                    response = yield getUrl(url, options);\n                    if (attempt < attemptLimit) {\n                        if (response.statusCode === 301 || response.statusCode === 302) {\n                            // Redirection; for now we only support absolute locataions\n                            const location = response.headers.location || \"\";\n                            if (options.method === \"GET\" && location.match(/^https:/)) {\n                                url = response.headers.location;\n                                continue;\n                            }\n                        }\n                        else if (response.statusCode === 429) {\n                            // Exponential back-off throttling\n                            let tryAgain = true;\n                            if (throttleCallback) {\n                                tryAgain = yield throttleCallback(attempt, url);\n                            }\n                            if (tryAgain) {\n                                let stall = 0;\n                                const retryAfter = response.headers[\"retry-after\"];\n                                if (typeof (retryAfter) === \"string\" && retryAfter.match(/^[1-9][0-9]*$/)) {\n                                    stall = parseInt(retryAfter) * 1000;\n                                }\n                                else {\n                                    stall = throttleSlotInterval * parseInt(String(Math.random() * Math.pow(2, attempt)));\n                                }\n                                //console.log(\"Stalling 429\");\n                                yield staller(stall);\n                                continue;\n                            }\n                        }\n                    }\n                }\n                catch (error) {\n                    response = error.response;\n                    if (response == null) {\n                        runningTimeout.cancel();\n                        logger.throwError(\"missing response\", Logger.errors.SERVER_ERROR, {\n                            requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                            requestMethod: options.method,\n                            serverError: error,\n                            url: url\n                        });\n                    }\n                }\n                let body = response.body;\n                if (allow304 && response.statusCode === 304) {\n                    body = null;\n                }\n                else if (!errorPassThrough && (response.statusCode < 200 || response.statusCode >= 300)) {\n                    runningTimeout.cancel();\n                    logger.throwError(\"bad response\", Logger.errors.SERVER_ERROR, {\n                        status: response.statusCode,\n                        headers: response.headers,\n                        body: bodyify(body, ((response.headers) ? response.headers[\"content-type\"] : null)),\n                        requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                        requestMethod: options.method,\n                        url: url\n                    });\n                }\n                if (processFunc) {\n                    try {\n                        const result = yield processFunc(body, response);\n                        runningTimeout.cancel();\n                        return result;\n                    }\n                    catch (error) {\n                        // Allow the processFunc to trigger a throttle\n                        if (error.throttleRetry && attempt < attemptLimit) {\n                            let tryAgain = true;\n                            if (throttleCallback) {\n                                tryAgain = yield throttleCallback(attempt, url);\n                            }\n                            if (tryAgain) {\n                                const timeout = throttleSlotInterval * parseInt(String(Math.random() * Math.pow(2, attempt)));\n                                //console.log(\"Stalling callback\");\n                                yield staller(timeout);\n                                continue;\n                            }\n                        }\n                        runningTimeout.cancel();\n                        logger.throwError(\"processing response error\", Logger.errors.SERVER_ERROR, {\n                            body: bodyify(body, ((response.headers) ? response.headers[\"content-type\"] : null)),\n                            error: error,\n                            requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                            requestMethod: options.method,\n                            url: url\n                        });\n                    }\n                }\n                runningTimeout.cancel();\n                // If we had a processFunc, it either returned a T or threw above.\n                // The \"body\" is now a Uint8Array.\n                return body;\n            }\n            return logger.throwError(\"failed response\", Logger.errors.SERVER_ERROR, {\n                requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                requestMethod: options.method,\n                url: url\n            });\n        });\n    })();\n    return Promise.race([runningTimeout.promise, runningFetch]);\n}\nexport function fetchJson(connection, json, processFunc) {\n    let processJsonFunc = (value, response) => {\n        let result = null;\n        if (value != null) {\n            try {\n                result = JSON.parse(toUtf8String(value));\n            }\n            catch (error) {\n                logger.throwError(\"invalid JSON\", Logger.errors.SERVER_ERROR, {\n                    body: value,\n                    error: error\n                });\n            }\n        }\n        if (processFunc) {\n            result = processFunc(result, response);\n        }\n        return result;\n    };\n    // If we have json to send, we must\n    // - add content-type of application/json (unless already overridden)\n    // - convert the json to bytes\n    let body = null;\n    if (json != null) {\n        body = toUtf8Bytes(json);\n        // Create a connection with the content-type set for JSON\n        const updated = (typeof (connection) === \"string\") ? ({ url: connection }) : shallowCopy(connection);\n        if (updated.headers) {\n            const hasContentType = (Object.keys(updated.headers).filter((k) => (k.toLowerCase() === \"content-type\")).length) !== 0;\n            if (!hasContentType) {\n                updated.headers = shallowCopy(updated.headers);\n                updated.headers[\"content-type\"] = \"application/json\";\n            }\n        }\n        else {\n            updated.headers = { \"content-type\": \"application/json\" };\n        }\n        connection = updated;\n    }\n    return _fetchData(connection, body, processJsonFunc);\n}\nexport function poll(func, options) {\n    if (!options) {\n        options = {};\n    }\n    options = shallowCopy(options);\n    if (options.floor == null) {\n        options.floor = 0;\n    }\n    if (options.ceiling == null) {\n        options.ceiling = 10000;\n    }\n    if (options.interval == null) {\n        options.interval = 250;\n    }\n    return new Promise(function (resolve, reject) {\n        let timer = null;\n        let done = false;\n        // Returns true if cancel was successful. Unsuccessful cancel means we're already done.\n        const cancel = () => {\n            if (done) {\n                return false;\n            }\n            done = true;\n            if (timer) {\n                clearTimeout(timer);\n            }\n            return true;\n        };\n        if (options.timeout) {\n            timer = setTimeout(() => {\n                if (cancel()) {\n                    reject(new Error(\"timeout\"));\n                }\n            }, options.timeout);\n        }\n        const retryLimit = options.retryLimit;\n        let attempt = 0;\n        function check() {\n            return func().then(function (result) {\n                // If we have a result, or are allowed null then we're done\n                if (result !== undefined) {\n                    if (cancel()) {\n                        resolve(result);\n                    }\n                }\n                else if (options.oncePoll) {\n                    options.oncePoll.once(\"poll\", check);\n                }\n                else if (options.onceBlock) {\n                    options.onceBlock.once(\"block\", check);\n                    // Otherwise, exponential back-off (up to 10s) our next request\n                }\n                else if (!done) {\n                    attempt++;\n                    if (attempt > retryLimit) {\n                        if (cancel()) {\n                            reject(new Error(\"retry limit reached\"));\n                        }\n                        return;\n                    }\n                    let timeout = options.interval * parseInt(String(Math.random() * Math.pow(2, attempt)));\n                    if (timeout < options.floor) {\n                        timeout = options.floor;\n                    }\n                    if (timeout > options.ceiling) {\n                        timeout = options.ceiling;\n                    }\n                    setTimeout(check, timeout);\n                }\n                return null;\n            }, function (error) {\n                if (cancel()) {\n                    reject(error);\n                }\n            });\n        }\n        check();\n    });\n}\n//# sourceMappingURL=index.js.map","'use strict'\nvar ALPHABET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l'\n\n// pre-compute lookup table\nvar ALPHABET_MAP = {}\nfor (var z = 0; z < ALPHABET.length; z++) {\n  var x = ALPHABET.charAt(z)\n\n  if (ALPHABET_MAP[x] !== undefined) throw new TypeError(x + ' is ambiguous')\n  ALPHABET_MAP[x] = z\n}\n\nfunction polymodStep (pre) {\n  var b = pre >> 25\n  return ((pre & 0x1FFFFFF) << 5) ^\n    (-((b >> 0) & 1) & 0x3b6a57b2) ^\n    (-((b >> 1) & 1) & 0x26508e6d) ^\n    (-((b >> 2) & 1) & 0x1ea119fa) ^\n    (-((b >> 3) & 1) & 0x3d4233dd) ^\n    (-((b >> 4) & 1) & 0x2a1462b3)\n}\n\nfunction prefixChk (prefix) {\n  var chk = 1\n  for (var i = 0; i < prefix.length; ++i) {\n    var c = prefix.charCodeAt(i)\n    if (c < 33 || c > 126) return 'Invalid prefix (' + prefix + ')'\n\n    chk = polymodStep(chk) ^ (c >> 5)\n  }\n  chk = polymodStep(chk)\n\n  for (i = 0; i < prefix.length; ++i) {\n    var v = prefix.charCodeAt(i)\n    chk = polymodStep(chk) ^ (v & 0x1f)\n  }\n  return chk\n}\n\nfunction encode (prefix, words, LIMIT) {\n  LIMIT = LIMIT || 90\n  if ((prefix.length + 7 + words.length) > LIMIT) throw new TypeError('Exceeds length limit')\n\n  prefix = prefix.toLowerCase()\n\n  // determine chk mod\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') throw new Error(chk)\n\n  var result = prefix + '1'\n  for (var i = 0; i < words.length; ++i) {\n    var x = words[i]\n    if ((x >> 5) !== 0) throw new Error('Non 5-bit word')\n\n    chk = polymodStep(chk) ^ x\n    result += ALPHABET.charAt(x)\n  }\n\n  for (i = 0; i < 6; ++i) {\n    chk = polymodStep(chk)\n  }\n  chk ^= 1\n\n  for (i = 0; i < 6; ++i) {\n    var v = (chk >> ((5 - i) * 5)) & 0x1f\n    result += ALPHABET.charAt(v)\n  }\n\n  return result\n}\n\nfunction __decode (str, LIMIT) {\n  LIMIT = LIMIT || 90\n  if (str.length < 8) return str + ' too short'\n  if (str.length > LIMIT) return 'Exceeds length limit'\n\n  // don't allow mixed case\n  var lowered = str.toLowerCase()\n  var uppered = str.toUpperCase()\n  if (str !== lowered && str !== uppered) return 'Mixed-case string ' + str\n  str = lowered\n\n  var split = str.lastIndexOf('1')\n  if (split === -1) return 'No separator character for ' + str\n  if (split === 0) return 'Missing prefix for ' + str\n\n  var prefix = str.slice(0, split)\n  var wordChars = str.slice(split + 1)\n  if (wordChars.length < 6) return 'Data too short'\n\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') return chk\n\n  var words = []\n  for (var i = 0; i < wordChars.length; ++i) {\n    var c = wordChars.charAt(i)\n    var v = ALPHABET_MAP[c]\n    if (v === undefined) return 'Unknown character ' + c\n    chk = polymodStep(chk) ^ v\n\n    // not in the checksum?\n    if (i + 6 >= wordChars.length) continue\n    words.push(v)\n  }\n\n  if (chk !== 1) return 'Invalid checksum for ' + str\n  return { prefix: prefix, words: words }\n}\n\nfunction decodeUnsafe () {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n}\n\nfunction decode (str) {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n\n  throw new Error(res)\n}\n\nfunction convert (data, inBits, outBits, pad) {\n  var value = 0\n  var bits = 0\n  var maxV = (1 << outBits) - 1\n\n  var result = []\n  for (var i = 0; i < data.length; ++i) {\n    value = (value << inBits) | data[i]\n    bits += inBits\n\n    while (bits >= outBits) {\n      bits -= outBits\n      result.push((value >> bits) & maxV)\n    }\n  }\n\n  if (pad) {\n    if (bits > 0) {\n      result.push((value << (outBits - bits)) & maxV)\n    }\n  } else {\n    if (bits >= inBits) return 'Excess padding'\n    if ((value << (outBits - bits)) & maxV) return 'Non-zero padding'\n  }\n\n  return result\n}\n\nfunction toWordsUnsafe (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n}\n\nfunction toWords (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nfunction fromWordsUnsafe (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n}\n\nfunction fromWords (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nmodule.exports = {\n  decodeUnsafe: decodeUnsafe,\n  decode: decode,\n  encode: encode,\n  toWordsUnsafe: toWordsUnsafe,\n  toWords: toWords,\n  fromWordsUnsafe: fromWordsUnsafe,\n  fromWords: fromWords\n}\n","export const version = \"providers/5.7.2\";\n//# sourceMappingURL=_version.js.map","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","import BN from 'bn.js';\nimport hash from 'hash.js';\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, basedir, module) {\n\treturn module = {\n\t\tpath: basedir,\n\t\texports: {},\n\t\trequire: function (path, base) {\n\t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n\t\t}\n\t}, fn(module, module.exports), module.exports;\n}\n\nfunction getDefaultExportFromNamespaceIfPresent (n) {\n\treturn n && Object.prototype.hasOwnProperty.call(n, 'default') ? n['default'] : n;\n}\n\nfunction getDefaultExportFromNamespaceIfNotNamed (n) {\n\treturn n && Object.prototype.hasOwnProperty.call(n, 'default') && Object.keys(n).length === 1 ? n['default'] : n;\n}\n\nfunction getAugmentedNamespace(n) {\n\tif (n.__esModule) return n;\n\tvar a = Object.defineProperty({}, '__esModule', {value: true});\n\tObject.keys(n).forEach(function (k) {\n\t\tvar d = Object.getOwnPropertyDescriptor(n, k);\n\t\tObject.defineProperty(a, k, d.get ? d : {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn n[k];\n\t\t\t}\n\t\t});\n\t});\n\treturn a;\n}\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nvar minimalisticAssert = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n\nvar utils_1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar utils = exports;\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg !== 'string') {\n    for (var i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n    return res;\n  }\n  if (enc === 'hex') {\n    msg = msg.replace(/[^a-z0-9]+/ig, '');\n    if (msg.length % 2 !== 0)\n      msg = '0' + msg;\n    for (var i = 0; i < msg.length; i += 2)\n      res.push(parseInt(msg[i] + msg[i + 1], 16));\n  } else {\n    for (var i = 0; i < msg.length; i++) {\n      var c = msg.charCodeAt(i);\n      var hi = c >> 8;\n      var lo = c & 0xff;\n      if (hi)\n        res.push(hi, lo);\n      else\n        res.push(lo);\n    }\n  }\n  return res;\n}\nutils.toArray = toArray;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nutils.zero2 = zero2;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nutils.toHex = toHex;\n\nutils.encode = function encode(arr, enc) {\n  if (enc === 'hex')\n    return toHex(arr);\n  else\n    return arr;\n};\n});\n\nvar utils_1$1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar utils = exports;\n\n\n\n\nutils.assert = minimalisticAssert;\nutils.toArray = utils_1.toArray;\nutils.zero2 = utils_1.zero2;\nutils.toHex = utils_1.toHex;\nutils.encode = utils_1.encode;\n\n// Represent num in a w-NAF form\nfunction getNAF(num, w, bits) {\n  var naf = new Array(Math.max(num.bitLength(), bits) + 1);\n  naf.fill(0);\n\n  var ws = 1 << (w + 1);\n  var k = num.clone();\n\n  for (var i = 0; i < naf.length; i++) {\n    var z;\n    var mod = k.andln(ws - 1);\n    if (k.isOdd()) {\n      if (mod > (ws >> 1) - 1)\n        z = (ws >> 1) - mod;\n      else\n        z = mod;\n      k.isubn(z);\n    } else {\n      z = 0;\n    }\n\n    naf[i] = z;\n    k.iushrn(1);\n  }\n\n  return naf;\n}\nutils.getNAF = getNAF;\n\n// Represent k1, k2 in a Joint Sparse Form\nfunction getJSF(k1, k2) {\n  var jsf = [\n    [],\n    [],\n  ];\n\n  k1 = k1.clone();\n  k2 = k2.clone();\n  var d1 = 0;\n  var d2 = 0;\n  var m8;\n  while (k1.cmpn(-d1) > 0 || k2.cmpn(-d2) > 0) {\n    // First phase\n    var m14 = (k1.andln(3) + d1) & 3;\n    var m24 = (k2.andln(3) + d2) & 3;\n    if (m14 === 3)\n      m14 = -1;\n    if (m24 === 3)\n      m24 = -1;\n    var u1;\n    if ((m14 & 1) === 0) {\n      u1 = 0;\n    } else {\n      m8 = (k1.andln(7) + d1) & 7;\n      if ((m8 === 3 || m8 === 5) && m24 === 2)\n        u1 = -m14;\n      else\n        u1 = m14;\n    }\n    jsf[0].push(u1);\n\n    var u2;\n    if ((m24 & 1) === 0) {\n      u2 = 0;\n    } else {\n      m8 = (k2.andln(7) + d2) & 7;\n      if ((m8 === 3 || m8 === 5) && m14 === 2)\n        u2 = -m24;\n      else\n        u2 = m24;\n    }\n    jsf[1].push(u2);\n\n    // Second phase\n    if (2 * d1 === u1 + 1)\n      d1 = 1 - d1;\n    if (2 * d2 === u2 + 1)\n      d2 = 1 - d2;\n    k1.iushrn(1);\n    k2.iushrn(1);\n  }\n\n  return jsf;\n}\nutils.getJSF = getJSF;\n\nfunction cachedProperty(obj, name, computer) {\n  var key = '_' + name;\n  obj.prototype[name] = function cachedProperty() {\n    return this[key] !== undefined ? this[key] :\n      this[key] = computer.call(this);\n  };\n}\nutils.cachedProperty = cachedProperty;\n\nfunction parseBytes(bytes) {\n  return typeof bytes === 'string' ? utils.toArray(bytes, 'hex') :\n    bytes;\n}\nutils.parseBytes = parseBytes;\n\nfunction intFromLE(bytes) {\n  return new BN(bytes, 'hex', 'le');\n}\nutils.intFromLE = intFromLE;\n});\n\n'use strict';\n\n\n\nvar getNAF = utils_1$1.getNAF;\nvar getJSF = utils_1$1.getJSF;\nvar assert$1 = utils_1$1.assert;\n\nfunction BaseCurve(type, conf) {\n  this.type = type;\n  this.p = new BN(conf.p, 16);\n\n  // Use Montgomery, when there is no fast reduction for the prime\n  this.red = conf.prime ? BN.red(conf.prime) : BN.mont(this.p);\n\n  // Useful for many curves\n  this.zero = new BN(0).toRed(this.red);\n  this.one = new BN(1).toRed(this.red);\n  this.two = new BN(2).toRed(this.red);\n\n  // Curve configuration, optional\n  this.n = conf.n && new BN(conf.n, 16);\n  this.g = conf.g && this.pointFromJSON(conf.g, conf.gRed);\n\n  // Temporary arrays\n  this._wnafT1 = new Array(4);\n  this._wnafT2 = new Array(4);\n  this._wnafT3 = new Array(4);\n  this._wnafT4 = new Array(4);\n\n  this._bitLength = this.n ? this.n.bitLength() : 0;\n\n  // Generalized Greg Maxwell's trick\n  var adjustCount = this.n && this.p.div(this.n);\n  if (!adjustCount || adjustCount.cmpn(100) > 0) {\n    this.redN = null;\n  } else {\n    this._maxwellTrick = true;\n    this.redN = this.n.toRed(this.red);\n  }\n}\nvar base = BaseCurve;\n\nBaseCurve.prototype.point = function point() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype.validate = function validate() {\n  throw new Error('Not implemented');\n};\n\nBaseCurve.prototype._fixedNafMul = function _fixedNafMul(p, k) {\n  assert$1(p.precomputed);\n  var doubles = p._getDoubles();\n\n  var naf = getNAF(k, 1, this._bitLength);\n  var I = (1 << (doubles.step + 1)) - (doubles.step % 2 === 0 ? 2 : 1);\n  I /= 3;\n\n  // Translate into more windowed form\n  var repr = [];\n  var j;\n  var nafW;\n  for (j = 0; j < naf.length; j += doubles.step) {\n    nafW = 0;\n    for (var l = j + doubles.step - 1; l >= j; l--)\n      nafW = (nafW << 1) + naf[l];\n    repr.push(nafW);\n  }\n\n  var a = this.jpoint(null, null, null);\n  var b = this.jpoint(null, null, null);\n  for (var i = I; i > 0; i--) {\n    for (j = 0; j < repr.length; j++) {\n      nafW = repr[j];\n      if (nafW === i)\n        b = b.mixedAdd(doubles.points[j]);\n      else if (nafW === -i)\n        b = b.mixedAdd(doubles.points[j].neg());\n    }\n    a = a.add(b);\n  }\n  return a.toP();\n};\n\nBaseCurve.prototype._wnafMul = function _wnafMul(p, k) {\n  var w = 4;\n\n  // Precompute window\n  var nafPoints = p._getNAFPoints(w);\n  w = nafPoints.wnd;\n  var wnd = nafPoints.points;\n\n  // Get NAF form\n  var naf = getNAF(k, w, this._bitLength);\n\n  // Add `this`*(N+1) for every w-NAF index\n  var acc = this.jpoint(null, null, null);\n  for (var i = naf.length - 1; i >= 0; i--) {\n    // Count zeroes\n    for (var l = 0; i >= 0 && naf[i] === 0; i--)\n      l++;\n    if (i >= 0)\n      l++;\n    acc = acc.dblp(l);\n\n    if (i < 0)\n      break;\n    var z = naf[i];\n    assert$1(z !== 0);\n    if (p.type === 'affine') {\n      // J +- P\n      if (z > 0)\n        acc = acc.mixedAdd(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.mixedAdd(wnd[(-z - 1) >> 1].neg());\n    } else {\n      // J +- J\n      if (z > 0)\n        acc = acc.add(wnd[(z - 1) >> 1]);\n      else\n        acc = acc.add(wnd[(-z - 1) >> 1].neg());\n    }\n  }\n  return p.type === 'affine' ? acc.toP() : acc;\n};\n\nBaseCurve.prototype._wnafMulAdd = function _wnafMulAdd(defW,\n  points,\n  coeffs,\n  len,\n  jacobianResult) {\n  var wndWidth = this._wnafT1;\n  var wnd = this._wnafT2;\n  var naf = this._wnafT3;\n\n  // Fill all arrays\n  var max = 0;\n  var i;\n  var j;\n  var p;\n  for (i = 0; i < len; i++) {\n    p = points[i];\n    var nafPoints = p._getNAFPoints(defW);\n    wndWidth[i] = nafPoints.wnd;\n    wnd[i] = nafPoints.points;\n  }\n\n  // Comb small window NAFs\n  for (i = len - 1; i >= 1; i -= 2) {\n    var a = i - 1;\n    var b = i;\n    if (wndWidth[a] !== 1 || wndWidth[b] !== 1) {\n      naf[a] = getNAF(coeffs[a], wndWidth[a], this._bitLength);\n      naf[b] = getNAF(coeffs[b], wndWidth[b], this._bitLength);\n      max = Math.max(naf[a].length, max);\n      max = Math.max(naf[b].length, max);\n      continue;\n    }\n\n    var comb = [\n      points[a], /* 1 */\n      null, /* 3 */\n      null, /* 5 */\n      points[b], /* 7 */\n    ];\n\n    // Try to avoid Projective points, if possible\n    if (points[a].y.cmp(points[b].y) === 0) {\n      comb[1] = points[a].add(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    } else if (points[a].y.cmp(points[b].y.redNeg()) === 0) {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].add(points[b].neg());\n    } else {\n      comb[1] = points[a].toJ().mixedAdd(points[b]);\n      comb[2] = points[a].toJ().mixedAdd(points[b].neg());\n    }\n\n    var index = [\n      -3, /* -1 -1 */\n      -1, /* -1 0 */\n      -5, /* -1 1 */\n      -7, /* 0 -1 */\n      0, /* 0 0 */\n      7, /* 0 1 */\n      5, /* 1 -1 */\n      1, /* 1 0 */\n      3,  /* 1 1 */\n    ];\n\n    var jsf = getJSF(coeffs[a], coeffs[b]);\n    max = Math.max(jsf[0].length, max);\n    naf[a] = new Array(max);\n    naf[b] = new Array(max);\n    for (j = 0; j < max; j++) {\n      var ja = jsf[0][j] | 0;\n      var jb = jsf[1][j] | 0;\n\n      naf[a][j] = index[(ja + 1) * 3 + (jb + 1)];\n      naf[b][j] = 0;\n      wnd[a] = comb;\n    }\n  }\n\n  var acc = this.jpoint(null, null, null);\n  var tmp = this._wnafT4;\n  for (i = max; i >= 0; i--) {\n    var k = 0;\n\n    while (i >= 0) {\n      var zero = true;\n      for (j = 0; j < len; j++) {\n        tmp[j] = naf[j][i] | 0;\n        if (tmp[j] !== 0)\n          zero = false;\n      }\n      if (!zero)\n        break;\n      k++;\n      i--;\n    }\n    if (i >= 0)\n      k++;\n    acc = acc.dblp(k);\n    if (i < 0)\n      break;\n\n    for (j = 0; j < len; j++) {\n      var z = tmp[j];\n      p;\n      if (z === 0)\n        continue;\n      else if (z > 0)\n        p = wnd[j][(z - 1) >> 1];\n      else if (z < 0)\n        p = wnd[j][(-z - 1) >> 1].neg();\n\n      if (p.type === 'affine')\n        acc = acc.mixedAdd(p);\n      else\n        acc = acc.add(p);\n    }\n  }\n  // Zeroify references\n  for (i = 0; i < len; i++)\n    wnd[i] = null;\n\n  if (jacobianResult)\n    return acc;\n  else\n    return acc.toP();\n};\n\nfunction BasePoint(curve, type) {\n  this.curve = curve;\n  this.type = type;\n  this.precomputed = null;\n}\nBaseCurve.BasePoint = BasePoint;\n\nBasePoint.prototype.eq = function eq(/*other*/) {\n  throw new Error('Not implemented');\n};\n\nBasePoint.prototype.validate = function validate() {\n  return this.curve.validate(this);\n};\n\nBaseCurve.prototype.decodePoint = function decodePoint(bytes, enc) {\n  bytes = utils_1$1.toArray(bytes, enc);\n\n  var len = this.p.byteLength();\n\n  // uncompressed, hybrid-odd, hybrid-even\n  if ((bytes[0] === 0x04 || bytes[0] === 0x06 || bytes[0] === 0x07) &&\n      bytes.length - 1 === 2 * len) {\n    if (bytes[0] === 0x06)\n      assert$1(bytes[bytes.length - 1] % 2 === 0);\n    else if (bytes[0] === 0x07)\n      assert$1(bytes[bytes.length - 1] % 2 === 1);\n\n    var res =  this.point(bytes.slice(1, 1 + len),\n      bytes.slice(1 + len, 1 + 2 * len));\n\n    return res;\n  } else if ((bytes[0] === 0x02 || bytes[0] === 0x03) &&\n              bytes.length - 1 === len) {\n    return this.pointFromX(bytes.slice(1, 1 + len), bytes[0] === 0x03);\n  }\n  throw new Error('Unknown point format');\n};\n\nBasePoint.prototype.encodeCompressed = function encodeCompressed(enc) {\n  return this.encode(enc, true);\n};\n\nBasePoint.prototype._encode = function _encode(compact) {\n  var len = this.curve.p.byteLength();\n  var x = this.getX().toArray('be', len);\n\n  if (compact)\n    return [ this.getY().isEven() ? 0x02 : 0x03 ].concat(x);\n\n  return [ 0x04 ].concat(x, this.getY().toArray('be', len));\n};\n\nBasePoint.prototype.encode = function encode(enc, compact) {\n  return utils_1$1.encode(this._encode(compact), enc);\n};\n\nBasePoint.prototype.precompute = function precompute(power) {\n  if (this.precomputed)\n    return this;\n\n  var precomputed = {\n    doubles: null,\n    naf: null,\n    beta: null,\n  };\n  precomputed.naf = this._getNAFPoints(8);\n  precomputed.doubles = this._getDoubles(4, power);\n  precomputed.beta = this._getBeta();\n  this.precomputed = precomputed;\n\n  return this;\n};\n\nBasePoint.prototype._hasDoubles = function _hasDoubles(k) {\n  if (!this.precomputed)\n    return false;\n\n  var doubles = this.precomputed.doubles;\n  if (!doubles)\n    return false;\n\n  return doubles.points.length >= Math.ceil((k.bitLength() + 1) / doubles.step);\n};\n\nBasePoint.prototype._getDoubles = function _getDoubles(step, power) {\n  if (this.precomputed && this.precomputed.doubles)\n    return this.precomputed.doubles;\n\n  var doubles = [ this ];\n  var acc = this;\n  for (var i = 0; i < power; i += step) {\n    for (var j = 0; j < step; j++)\n      acc = acc.dbl();\n    doubles.push(acc);\n  }\n  return {\n    step: step,\n    points: doubles,\n  };\n};\n\nBasePoint.prototype._getNAFPoints = function _getNAFPoints(wnd) {\n  if (this.precomputed && this.precomputed.naf)\n    return this.precomputed.naf;\n\n  var res = [ this ];\n  var max = (1 << wnd) - 1;\n  var dbl = max === 1 ? null : this.dbl();\n  for (var i = 1; i < max; i++)\n    res[i] = res[i - 1].add(dbl);\n  return {\n    wnd: wnd,\n    points: res,\n  };\n};\n\nBasePoint.prototype._getBeta = function _getBeta() {\n  return null;\n};\n\nBasePoint.prototype.dblp = function dblp(k) {\n  var r = this;\n  for (var i = 0; i < k; i++)\n    r = r.dbl();\n  return r;\n};\n\nvar inherits_browser = createCommonjsModule(function (module) {\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      var TempCtor = function () {};\n      TempCtor.prototype = superCtor.prototype;\n      ctor.prototype = new TempCtor();\n      ctor.prototype.constructor = ctor;\n    }\n  };\n}\n});\n\n'use strict';\n\n\n\n\n\n\nvar assert$2 = utils_1$1.assert;\n\nfunction ShortCurve(conf) {\n  base.call(this, 'short', conf);\n\n  this.a = new BN(conf.a, 16).toRed(this.red);\n  this.b = new BN(conf.b, 16).toRed(this.red);\n  this.tinv = this.two.redInvm();\n\n  this.zeroA = this.a.fromRed().cmpn(0) === 0;\n  this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0;\n\n  // If the curve is endomorphic, precalculate beta and lambda\n  this.endo = this._getEndomorphism(conf);\n  this._endoWnafT1 = new Array(4);\n  this._endoWnafT2 = new Array(4);\n}\ninherits_browser(ShortCurve, base);\nvar short_1 = ShortCurve;\n\nShortCurve.prototype._getEndomorphism = function _getEndomorphism(conf) {\n  // No efficient endomorphism\n  if (!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)\n    return;\n\n  // Compute beta and lambda, that lambda * P = (beta * Px; Py)\n  var beta;\n  var lambda;\n  if (conf.beta) {\n    beta = new BN(conf.beta, 16).toRed(this.red);\n  } else {\n    var betas = this._getEndoRoots(this.p);\n    // Choose the smallest beta\n    beta = betas[0].cmp(betas[1]) < 0 ? betas[0] : betas[1];\n    beta = beta.toRed(this.red);\n  }\n  if (conf.lambda) {\n    lambda = new BN(conf.lambda, 16);\n  } else {\n    // Choose the lambda that is matching selected beta\n    var lambdas = this._getEndoRoots(this.n);\n    if (this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta)) === 0) {\n      lambda = lambdas[0];\n    } else {\n      lambda = lambdas[1];\n      assert$2(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta)) === 0);\n    }\n  }\n\n  // Get basis vectors, used for balanced length-two representation\n  var basis;\n  if (conf.basis) {\n    basis = conf.basis.map(function(vec) {\n      return {\n        a: new BN(vec.a, 16),\n        b: new BN(vec.b, 16),\n      };\n    });\n  } else {\n    basis = this._getEndoBasis(lambda);\n  }\n\n  return {\n    beta: beta,\n    lambda: lambda,\n    basis: basis,\n  };\n};\n\nShortCurve.prototype._getEndoRoots = function _getEndoRoots(num) {\n  // Find roots of for x^2 + x + 1 in F\n  // Root = (-1 +- Sqrt(-3)) / 2\n  //\n  var red = num === this.p ? this.red : BN.mont(num);\n  var tinv = new BN(2).toRed(red).redInvm();\n  var ntinv = tinv.redNeg();\n\n  var s = new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);\n\n  var l1 = ntinv.redAdd(s).fromRed();\n  var l2 = ntinv.redSub(s).fromRed();\n  return [ l1, l2 ];\n};\n\nShortCurve.prototype._getEndoBasis = function _getEndoBasis(lambda) {\n  // aprxSqrt >= sqrt(this.n)\n  var aprxSqrt = this.n.ushrn(Math.floor(this.n.bitLength() / 2));\n\n  // 3.74\n  // Run EGCD, until r(L + 1) < aprxSqrt\n  var u = lambda;\n  var v = this.n.clone();\n  var x1 = new BN(1);\n  var y1 = new BN(0);\n  var x2 = new BN(0);\n  var y2 = new BN(1);\n\n  // NOTE: all vectors are roots of: a + b * lambda = 0 (mod n)\n  var a0;\n  var b0;\n  // First vector\n  var a1;\n  var b1;\n  // Second vector\n  var a2;\n  var b2;\n\n  var prevR;\n  var i = 0;\n  var r;\n  var x;\n  while (u.cmpn(0) !== 0) {\n    var q = v.div(u);\n    r = v.sub(q.mul(u));\n    x = x2.sub(q.mul(x1));\n    var y = y2.sub(q.mul(y1));\n\n    if (!a1 && r.cmp(aprxSqrt) < 0) {\n      a0 = prevR.neg();\n      b0 = x1;\n      a1 = r.neg();\n      b1 = x;\n    } else if (a1 && ++i === 2) {\n      break;\n    }\n    prevR = r;\n\n    v = u;\n    u = r;\n    x2 = x1;\n    x1 = x;\n    y2 = y1;\n    y1 = y;\n  }\n  a2 = r.neg();\n  b2 = x;\n\n  var len1 = a1.sqr().add(b1.sqr());\n  var len2 = a2.sqr().add(b2.sqr());\n  if (len2.cmp(len1) >= 0) {\n    a2 = a0;\n    b2 = b0;\n  }\n\n  // Normalize signs\n  if (a1.negative) {\n    a1 = a1.neg();\n    b1 = b1.neg();\n  }\n  if (a2.negative) {\n    a2 = a2.neg();\n    b2 = b2.neg();\n  }\n\n  return [\n    { a: a1, b: b1 },\n    { a: a2, b: b2 },\n  ];\n};\n\nShortCurve.prototype._endoSplit = function _endoSplit(k) {\n  var basis = this.endo.basis;\n  var v1 = basis[0];\n  var v2 = basis[1];\n\n  var c1 = v2.b.mul(k).divRound(this.n);\n  var c2 = v1.b.neg().mul(k).divRound(this.n);\n\n  var p1 = c1.mul(v1.a);\n  var p2 = c2.mul(v2.a);\n  var q1 = c1.mul(v1.b);\n  var q2 = c2.mul(v2.b);\n\n  // Calculate answer\n  var k1 = k.sub(p1).sub(p2);\n  var k2 = q1.add(q2).neg();\n  return { k1: k1, k2: k2 };\n};\n\nShortCurve.prototype.pointFromX = function pointFromX(x, odd) {\n  x = new BN(x, 16);\n  if (!x.red)\n    x = x.toRed(this.red);\n\n  var y2 = x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);\n  var y = y2.redSqrt();\n  if (y.redSqr().redSub(y2).cmp(this.zero) !== 0)\n    throw new Error('invalid point');\n\n  // XXX Is there any way to tell if the number is odd without converting it\n  // to non-red form?\n  var isOdd = y.fromRed().isOdd();\n  if (odd && !isOdd || !odd && isOdd)\n    y = y.redNeg();\n\n  return this.point(x, y);\n};\n\nShortCurve.prototype.validate = function validate(point) {\n  if (point.inf)\n    return true;\n\n  var x = point.x;\n  var y = point.y;\n\n  var ax = this.a.redMul(x);\n  var rhs = x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);\n  return y.redSqr().redISub(rhs).cmpn(0) === 0;\n};\n\nShortCurve.prototype._endoWnafMulAdd =\n    function _endoWnafMulAdd(points, coeffs, jacobianResult) {\n      var npoints = this._endoWnafT1;\n      var ncoeffs = this._endoWnafT2;\n      for (var i = 0; i < points.length; i++) {\n        var split = this._endoSplit(coeffs[i]);\n        var p = points[i];\n        var beta = p._getBeta();\n\n        if (split.k1.negative) {\n          split.k1.ineg();\n          p = p.neg(true);\n        }\n        if (split.k2.negative) {\n          split.k2.ineg();\n          beta = beta.neg(true);\n        }\n\n        npoints[i * 2] = p;\n        npoints[i * 2 + 1] = beta;\n        ncoeffs[i * 2] = split.k1;\n        ncoeffs[i * 2 + 1] = split.k2;\n      }\n      var res = this._wnafMulAdd(1, npoints, ncoeffs, i * 2, jacobianResult);\n\n      // Clean-up references to points and coefficients\n      for (var j = 0; j < i * 2; j++) {\n        npoints[j] = null;\n        ncoeffs[j] = null;\n      }\n      return res;\n    };\n\nfunction Point(curve, x, y, isRed) {\n  base.BasePoint.call(this, curve, 'affine');\n  if (x === null && y === null) {\n    this.x = null;\n    this.y = null;\n    this.inf = true;\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    // Force redgomery representation when loading from JSON\n    if (isRed) {\n      this.x.forceRed(this.curve.red);\n      this.y.forceRed(this.curve.red);\n    }\n    if (!this.x.red)\n      this.x = this.x.toRed(this.curve.red);\n    if (!this.y.red)\n      this.y = this.y.toRed(this.curve.red);\n    this.inf = false;\n  }\n}\ninherits_browser(Point, base.BasePoint);\n\nShortCurve.prototype.point = function point(x, y, isRed) {\n  return new Point(this, x, y, isRed);\n};\n\nShortCurve.prototype.pointFromJSON = function pointFromJSON(obj, red) {\n  return Point.fromJSON(this, obj, red);\n};\n\nPoint.prototype._getBeta = function _getBeta() {\n  if (!this.curve.endo)\n    return;\n\n  var pre = this.precomputed;\n  if (pre && pre.beta)\n    return pre.beta;\n\n  var beta = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);\n  if (pre) {\n    var curve = this.curve;\n    var endoMul = function(p) {\n      return curve.point(p.x.redMul(curve.endo.beta), p.y);\n    };\n    pre.beta = beta;\n    beta.precomputed = {\n      beta: null,\n      naf: pre.naf && {\n        wnd: pre.naf.wnd,\n        points: pre.naf.points.map(endoMul),\n      },\n      doubles: pre.doubles && {\n        step: pre.doubles.step,\n        points: pre.doubles.points.map(endoMul),\n      },\n    };\n  }\n  return beta;\n};\n\nPoint.prototype.toJSON = function toJSON() {\n  if (!this.precomputed)\n    return [ this.x, this.y ];\n\n  return [ this.x, this.y, this.precomputed && {\n    doubles: this.precomputed.doubles && {\n      step: this.precomputed.doubles.step,\n      points: this.precomputed.doubles.points.slice(1),\n    },\n    naf: this.precomputed.naf && {\n      wnd: this.precomputed.naf.wnd,\n      points: this.precomputed.naf.points.slice(1),\n    },\n  } ];\n};\n\nPoint.fromJSON = function fromJSON(curve, obj, red) {\n  if (typeof obj === 'string')\n    obj = JSON.parse(obj);\n  var res = curve.point(obj[0], obj[1], red);\n  if (!obj[2])\n    return res;\n\n  function obj2point(obj) {\n    return curve.point(obj[0], obj[1], red);\n  }\n\n  var pre = obj[2];\n  res.precomputed = {\n    beta: null,\n    doubles: pre.doubles && {\n      step: pre.doubles.step,\n      points: [ res ].concat(pre.doubles.points.map(obj2point)),\n    },\n    naf: pre.naf && {\n      wnd: pre.naf.wnd,\n      points: [ res ].concat(pre.naf.points.map(obj2point)),\n    },\n  };\n  return res;\n};\n\nPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC Point Infinity>';\n  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +\n      ' y: ' + this.y.fromRed().toString(16, 2) + '>';\n};\n\nPoint.prototype.isInfinity = function isInfinity() {\n  return this.inf;\n};\n\nPoint.prototype.add = function add(p) {\n  // O + P = P\n  if (this.inf)\n    return p;\n\n  // P + O = P\n  if (p.inf)\n    return this;\n\n  // P + P = 2P\n  if (this.eq(p))\n    return this.dbl();\n\n  // P + (-P) = O\n  if (this.neg().eq(p))\n    return this.curve.point(null, null);\n\n  // P + Q = O\n  if (this.x.cmp(p.x) === 0)\n    return this.curve.point(null, null);\n\n  var c = this.y.redSub(p.y);\n  if (c.cmpn(0) !== 0)\n    c = c.redMul(this.x.redSub(p.x).redInvm());\n  var nx = c.redSqr().redISub(this.x).redISub(p.x);\n  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);\n  return this.curve.point(nx, ny);\n};\n\nPoint.prototype.dbl = function dbl() {\n  if (this.inf)\n    return this;\n\n  // 2P = O\n  var ys1 = this.y.redAdd(this.y);\n  if (ys1.cmpn(0) === 0)\n    return this.curve.point(null, null);\n\n  var a = this.curve.a;\n\n  var x2 = this.x.redSqr();\n  var dyinv = ys1.redInvm();\n  var c = x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);\n\n  var nx = c.redSqr().redISub(this.x.redAdd(this.x));\n  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);\n  return this.curve.point(nx, ny);\n};\n\nPoint.prototype.getX = function getX() {\n  return this.x.fromRed();\n};\n\nPoint.prototype.getY = function getY() {\n  return this.y.fromRed();\n};\n\nPoint.prototype.mul = function mul(k) {\n  k = new BN(k, 16);\n  if (this.isInfinity())\n    return this;\n  else if (this._hasDoubles(k))\n    return this.curve._fixedNafMul(this, k);\n  else if (this.curve.endo)\n    return this.curve._endoWnafMulAdd([ this ], [ k ]);\n  else\n    return this.curve._wnafMul(this, k);\n};\n\nPoint.prototype.mulAdd = function mulAdd(k1, p2, k2) {\n  var points = [ this, p2 ];\n  var coeffs = [ k1, k2 ];\n  if (this.curve.endo)\n    return this.curve._endoWnafMulAdd(points, coeffs);\n  else\n    return this.curve._wnafMulAdd(1, points, coeffs, 2);\n};\n\nPoint.prototype.jmulAdd = function jmulAdd(k1, p2, k2) {\n  var points = [ this, p2 ];\n  var coeffs = [ k1, k2 ];\n  if (this.curve.endo)\n    return this.curve._endoWnafMulAdd(points, coeffs, true);\n  else\n    return this.curve._wnafMulAdd(1, points, coeffs, 2, true);\n};\n\nPoint.prototype.eq = function eq(p) {\n  return this === p ||\n         this.inf === p.inf &&\n             (this.inf || this.x.cmp(p.x) === 0 && this.y.cmp(p.y) === 0);\n};\n\nPoint.prototype.neg = function neg(_precompute) {\n  if (this.inf)\n    return this;\n\n  var res = this.curve.point(this.x, this.y.redNeg());\n  if (_precompute && this.precomputed) {\n    var pre = this.precomputed;\n    var negate = function(p) {\n      return p.neg();\n    };\n    res.precomputed = {\n      naf: pre.naf && {\n        wnd: pre.naf.wnd,\n        points: pre.naf.points.map(negate),\n      },\n      doubles: pre.doubles && {\n        step: pre.doubles.step,\n        points: pre.doubles.points.map(negate),\n      },\n    };\n  }\n  return res;\n};\n\nPoint.prototype.toJ = function toJ() {\n  if (this.inf)\n    return this.curve.jpoint(null, null, null);\n\n  var res = this.curve.jpoint(this.x, this.y, this.curve.one);\n  return res;\n};\n\nfunction JPoint(curve, x, y, z) {\n  base.BasePoint.call(this, curve, 'jacobian');\n  if (x === null && y === null && z === null) {\n    this.x = this.curve.one;\n    this.y = this.curve.one;\n    this.z = new BN(0);\n  } else {\n    this.x = new BN(x, 16);\n    this.y = new BN(y, 16);\n    this.z = new BN(z, 16);\n  }\n  if (!this.x.red)\n    this.x = this.x.toRed(this.curve.red);\n  if (!this.y.red)\n    this.y = this.y.toRed(this.curve.red);\n  if (!this.z.red)\n    this.z = this.z.toRed(this.curve.red);\n\n  this.zOne = this.z === this.curve.one;\n}\ninherits_browser(JPoint, base.BasePoint);\n\nShortCurve.prototype.jpoint = function jpoint(x, y, z) {\n  return new JPoint(this, x, y, z);\n};\n\nJPoint.prototype.toP = function toP() {\n  if (this.isInfinity())\n    return this.curve.point(null, null);\n\n  var zinv = this.z.redInvm();\n  var zinv2 = zinv.redSqr();\n  var ax = this.x.redMul(zinv2);\n  var ay = this.y.redMul(zinv2).redMul(zinv);\n\n  return this.curve.point(ax, ay);\n};\n\nJPoint.prototype.neg = function neg() {\n  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);\n};\n\nJPoint.prototype.add = function add(p) {\n  // O + P = P\n  if (this.isInfinity())\n    return p;\n\n  // P + O = P\n  if (p.isInfinity())\n    return this;\n\n  // 12M + 4S + 7A\n  var pz2 = p.z.redSqr();\n  var z2 = this.z.redSqr();\n  var u1 = this.x.redMul(pz2);\n  var u2 = p.x.redMul(z2);\n  var s1 = this.y.redMul(pz2.redMul(p.z));\n  var s2 = p.y.redMul(z2.redMul(this.z));\n\n  var h = u1.redSub(u2);\n  var r = s1.redSub(s2);\n  if (h.cmpn(0) === 0) {\n    if (r.cmpn(0) !== 0)\n      return this.curve.jpoint(null, null, null);\n    else\n      return this.dbl();\n  }\n\n  var h2 = h.redSqr();\n  var h3 = h2.redMul(h);\n  var v = u1.redMul(h2);\n\n  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);\n  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));\n  var nz = this.z.redMul(p.z).redMul(h);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.mixedAdd = function mixedAdd(p) {\n  // O + P = P\n  if (this.isInfinity())\n    return p.toJ();\n\n  // P + O = P\n  if (p.isInfinity())\n    return this;\n\n  // 8M + 3S + 7A\n  var z2 = this.z.redSqr();\n  var u1 = this.x;\n  var u2 = p.x.redMul(z2);\n  var s1 = this.y;\n  var s2 = p.y.redMul(z2).redMul(this.z);\n\n  var h = u1.redSub(u2);\n  var r = s1.redSub(s2);\n  if (h.cmpn(0) === 0) {\n    if (r.cmpn(0) !== 0)\n      return this.curve.jpoint(null, null, null);\n    else\n      return this.dbl();\n  }\n\n  var h2 = h.redSqr();\n  var h3 = h2.redMul(h);\n  var v = u1.redMul(h2);\n\n  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);\n  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));\n  var nz = this.z.redMul(h);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.dblp = function dblp(pow) {\n  if (pow === 0)\n    return this;\n  if (this.isInfinity())\n    return this;\n  if (!pow)\n    return this.dbl();\n\n  var i;\n  if (this.curve.zeroA || this.curve.threeA) {\n    var r = this;\n    for (i = 0; i < pow; i++)\n      r = r.dbl();\n    return r;\n  }\n\n  // 1M + 2S + 1A + N * (4S + 5M + 8A)\n  // N = 1 => 6M + 6S + 9A\n  var a = this.curve.a;\n  var tinv = this.curve.tinv;\n\n  var jx = this.x;\n  var jy = this.y;\n  var jz = this.z;\n  var jz4 = jz.redSqr().redSqr();\n\n  // Reuse results\n  var jyd = jy.redAdd(jy);\n  for (i = 0; i < pow; i++) {\n    var jx2 = jx.redSqr();\n    var jyd2 = jyd.redSqr();\n    var jyd4 = jyd2.redSqr();\n    var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));\n\n    var t1 = jx.redMul(jyd2);\n    var nx = c.redSqr().redISub(t1.redAdd(t1));\n    var t2 = t1.redISub(nx);\n    var dny = c.redMul(t2);\n    dny = dny.redIAdd(dny).redISub(jyd4);\n    var nz = jyd.redMul(jz);\n    if (i + 1 < pow)\n      jz4 = jz4.redMul(jyd4);\n\n    jx = nx;\n    jz = nz;\n    jyd = dny;\n  }\n\n  return this.curve.jpoint(jx, jyd.redMul(tinv), jz);\n};\n\nJPoint.prototype.dbl = function dbl() {\n  if (this.isInfinity())\n    return this;\n\n  if (this.curve.zeroA)\n    return this._zeroDbl();\n  else if (this.curve.threeA)\n    return this._threeDbl();\n  else\n    return this._dbl();\n};\n\nJPoint.prototype._zeroDbl = function _zeroDbl() {\n  var nx;\n  var ny;\n  var nz;\n  // Z = 1\n  if (this.zOne) {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n    //     #doubling-mdbl-2007-bl\n    // 1M + 5S + 14A\n\n    // XX = X1^2\n    var xx = this.x.redSqr();\n    // YY = Y1^2\n    var yy = this.y.redSqr();\n    // YYYY = YY^2\n    var yyyy = yy.redSqr();\n    // S = 2 * ((X1 + YY)^2 - XX - YYYY)\n    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n    s = s.redIAdd(s);\n    // M = 3 * XX + a; a = 0\n    var m = xx.redAdd(xx).redIAdd(xx);\n    // T = M ^ 2 - 2*S\n    var t = m.redSqr().redISub(s).redISub(s);\n\n    // 8 * YYYY\n    var yyyy8 = yyyy.redIAdd(yyyy);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n\n    // X3 = T\n    nx = t;\n    // Y3 = M * (S - T) - 8 * YYYY\n    ny = m.redMul(s.redISub(t)).redISub(yyyy8);\n    // Z3 = 2*Y1\n    nz = this.y.redAdd(this.y);\n  } else {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n    //     #doubling-dbl-2009-l\n    // 2M + 5S + 13A\n\n    // A = X1^2\n    var a = this.x.redSqr();\n    // B = Y1^2\n    var b = this.y.redSqr();\n    // C = B^2\n    var c = b.redSqr();\n    // D = 2 * ((X1 + B)^2 - A - C)\n    var d = this.x.redAdd(b).redSqr().redISub(a).redISub(c);\n    d = d.redIAdd(d);\n    // E = 3 * A\n    var e = a.redAdd(a).redIAdd(a);\n    // F = E^2\n    var f = e.redSqr();\n\n    // 8 * C\n    var c8 = c.redIAdd(c);\n    c8 = c8.redIAdd(c8);\n    c8 = c8.redIAdd(c8);\n\n    // X3 = F - 2 * D\n    nx = f.redISub(d).redISub(d);\n    // Y3 = E * (D - X3) - 8 * C\n    ny = e.redMul(d.redISub(nx)).redISub(c8);\n    // Z3 = 2 * Y1 * Z1\n    nz = this.y.redMul(this.z);\n    nz = nz.redIAdd(nz);\n  }\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype._threeDbl = function _threeDbl() {\n  var nx;\n  var ny;\n  var nz;\n  // Z = 1\n  if (this.zOne) {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html\n    //     #doubling-mdbl-2007-bl\n    // 1M + 5S + 15A\n\n    // XX = X1^2\n    var xx = this.x.redSqr();\n    // YY = Y1^2\n    var yy = this.y.redSqr();\n    // YYYY = YY^2\n    var yyyy = yy.redSqr();\n    // S = 2 * ((X1 + YY)^2 - XX - YYYY)\n    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n    s = s.redIAdd(s);\n    // M = 3 * XX + a\n    var m = xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);\n    // T = M^2 - 2 * S\n    var t = m.redSqr().redISub(s).redISub(s);\n    // X3 = T\n    nx = t;\n    // Y3 = M * (S - T) - 8 * YYYY\n    var yyyy8 = yyyy.redIAdd(yyyy);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    yyyy8 = yyyy8.redIAdd(yyyy8);\n    ny = m.redMul(s.redISub(t)).redISub(yyyy8);\n    // Z3 = 2 * Y1\n    nz = this.y.redAdd(this.y);\n  } else {\n    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html#doubling-dbl-2001-b\n    // 3M + 5S\n\n    // delta = Z1^2\n    var delta = this.z.redSqr();\n    // gamma = Y1^2\n    var gamma = this.y.redSqr();\n    // beta = X1 * gamma\n    var beta = this.x.redMul(gamma);\n    // alpha = 3 * (X1 - delta) * (X1 + delta)\n    var alpha = this.x.redSub(delta).redMul(this.x.redAdd(delta));\n    alpha = alpha.redAdd(alpha).redIAdd(alpha);\n    // X3 = alpha^2 - 8 * beta\n    var beta4 = beta.redIAdd(beta);\n    beta4 = beta4.redIAdd(beta4);\n    var beta8 = beta4.redAdd(beta4);\n    nx = alpha.redSqr().redISub(beta8);\n    // Z3 = (Y1 + Z1)^2 - gamma - delta\n    nz = this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);\n    // Y3 = alpha * (4 * beta - X3) - 8 * gamma^2\n    var ggamma8 = gamma.redSqr();\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ggamma8 = ggamma8.redIAdd(ggamma8);\n    ny = alpha.redMul(beta4.redISub(nx)).redISub(ggamma8);\n  }\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype._dbl = function _dbl() {\n  var a = this.curve.a;\n\n  // 4M + 6S + 10A\n  var jx = this.x;\n  var jy = this.y;\n  var jz = this.z;\n  var jz4 = jz.redSqr().redSqr();\n\n  var jx2 = jx.redSqr();\n  var jy2 = jy.redSqr();\n\n  var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));\n\n  var jxd4 = jx.redAdd(jx);\n  jxd4 = jxd4.redIAdd(jxd4);\n  var t1 = jxd4.redMul(jy2);\n  var nx = c.redSqr().redISub(t1.redAdd(t1));\n  var t2 = t1.redISub(nx);\n\n  var jyd8 = jy2.redSqr();\n  jyd8 = jyd8.redIAdd(jyd8);\n  jyd8 = jyd8.redIAdd(jyd8);\n  jyd8 = jyd8.redIAdd(jyd8);\n  var ny = c.redMul(t2).redISub(jyd8);\n  var nz = jy.redAdd(jy).redMul(jz);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.trpl = function trpl() {\n  if (!this.curve.zeroA)\n    return this.dbl().add(this);\n\n  // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html#tripling-tpl-2007-bl\n  // 5M + 10S + ...\n\n  // XX = X1^2\n  var xx = this.x.redSqr();\n  // YY = Y1^2\n  var yy = this.y.redSqr();\n  // ZZ = Z1^2\n  var zz = this.z.redSqr();\n  // YYYY = YY^2\n  var yyyy = yy.redSqr();\n  // M = 3 * XX + a * ZZ2; a = 0\n  var m = xx.redAdd(xx).redIAdd(xx);\n  // MM = M^2\n  var mm = m.redSqr();\n  // E = 6 * ((X1 + YY)^2 - XX - YYYY) - MM\n  var e = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);\n  e = e.redIAdd(e);\n  e = e.redAdd(e).redIAdd(e);\n  e = e.redISub(mm);\n  // EE = E^2\n  var ee = e.redSqr();\n  // T = 16*YYYY\n  var t = yyyy.redIAdd(yyyy);\n  t = t.redIAdd(t);\n  t = t.redIAdd(t);\n  t = t.redIAdd(t);\n  // U = (M + E)^2 - MM - EE - T\n  var u = m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);\n  // X3 = 4 * (X1 * EE - 4 * YY * U)\n  var yyu4 = yy.redMul(u);\n  yyu4 = yyu4.redIAdd(yyu4);\n  yyu4 = yyu4.redIAdd(yyu4);\n  var nx = this.x.redMul(ee).redISub(yyu4);\n  nx = nx.redIAdd(nx);\n  nx = nx.redIAdd(nx);\n  // Y3 = 8 * Y1 * (U * (T - U) - E * EE)\n  var ny = this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));\n  ny = ny.redIAdd(ny);\n  ny = ny.redIAdd(ny);\n  ny = ny.redIAdd(ny);\n  // Z3 = (Z1 + E)^2 - ZZ - EE\n  var nz = this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);\n\n  return this.curve.jpoint(nx, ny, nz);\n};\n\nJPoint.prototype.mul = function mul(k, kbase) {\n  k = new BN(k, kbase);\n\n  return this.curve._wnafMul(this, k);\n};\n\nJPoint.prototype.eq = function eq(p) {\n  if (p.type === 'affine')\n    return this.eq(p.toJ());\n\n  if (this === p)\n    return true;\n\n  // x1 * z2^2 == x2 * z1^2\n  var z2 = this.z.redSqr();\n  var pz2 = p.z.redSqr();\n  if (this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0) !== 0)\n    return false;\n\n  // y1 * z2^3 == y2 * z1^3\n  var z3 = z2.redMul(this.z);\n  var pz3 = pz2.redMul(p.z);\n  return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0) === 0;\n};\n\nJPoint.prototype.eqXToP = function eqXToP(x) {\n  var zs = this.z.redSqr();\n  var rx = x.toRed(this.curve.red).redMul(zs);\n  if (this.x.cmp(rx) === 0)\n    return true;\n\n  var xc = x.clone();\n  var t = this.curve.redN.redMul(zs);\n  for (;;) {\n    xc.iadd(this.curve.n);\n    if (xc.cmp(this.curve.p) >= 0)\n      return false;\n\n    rx.redIAdd(t);\n    if (this.x.cmp(rx) === 0)\n      return true;\n  }\n};\n\nJPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity())\n    return '<EC JPoint Infinity>';\n  return '<EC JPoint x: ' + this.x.toString(16, 2) +\n      ' y: ' + this.y.toString(16, 2) +\n      ' z: ' + this.z.toString(16, 2) + '>';\n};\n\nJPoint.prototype.isInfinity = function isInfinity() {\n  // XXX This code assumes that zero is always zero in red\n  return this.z.cmpn(0) === 0;\n};\n\nvar curve_1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar curve = exports;\n\ncurve.base = base;\ncurve.short = short_1;\ncurve.mont = /*RicMoo:ethers:require(./mont)*/(null);\ncurve.edwards = /*RicMoo:ethers:require(./edwards)*/(null);\n});\n\nvar curves_1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar curves = exports;\n\n\n\n\n\nvar assert = utils_1$1.assert;\n\nfunction PresetCurve(options) {\n  if (options.type === 'short')\n    this.curve = new curve_1.short(options);\n  else if (options.type === 'edwards')\n    this.curve = new curve_1.edwards(options);\n  else\n    this.curve = new curve_1.mont(options);\n  this.g = this.curve.g;\n  this.n = this.curve.n;\n  this.hash = options.hash;\n\n  assert(this.g.validate(), 'Invalid curve');\n  assert(this.g.mul(this.n).isInfinity(), 'Invalid curve, G*N != O');\n}\ncurves.PresetCurve = PresetCurve;\n\nfunction defineCurve(name, options) {\n  Object.defineProperty(curves, name, {\n    configurable: true,\n    enumerable: true,\n    get: function() {\n      var curve = new PresetCurve(options);\n      Object.defineProperty(curves, name, {\n        configurable: true,\n        enumerable: true,\n        value: curve,\n      });\n      return curve;\n    },\n  });\n}\n\ndefineCurve('p192', {\n  type: 'short',\n  prime: 'p192',\n  p: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff',\n  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc',\n  b: '64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1',\n  n: 'ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012',\n    '07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811',\n  ],\n});\n\ndefineCurve('p224', {\n  type: 'short',\n  prime: 'p224',\n  p: 'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001',\n  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe',\n  b: 'b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4',\n  n: 'ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    'b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21',\n    'bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34',\n  ],\n});\n\ndefineCurve('p256', {\n  type: 'short',\n  prime: null,\n  p: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff',\n  a: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc',\n  b: '5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b',\n  n: 'ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296',\n    '4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5',\n  ],\n});\n\ndefineCurve('p384', {\n  type: 'short',\n  prime: null,\n  p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'fffffffe ffffffff 00000000 00000000 ffffffff',\n  a: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'fffffffe ffffffff 00000000 00000000 fffffffc',\n  b: 'b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f ' +\n     '5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef',\n  n: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 ' +\n     'f4372ddf 581a0db2 48b0a77a ecec196a ccc52973',\n  hash: hash.sha384,\n  gRed: false,\n  g: [\n    'aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 ' +\n    '5502f25d bf55296c 3a545e38 72760ab7',\n    '3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 ' +\n    '0a60b1ce 1d7e819d 7a431d7c 90ea0e5f',\n  ],\n});\n\ndefineCurve('p521', {\n  type: 'short',\n  prime: null,\n  p: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff ffffffff',\n  a: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff ffffffff ffffffff fffffffc',\n  b: '00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b ' +\n     '99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd ' +\n     '3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00',\n  n: '000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ' +\n     'ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 ' +\n     'f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409',\n  hash: hash.sha512,\n  gRed: false,\n  g: [\n    '000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 ' +\n    '053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 ' +\n    'a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66',\n    '00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 ' +\n    '579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 ' +\n    '3fad0761 353c7086 a272c240 88be9476 9fd16650',\n  ],\n});\n\ndefineCurve('curve25519', {\n  type: 'mont',\n  prime: 'p25519',\n  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',\n  a: '76d06',\n  b: '1',\n  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '9',\n  ],\n});\n\ndefineCurve('ed25519', {\n  type: 'edwards',\n  prime: 'p25519',\n  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',\n  a: '-1',\n  c: '1',\n  // -121665 * (121666^(-1)) (mod P)\n  d: '52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3',\n  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',\n  hash: hash.sha256,\n  gRed: false,\n  g: [\n    '216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a',\n\n    // 4/5\n    '6666666666666666666666666666666666666666666666666666666666666658',\n  ],\n});\n\nvar pre;\ntry {\n  pre = /*RicMoo:ethers:require(./precomputed/secp256k1)*/(null).crash();\n} catch (e) {\n  pre = undefined;\n}\n\ndefineCurve('secp256k1', {\n  type: 'short',\n  prime: 'k256',\n  p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',\n  a: '0',\n  b: '7',\n  n: 'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',\n  h: '1',\n  hash: hash.sha256,\n\n  // Precomputed endomorphism\n  beta: '7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',\n  lambda: '5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',\n  basis: [\n    {\n      a: '3086d221a7d46bcde86c90e49284eb15',\n      b: '-e4437ed6010e88286f547fa90abfe4c3',\n    },\n    {\n      a: '114ca50f7a8e2f3f657c1108d9d44cfd8',\n      b: '3086d221a7d46bcde86c90e49284eb15',\n    },\n  ],\n\n  gRed: false,\n  g: [\n    '79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798',\n    '483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',\n    pre,\n  ],\n});\n});\n\n'use strict';\n\n\n\n\n\nfunction HmacDRBG(options) {\n  if (!(this instanceof HmacDRBG))\n    return new HmacDRBG(options);\n  this.hash = options.hash;\n  this.predResist = !!options.predResist;\n\n  this.outLen = this.hash.outSize;\n  this.minEntropy = options.minEntropy || this.hash.hmacStrength;\n\n  this._reseed = null;\n  this.reseedInterval = null;\n  this.K = null;\n  this.V = null;\n\n  var entropy = utils_1.toArray(options.entropy, options.entropyEnc || 'hex');\n  var nonce = utils_1.toArray(options.nonce, options.nonceEnc || 'hex');\n  var pers = utils_1.toArray(options.pers, options.persEnc || 'hex');\n  minimalisticAssert(entropy.length >= (this.minEntropy / 8),\n         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');\n  this._init(entropy, nonce, pers);\n}\nvar hmacDrbg = HmacDRBG;\n\nHmacDRBG.prototype._init = function init(entropy, nonce, pers) {\n  var seed = entropy.concat(nonce).concat(pers);\n\n  this.K = new Array(this.outLen / 8);\n  this.V = new Array(this.outLen / 8);\n  for (var i = 0; i < this.V.length; i++) {\n    this.K[i] = 0x00;\n    this.V[i] = 0x01;\n  }\n\n  this._update(seed);\n  this._reseed = 1;\n  this.reseedInterval = 0x1000000000000;  // 2^48\n};\n\nHmacDRBG.prototype._hmac = function hmac() {\n  return new hash.hmac(this.hash, this.K);\n};\n\nHmacDRBG.prototype._update = function update(seed) {\n  var kmac = this._hmac()\n                 .update(this.V)\n                 .update([ 0x00 ]);\n  if (seed)\n    kmac = kmac.update(seed);\n  this.K = kmac.digest();\n  this.V = this._hmac().update(this.V).digest();\n  if (!seed)\n    return;\n\n  this.K = this._hmac()\n               .update(this.V)\n               .update([ 0x01 ])\n               .update(seed)\n               .digest();\n  this.V = this._hmac().update(this.V).digest();\n};\n\nHmacDRBG.prototype.reseed = function reseed(entropy, entropyEnc, add, addEnc) {\n  // Optional entropy enc\n  if (typeof entropyEnc !== 'string') {\n    addEnc = add;\n    add = entropyEnc;\n    entropyEnc = null;\n  }\n\n  entropy = utils_1.toArray(entropy, entropyEnc);\n  add = utils_1.toArray(add, addEnc);\n\n  minimalisticAssert(entropy.length >= (this.minEntropy / 8),\n         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');\n\n  this._update(entropy.concat(add || []));\n  this._reseed = 1;\n};\n\nHmacDRBG.prototype.generate = function generate(len, enc, add, addEnc) {\n  if (this._reseed > this.reseedInterval)\n    throw new Error('Reseed is required');\n\n  // Optional encoding\n  if (typeof enc !== 'string') {\n    addEnc = add;\n    add = enc;\n    enc = null;\n  }\n\n  // Optional additional data\n  if (add) {\n    add = utils_1.toArray(add, addEnc || 'hex');\n    this._update(add);\n  }\n\n  var temp = [];\n  while (temp.length < len) {\n    this.V = this._hmac().update(this.V).digest();\n    temp = temp.concat(this.V);\n  }\n\n  var res = temp.slice(0, len);\n  this._update(add);\n  this._reseed++;\n  return utils_1.encode(res, enc);\n};\n\n'use strict';\n\n\n\nvar assert$3 = utils_1$1.assert;\n\nfunction KeyPair(ec, options) {\n  this.ec = ec;\n  this.priv = null;\n  this.pub = null;\n\n  // KeyPair(ec, { priv: ..., pub: ... })\n  if (options.priv)\n    this._importPrivate(options.priv, options.privEnc);\n  if (options.pub)\n    this._importPublic(options.pub, options.pubEnc);\n}\nvar key = KeyPair;\n\nKeyPair.fromPublic = function fromPublic(ec, pub, enc) {\n  if (pub instanceof KeyPair)\n    return pub;\n\n  return new KeyPair(ec, {\n    pub: pub,\n    pubEnc: enc,\n  });\n};\n\nKeyPair.fromPrivate = function fromPrivate(ec, priv, enc) {\n  if (priv instanceof KeyPair)\n    return priv;\n\n  return new KeyPair(ec, {\n    priv: priv,\n    privEnc: enc,\n  });\n};\n\nKeyPair.prototype.validate = function validate() {\n  var pub = this.getPublic();\n\n  if (pub.isInfinity())\n    return { result: false, reason: 'Invalid public key' };\n  if (!pub.validate())\n    return { result: false, reason: 'Public key is not a point' };\n  if (!pub.mul(this.ec.curve.n).isInfinity())\n    return { result: false, reason: 'Public key * N != O' };\n\n  return { result: true, reason: null };\n};\n\nKeyPair.prototype.getPublic = function getPublic(compact, enc) {\n  // compact is optional argument\n  if (typeof compact === 'string') {\n    enc = compact;\n    compact = null;\n  }\n\n  if (!this.pub)\n    this.pub = this.ec.g.mul(this.priv);\n\n  if (!enc)\n    return this.pub;\n\n  return this.pub.encode(enc, compact);\n};\n\nKeyPair.prototype.getPrivate = function getPrivate(enc) {\n  if (enc === 'hex')\n    return this.priv.toString(16, 2);\n  else\n    return this.priv;\n};\n\nKeyPair.prototype._importPrivate = function _importPrivate(key, enc) {\n  this.priv = new BN(key, enc || 16);\n\n  // Ensure that the priv won't be bigger than n, otherwise we may fail\n  // in fixed multiplication method\n  this.priv = this.priv.umod(this.ec.curve.n);\n};\n\nKeyPair.prototype._importPublic = function _importPublic(key, enc) {\n  if (key.x || key.y) {\n    // Montgomery points only have an `x` coordinate.\n    // Weierstrass/Edwards points on the other hand have both `x` and\n    // `y` coordinates.\n    if (this.ec.curve.type === 'mont') {\n      assert$3(key.x, 'Need x coordinate');\n    } else if (this.ec.curve.type === 'short' ||\n               this.ec.curve.type === 'edwards') {\n      assert$3(key.x && key.y, 'Need both x and y coordinate');\n    }\n    this.pub = this.ec.curve.point(key.x, key.y);\n    return;\n  }\n  this.pub = this.ec.curve.decodePoint(key, enc);\n};\n\n// ECDH\nKeyPair.prototype.derive = function derive(pub) {\n  if(!pub.validate()) {\n    assert$3(pub.validate(), 'public point not validated');\n  }\n  return pub.mul(this.priv).getX();\n};\n\n// ECDSA\nKeyPair.prototype.sign = function sign(msg, enc, options) {\n  return this.ec.sign(msg, this, enc, options);\n};\n\nKeyPair.prototype.verify = function verify(msg, signature) {\n  return this.ec.verify(msg, signature, this);\n};\n\nKeyPair.prototype.inspect = function inspect() {\n  return '<Key priv: ' + (this.priv && this.priv.toString(16, 2)) +\n         ' pub: ' + (this.pub && this.pub.inspect()) + ' >';\n};\n\n'use strict';\n\n\n\n\nvar assert$4 = utils_1$1.assert;\n\nfunction Signature(options, enc) {\n  if (options instanceof Signature)\n    return options;\n\n  if (this._importDER(options, enc))\n    return;\n\n  assert$4(options.r && options.s, 'Signature without r or s');\n  this.r = new BN(options.r, 16);\n  this.s = new BN(options.s, 16);\n  if (options.recoveryParam === undefined)\n    this.recoveryParam = null;\n  else\n    this.recoveryParam = options.recoveryParam;\n}\nvar signature = Signature;\n\nfunction Position() {\n  this.place = 0;\n}\n\nfunction getLength(buf, p) {\n  var initial = buf[p.place++];\n  if (!(initial & 0x80)) {\n    return initial;\n  }\n  var octetLen = initial & 0xf;\n\n  // Indefinite length or overflow\n  if (octetLen === 0 || octetLen > 4) {\n    return false;\n  }\n\n  var val = 0;\n  for (var i = 0, off = p.place; i < octetLen; i++, off++) {\n    val <<= 8;\n    val |= buf[off];\n    val >>>= 0;\n  }\n\n  // Leading zeroes\n  if (val <= 0x7f) {\n    return false;\n  }\n\n  p.place = off;\n  return val;\n}\n\nfunction rmPadding(buf) {\n  var i = 0;\n  var len = buf.length - 1;\n  while (!buf[i] && !(buf[i + 1] & 0x80) && i < len) {\n    i++;\n  }\n  if (i === 0) {\n    return buf;\n  }\n  return buf.slice(i);\n}\n\nSignature.prototype._importDER = function _importDER(data, enc) {\n  data = utils_1$1.toArray(data, enc);\n  var p = new Position();\n  if (data[p.place++] !== 0x30) {\n    return false;\n  }\n  var len = getLength(data, p);\n  if (len === false) {\n    return false;\n  }\n  if ((len + p.place) !== data.length) {\n    return false;\n  }\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n  var rlen = getLength(data, p);\n  if (rlen === false) {\n    return false;\n  }\n  var r = data.slice(p.place, rlen + p.place);\n  p.place += rlen;\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n  var slen = getLength(data, p);\n  if (slen === false) {\n    return false;\n  }\n  if (data.length !== slen + p.place) {\n    return false;\n  }\n  var s = data.slice(p.place, slen + p.place);\n  if (r[0] === 0) {\n    if (r[1] & 0x80) {\n      r = r.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n  if (s[0] === 0) {\n    if (s[1] & 0x80) {\n      s = s.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n\n  this.r = new BN(r);\n  this.s = new BN(s);\n  this.recoveryParam = null;\n\n  return true;\n};\n\nfunction constructLength(arr, len) {\n  if (len < 0x80) {\n    arr.push(len);\n    return;\n  }\n  var octets = 1 + (Math.log(len) / Math.LN2 >>> 3);\n  arr.push(octets | 0x80);\n  while (--octets) {\n    arr.push((len >>> (octets << 3)) & 0xff);\n  }\n  arr.push(len);\n}\n\nSignature.prototype.toDER = function toDER(enc) {\n  var r = this.r.toArray();\n  var s = this.s.toArray();\n\n  // Pad values\n  if (r[0] & 0x80)\n    r = [ 0 ].concat(r);\n  // Pad values\n  if (s[0] & 0x80)\n    s = [ 0 ].concat(s);\n\n  r = rmPadding(r);\n  s = rmPadding(s);\n\n  while (!s[0] && !(s[1] & 0x80)) {\n    s = s.slice(1);\n  }\n  var arr = [ 0x02 ];\n  constructLength(arr, r.length);\n  arr = arr.concat(r);\n  arr.push(0x02);\n  constructLength(arr, s.length);\n  var backHalf = arr.concat(s);\n  var res = [ 0x30 ];\n  constructLength(res, backHalf.length);\n  res = res.concat(backHalf);\n  return utils_1$1.encode(res, enc);\n};\n\n'use strict';\n\n\n\n\n\nvar rand = /*RicMoo:ethers:require(brorand)*/(function() { throw new Error('unsupported'); });\nvar assert$5 = utils_1$1.assert;\n\n\n\n\nfunction EC(options) {\n  if (!(this instanceof EC))\n    return new EC(options);\n\n  // Shortcut `elliptic.ec(curve-name)`\n  if (typeof options === 'string') {\n    assert$5(Object.prototype.hasOwnProperty.call(curves_1, options),\n      'Unknown curve ' + options);\n\n    options = curves_1[options];\n  }\n\n  // Shortcut for `elliptic.ec(elliptic.curves.curveName)`\n  if (options instanceof curves_1.PresetCurve)\n    options = { curve: options };\n\n  this.curve = options.curve.curve;\n  this.n = this.curve.n;\n  this.nh = this.n.ushrn(1);\n  this.g = this.curve.g;\n\n  // Point on curve\n  this.g = options.curve.g;\n  this.g.precompute(options.curve.n.bitLength() + 1);\n\n  // Hash for function for DRBG\n  this.hash = options.hash || options.curve.hash;\n}\nvar ec = EC;\n\nEC.prototype.keyPair = function keyPair(options) {\n  return new key(this, options);\n};\n\nEC.prototype.keyFromPrivate = function keyFromPrivate(priv, enc) {\n  return key.fromPrivate(this, priv, enc);\n};\n\nEC.prototype.keyFromPublic = function keyFromPublic(pub, enc) {\n  return key.fromPublic(this, pub, enc);\n};\n\nEC.prototype.genKeyPair = function genKeyPair(options) {\n  if (!options)\n    options = {};\n\n  // Instantiate Hmac_DRBG\n  var drbg = new hmacDrbg({\n    hash: this.hash,\n    pers: options.pers,\n    persEnc: options.persEnc || 'utf8',\n    entropy: options.entropy || rand(this.hash.hmacStrength),\n    entropyEnc: options.entropy && options.entropyEnc || 'utf8',\n    nonce: this.n.toArray(),\n  });\n\n  var bytes = this.n.byteLength();\n  var ns2 = this.n.sub(new BN(2));\n  for (;;) {\n    var priv = new BN(drbg.generate(bytes));\n    if (priv.cmp(ns2) > 0)\n      continue;\n\n    priv.iaddn(1);\n    return this.keyFromPrivate(priv);\n  }\n};\n\nEC.prototype._truncateToN = function _truncateToN(msg, truncOnly) {\n  var delta = msg.byteLength() * 8 - this.n.bitLength();\n  if (delta > 0)\n    msg = msg.ushrn(delta);\n  if (!truncOnly && msg.cmp(this.n) >= 0)\n    return msg.sub(this.n);\n  else\n    return msg;\n};\n\nEC.prototype.sign = function sign(msg, key, enc, options) {\n  if (typeof enc === 'object') {\n    options = enc;\n    enc = null;\n  }\n  if (!options)\n    options = {};\n\n  key = this.keyFromPrivate(key, enc);\n  msg = this._truncateToN(new BN(msg, 16));\n\n  // Zero-extend key to provide enough entropy\n  var bytes = this.n.byteLength();\n  var bkey = key.getPrivate().toArray('be', bytes);\n\n  // Zero-extend nonce to have the same byte size as N\n  var nonce = msg.toArray('be', bytes);\n\n  // Instantiate Hmac_DRBG\n  var drbg = new hmacDrbg({\n    hash: this.hash,\n    entropy: bkey,\n    nonce: nonce,\n    pers: options.pers,\n    persEnc: options.persEnc || 'utf8',\n  });\n\n  // Number of bytes to generate\n  var ns1 = this.n.sub(new BN(1));\n\n  for (var iter = 0; ; iter++) {\n    var k = options.k ?\n      options.k(iter) :\n      new BN(drbg.generate(this.n.byteLength()));\n    k = this._truncateToN(k, true);\n    if (k.cmpn(1) <= 0 || k.cmp(ns1) >= 0)\n      continue;\n\n    var kp = this.g.mul(k);\n    if (kp.isInfinity())\n      continue;\n\n    var kpX = kp.getX();\n    var r = kpX.umod(this.n);\n    if (r.cmpn(0) === 0)\n      continue;\n\n    var s = k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));\n    s = s.umod(this.n);\n    if (s.cmpn(0) === 0)\n      continue;\n\n    var recoveryParam = (kp.getY().isOdd() ? 1 : 0) |\n                        (kpX.cmp(r) !== 0 ? 2 : 0);\n\n    // Use complement of `s`, if it is > `n / 2`\n    if (options.canonical && s.cmp(this.nh) > 0) {\n      s = this.n.sub(s);\n      recoveryParam ^= 1;\n    }\n\n    return new signature({ r: r, s: s, recoveryParam: recoveryParam });\n  }\n};\n\nEC.prototype.verify = function verify(msg, signature$1, key, enc) {\n  msg = this._truncateToN(new BN(msg, 16));\n  key = this.keyFromPublic(key, enc);\n  signature$1 = new signature(signature$1, 'hex');\n\n  // Perform primitive values validation\n  var r = signature$1.r;\n  var s = signature$1.s;\n  if (r.cmpn(1) < 0 || r.cmp(this.n) >= 0)\n    return false;\n  if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0)\n    return false;\n\n  // Validate signature\n  var sinv = s.invm(this.n);\n  var u1 = sinv.mul(msg).umod(this.n);\n  var u2 = sinv.mul(r).umod(this.n);\n  var p;\n\n  if (!this.curve._maxwellTrick) {\n    p = this.g.mulAdd(u1, key.getPublic(), u2);\n    if (p.isInfinity())\n      return false;\n\n    return p.getX().umod(this.n).cmp(r) === 0;\n  }\n\n  // NOTE: Greg Maxwell's trick, inspired by:\n  // https://git.io/vad3K\n\n  p = this.g.jmulAdd(u1, key.getPublic(), u2);\n  if (p.isInfinity())\n    return false;\n\n  // Compare `p.x` of Jacobian point with `r`,\n  // this will do `p.x == r * p.z^2` instead of multiplying `p.x` by the\n  // inverse of `p.z^2`\n  return p.eqXToP(r);\n};\n\nEC.prototype.recoverPubKey = function(msg, signature$1, j, enc) {\n  assert$5((3 & j) === j, 'The recovery param is more than two bits');\n  signature$1 = new signature(signature$1, enc);\n\n  var n = this.n;\n  var e = new BN(msg);\n  var r = signature$1.r;\n  var s = signature$1.s;\n\n  // A set LSB signifies that the y-coordinate is odd\n  var isYOdd = j & 1;\n  var isSecondKey = j >> 1;\n  if (r.cmp(this.curve.p.umod(this.curve.n)) >= 0 && isSecondKey)\n    throw new Error('Unable to find sencond key candinate');\n\n  // 1.1. Let x = r + jn.\n  if (isSecondKey)\n    r = this.curve.pointFromX(r.add(this.curve.n), isYOdd);\n  else\n    r = this.curve.pointFromX(r, isYOdd);\n\n  var rInv = signature$1.r.invm(n);\n  var s1 = n.sub(e).mul(rInv).umod(n);\n  var s2 = s.mul(rInv).umod(n);\n\n  // 1.6.1 Compute Q = r^-1 (sR -  eG)\n  //               Q = r^-1 (sR + -eG)\n  return this.g.mulAdd(s1, r, s2);\n};\n\nEC.prototype.getKeyRecoveryParam = function(e, signature$1, Q, enc) {\n  signature$1 = new signature(signature$1, enc);\n  if (signature$1.recoveryParam !== null)\n    return signature$1.recoveryParam;\n\n  for (var i = 0; i < 4; i++) {\n    var Qprime;\n    try {\n      Qprime = this.recoverPubKey(e, signature$1, i);\n    } catch (e) {\n      continue;\n    }\n\n    if (Qprime.eq(Q))\n      return i;\n  }\n  throw new Error('Unable to find valid recovery factor');\n};\n\nvar elliptic_1 = createCommonjsModule(function (module, exports) {\n'use strict';\n\nvar elliptic = exports;\n\nelliptic.version = /*RicMoo:ethers*/{ version: \"6.5.4\" }.version;\nelliptic.utils = utils_1$1;\nelliptic.rand = /*RicMoo:ethers:require(brorand)*/(function() { throw new Error('unsupported'); });\nelliptic.curve = curve_1;\nelliptic.curves = curves_1;\n\n// Protocols\nelliptic.ec = ec;\nelliptic.eddsa = /*RicMoo:ethers:require(./elliptic/eddsa)*/(null);\n});\n\nvar EC$1 = elliptic_1.ec;\n\nexport { EC$1 as EC };\n//# sourceMappingURL=elliptic.js.map\n","\"use strict\";\nimport { EC } from \"./elliptic\";\nimport { arrayify, hexDataLength, hexlify, hexZeroPad, splitSignature } from \"@ethersproject/bytes\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nlet _curve = null;\nfunction getCurve() {\n    if (!_curve) {\n        _curve = new EC(\"secp256k1\");\n    }\n    return _curve;\n}\nexport class SigningKey {\n    constructor(privateKey) {\n        defineReadOnly(this, \"curve\", \"secp256k1\");\n        defineReadOnly(this, \"privateKey\", hexlify(privateKey));\n        if (hexDataLength(this.privateKey) !== 32) {\n            logger.throwArgumentError(\"invalid private key\", \"privateKey\", \"[[ REDACTED ]]\");\n        }\n        const keyPair = getCurve().keyFromPrivate(arrayify(this.privateKey));\n        defineReadOnly(this, \"publicKey\", \"0x\" + keyPair.getPublic(false, \"hex\"));\n        defineReadOnly(this, \"compressedPublicKey\", \"0x\" + keyPair.getPublic(true, \"hex\"));\n        defineReadOnly(this, \"_isSigningKey\", true);\n    }\n    _addPoint(other) {\n        const p0 = getCurve().keyFromPublic(arrayify(this.publicKey));\n        const p1 = getCurve().keyFromPublic(arrayify(other));\n        return \"0x\" + p0.pub.add(p1.pub).encodeCompressed(\"hex\");\n    }\n    signDigest(digest) {\n        const keyPair = getCurve().keyFromPrivate(arrayify(this.privateKey));\n        const digestBytes = arrayify(digest);\n        if (digestBytes.length !== 32) {\n            logger.throwArgumentError(\"bad digest length\", \"digest\", digest);\n        }\n        const signature = keyPair.sign(digestBytes, { canonical: true });\n        return splitSignature({\n            recoveryParam: signature.recoveryParam,\n            r: hexZeroPad(\"0x\" + signature.r.toString(16), 32),\n            s: hexZeroPad(\"0x\" + signature.s.toString(16), 32),\n        });\n    }\n    computeSharedSecret(otherKey) {\n        const keyPair = getCurve().keyFromPrivate(arrayify(this.privateKey));\n        const otherKeyPair = getCurve().keyFromPublic(arrayify(computePublicKey(otherKey)));\n        return hexZeroPad(\"0x\" + keyPair.derive(otherKeyPair.getPublic()).toString(16), 32);\n    }\n    static isSigningKey(value) {\n        return !!(value && value._isSigningKey);\n    }\n}\nexport function recoverPublicKey(digest, signature) {\n    const sig = splitSignature(signature);\n    const rs = { r: arrayify(sig.r), s: arrayify(sig.s) };\n    return \"0x\" + getCurve().recoverPubKey(arrayify(digest), rs, sig.recoveryParam).encode(\"hex\", false);\n}\nexport function computePublicKey(key, compressed) {\n    const bytes = arrayify(key);\n    if (bytes.length === 32) {\n        const signingKey = new SigningKey(bytes);\n        if (compressed) {\n            return \"0x\" + getCurve().keyFromPrivate(bytes).getPublic(true, \"hex\");\n        }\n        return signingKey.publicKey;\n    }\n    else if (bytes.length === 33) {\n        if (compressed) {\n            return hexlify(bytes);\n        }\n        return \"0x\" + getCurve().keyFromPublic(bytes).getPublic(false, \"hex\");\n    }\n    else if (bytes.length === 65) {\n        if (!compressed) {\n            return hexlify(bytes);\n        }\n        return \"0x\" + getCurve().keyFromPublic(bytes).getPublic(true, \"hex\");\n    }\n    return logger.throwArgumentError(\"invalid public or private key\", \"key\", \"[REDACTED]\");\n}\n//# sourceMappingURL=index.js.map","export const version = \"signing-key/5.7.0\";\n//# sourceMappingURL=_version.js.map","export const version = \"transactions/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { arrayify, hexConcat, hexDataLength, hexDataSlice, hexlify, hexZeroPad, isBytesLike, splitSignature, stripZeros, } from \"@ethersproject/bytes\";\nimport { Zero } from \"@ethersproject/constants\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { checkProperties } from \"@ethersproject/properties\";\nimport * as RLP from \"@ethersproject/rlp\";\nimport { computePublicKey, recoverPublicKey } from \"@ethersproject/signing-key\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport var TransactionTypes;\n(function (TransactionTypes) {\n    TransactionTypes[TransactionTypes[\"legacy\"] = 0] = \"legacy\";\n    TransactionTypes[TransactionTypes[\"eip2930\"] = 1] = \"eip2930\";\n    TransactionTypes[TransactionTypes[\"eip1559\"] = 2] = \"eip1559\";\n})(TransactionTypes || (TransactionTypes = {}));\n;\n///////////////////////////////\nfunction handleAddress(value) {\n    if (value === \"0x\") {\n        return null;\n    }\n    return getAddress(value);\n}\nfunction handleNumber(value) {\n    if (value === \"0x\") {\n        return Zero;\n    }\n    return BigNumber.from(value);\n}\n// Legacy Transaction Fields\nconst transactionFields = [\n    { name: \"nonce\", maxLength: 32, numeric: true },\n    { name: \"gasPrice\", maxLength: 32, numeric: true },\n    { name: \"gasLimit\", maxLength: 32, numeric: true },\n    { name: \"to\", length: 20 },\n    { name: \"value\", maxLength: 32, numeric: true },\n    { name: \"data\" },\n];\nconst allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, type: true, value: true\n};\nexport function computeAddress(key) {\n    const publicKey = computePublicKey(key);\n    return getAddress(hexDataSlice(keccak256(hexDataSlice(publicKey, 1)), 12));\n}\nexport function recoverAddress(digest, signature) {\n    return computeAddress(recoverPublicKey(arrayify(digest), signature));\n}\nfunction formatNumber(value, name) {\n    const result = stripZeros(BigNumber.from(value).toHexString());\n    if (result.length > 32) {\n        logger.throwArgumentError(\"invalid length for \" + name, (\"transaction:\" + name), value);\n    }\n    return result;\n}\nfunction accessSetify(addr, storageKeys) {\n    return {\n        address: getAddress(addr),\n        storageKeys: (storageKeys || []).map((storageKey, index) => {\n            if (hexDataLength(storageKey) !== 32) {\n                logger.throwArgumentError(\"invalid access list storageKey\", `accessList[${addr}:${index}]`, storageKey);\n            }\n            return storageKey.toLowerCase();\n        })\n    };\n}\nexport function accessListify(value) {\n    if (Array.isArray(value)) {\n        return value.map((set, index) => {\n            if (Array.isArray(set)) {\n                if (set.length > 2) {\n                    logger.throwArgumentError(\"access list expected to be [ address, storageKeys[] ]\", `value[${index}]`, set);\n                }\n                return accessSetify(set[0], set[1]);\n            }\n            return accessSetify(set.address, set.storageKeys);\n        });\n    }\n    const result = Object.keys(value).map((addr) => {\n        const storageKeys = value[addr].reduce((accum, storageKey) => {\n            accum[storageKey] = true;\n            return accum;\n        }, {});\n        return accessSetify(addr, Object.keys(storageKeys).sort());\n    });\n    result.sort((a, b) => (a.address.localeCompare(b.address)));\n    return result;\n}\nfunction formatAccessList(value) {\n    return accessListify(value).map((set) => [set.address, set.storageKeys]);\n}\nfunction _serializeEip1559(transaction, signature) {\n    // If there is an explicit gasPrice, make sure it matches the\n    // EIP-1559 fees; otherwise they may not understand what they\n    // think they are setting in terms of fee.\n    if (transaction.gasPrice != null) {\n        const gasPrice = BigNumber.from(transaction.gasPrice);\n        const maxFeePerGas = BigNumber.from(transaction.maxFeePerGas || 0);\n        if (!gasPrice.eq(maxFeePerGas)) {\n            logger.throwArgumentError(\"mismatch EIP-1559 gasPrice != maxFeePerGas\", \"tx\", {\n                gasPrice, maxFeePerGas\n            });\n        }\n    }\n    const fields = [\n        formatNumber(transaction.chainId || 0, \"chainId\"),\n        formatNumber(transaction.nonce || 0, \"nonce\"),\n        formatNumber(transaction.maxPriorityFeePerGas || 0, \"maxPriorityFeePerGas\"),\n        formatNumber(transaction.maxFeePerGas || 0, \"maxFeePerGas\"),\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\n        ((transaction.to != null) ? getAddress(transaction.to) : \"0x\"),\n        formatNumber(transaction.value || 0, \"value\"),\n        (transaction.data || \"0x\"),\n        (formatAccessList(transaction.accessList || []))\n    ];\n    if (signature) {\n        const sig = splitSignature(signature);\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n        fields.push(stripZeros(sig.r));\n        fields.push(stripZeros(sig.s));\n    }\n    return hexConcat([\"0x02\", RLP.encode(fields)]);\n}\nfunction _serializeEip2930(transaction, signature) {\n    const fields = [\n        formatNumber(transaction.chainId || 0, \"chainId\"),\n        formatNumber(transaction.nonce || 0, \"nonce\"),\n        formatNumber(transaction.gasPrice || 0, \"gasPrice\"),\n        formatNumber(transaction.gasLimit || 0, \"gasLimit\"),\n        ((transaction.to != null) ? getAddress(transaction.to) : \"0x\"),\n        formatNumber(transaction.value || 0, \"value\"),\n        (transaction.data || \"0x\"),\n        (formatAccessList(transaction.accessList || []))\n    ];\n    if (signature) {\n        const sig = splitSignature(signature);\n        fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n        fields.push(stripZeros(sig.r));\n        fields.push(stripZeros(sig.s));\n    }\n    return hexConcat([\"0x01\", RLP.encode(fields)]);\n}\n// Legacy Transactions and EIP-155\nfunction _serialize(transaction, signature) {\n    checkProperties(transaction, allowedTransactionKeys);\n    const raw = [];\n    transactionFields.forEach(function (fieldInfo) {\n        let value = transaction[fieldInfo.name] || ([]);\n        const options = {};\n        if (fieldInfo.numeric) {\n            options.hexPad = \"left\";\n        }\n        value = arrayify(hexlify(value, options));\n        // Fixed-width field\n        if (fieldInfo.length && value.length !== fieldInfo.length && value.length > 0) {\n            logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n        }\n        // Variable-width (with a maximum)\n        if (fieldInfo.maxLength) {\n            value = stripZeros(value);\n            if (value.length > fieldInfo.maxLength) {\n                logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n            }\n        }\n        raw.push(hexlify(value));\n    });\n    let chainId = 0;\n    if (transaction.chainId != null) {\n        // A chainId was provided; if non-zero we'll use EIP-155\n        chainId = transaction.chainId;\n        if (typeof (chainId) !== \"number\") {\n            logger.throwArgumentError(\"invalid transaction.chainId\", \"transaction\", transaction);\n        }\n    }\n    else if (signature && !isBytesLike(signature) && signature.v > 28) {\n        // No chainId provided, but the signature is signing with EIP-155; derive chainId\n        chainId = Math.floor((signature.v - 35) / 2);\n    }\n    // We have an EIP-155 transaction (chainId was specified and non-zero)\n    if (chainId !== 0) {\n        raw.push(hexlify(chainId)); // @TODO: hexValue?\n        raw.push(\"0x\");\n        raw.push(\"0x\");\n    }\n    // Requesting an unsigned transaction\n    if (!signature) {\n        return RLP.encode(raw);\n    }\n    // The splitSignature will ensure the transaction has a recoveryParam in the\n    // case that the signTransaction function only adds a v.\n    const sig = splitSignature(signature);\n    // We pushed a chainId and null r, s on for hashing only; remove those\n    let v = 27 + sig.recoveryParam;\n    if (chainId !== 0) {\n        raw.pop();\n        raw.pop();\n        raw.pop();\n        v += chainId * 2 + 8;\n        // If an EIP-155 v (directly or indirectly; maybe _vs) was provided, check it!\n        if (sig.v > 28 && sig.v !== v) {\n            logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n        }\n    }\n    else if (sig.v !== v) {\n        logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n    }\n    raw.push(hexlify(v));\n    raw.push(stripZeros(arrayify(sig.r)));\n    raw.push(stripZeros(arrayify(sig.s)));\n    return RLP.encode(raw);\n}\nexport function serialize(transaction, signature) {\n    // Legacy and EIP-155 Transactions\n    if (transaction.type == null || transaction.type === 0) {\n        if (transaction.accessList != null) {\n            logger.throwArgumentError(\"untyped transactions do not support accessList; include type: 1\", \"transaction\", transaction);\n        }\n        return _serialize(transaction, signature);\n    }\n    // Typed Transactions (EIP-2718)\n    switch (transaction.type) {\n        case 1:\n            return _serializeEip2930(transaction, signature);\n        case 2:\n            return _serializeEip1559(transaction, signature);\n        default:\n            break;\n    }\n    return logger.throwError(`unsupported transaction type: ${transaction.type}`, Logger.errors.UNSUPPORTED_OPERATION, {\n        operation: \"serializeTransaction\",\n        transactionType: transaction.type\n    });\n}\nfunction _parseEipSignature(tx, fields, serialize) {\n    try {\n        const recid = handleNumber(fields[0]).toNumber();\n        if (recid !== 0 && recid !== 1) {\n            throw new Error(\"bad recid\");\n        }\n        tx.v = recid;\n    }\n    catch (error) {\n        logger.throwArgumentError(\"invalid v for transaction type: 1\", \"v\", fields[0]);\n    }\n    tx.r = hexZeroPad(fields[1], 32);\n    tx.s = hexZeroPad(fields[2], 32);\n    try {\n        const digest = keccak256(serialize(tx));\n        tx.from = recoverAddress(digest, { r: tx.r, s: tx.s, recoveryParam: tx.v });\n    }\n    catch (error) { }\n}\nfunction _parseEip1559(payload) {\n    const transaction = RLP.decode(payload.slice(1));\n    if (transaction.length !== 9 && transaction.length !== 12) {\n        logger.throwArgumentError(\"invalid component count for transaction type: 2\", \"payload\", hexlify(payload));\n    }\n    const maxPriorityFeePerGas = handleNumber(transaction[2]);\n    const maxFeePerGas = handleNumber(transaction[3]);\n    const tx = {\n        type: 2,\n        chainId: handleNumber(transaction[0]).toNumber(),\n        nonce: handleNumber(transaction[1]).toNumber(),\n        maxPriorityFeePerGas: maxPriorityFeePerGas,\n        maxFeePerGas: maxFeePerGas,\n        gasPrice: null,\n        gasLimit: handleNumber(transaction[4]),\n        to: handleAddress(transaction[5]),\n        value: handleNumber(transaction[6]),\n        data: transaction[7],\n        accessList: accessListify(transaction[8]),\n    };\n    // Unsigned EIP-1559 Transaction\n    if (transaction.length === 9) {\n        return tx;\n    }\n    tx.hash = keccak256(payload);\n    _parseEipSignature(tx, transaction.slice(9), _serializeEip1559);\n    return tx;\n}\nfunction _parseEip2930(payload) {\n    const transaction = RLP.decode(payload.slice(1));\n    if (transaction.length !== 8 && transaction.length !== 11) {\n        logger.throwArgumentError(\"invalid component count for transaction type: 1\", \"payload\", hexlify(payload));\n    }\n    const tx = {\n        type: 1,\n        chainId: handleNumber(transaction[0]).toNumber(),\n        nonce: handleNumber(transaction[1]).toNumber(),\n        gasPrice: handleNumber(transaction[2]),\n        gasLimit: handleNumber(transaction[3]),\n        to: handleAddress(transaction[4]),\n        value: handleNumber(transaction[5]),\n        data: transaction[6],\n        accessList: accessListify(transaction[7])\n    };\n    // Unsigned EIP-2930 Transaction\n    if (transaction.length === 8) {\n        return tx;\n    }\n    tx.hash = keccak256(payload);\n    _parseEipSignature(tx, transaction.slice(8), _serializeEip2930);\n    return tx;\n}\n// Legacy Transactions and EIP-155\nfunction _parse(rawTransaction) {\n    const transaction = RLP.decode(rawTransaction);\n    if (transaction.length !== 9 && transaction.length !== 6) {\n        logger.throwArgumentError(\"invalid raw transaction\", \"rawTransaction\", rawTransaction);\n    }\n    const tx = {\n        nonce: handleNumber(transaction[0]).toNumber(),\n        gasPrice: handleNumber(transaction[1]),\n        gasLimit: handleNumber(transaction[2]),\n        to: handleAddress(transaction[3]),\n        value: handleNumber(transaction[4]),\n        data: transaction[5],\n        chainId: 0\n    };\n    // Legacy unsigned transaction\n    if (transaction.length === 6) {\n        return tx;\n    }\n    try {\n        tx.v = BigNumber.from(transaction[6]).toNumber();\n    }\n    catch (error) {\n        // @TODO: What makes snese to do? The v is too big\n        return tx;\n    }\n    tx.r = hexZeroPad(transaction[7], 32);\n    tx.s = hexZeroPad(transaction[8], 32);\n    if (BigNumber.from(tx.r).isZero() && BigNumber.from(tx.s).isZero()) {\n        // EIP-155 unsigned transaction\n        tx.chainId = tx.v;\n        tx.v = 0;\n    }\n    else {\n        // Signed Transaction\n        tx.chainId = Math.floor((tx.v - 35) / 2);\n        if (tx.chainId < 0) {\n            tx.chainId = 0;\n        }\n        let recoveryParam = tx.v - 27;\n        const raw = transaction.slice(0, 6);\n        if (tx.chainId !== 0) {\n            raw.push(hexlify(tx.chainId));\n            raw.push(\"0x\");\n            raw.push(\"0x\");\n            recoveryParam -= tx.chainId * 2 + 8;\n        }\n        const digest = keccak256(RLP.encode(raw));\n        try {\n            tx.from = recoverAddress(digest, { r: hexlify(tx.r), s: hexlify(tx.s), recoveryParam: recoveryParam });\n        }\n        catch (error) { }\n        tx.hash = keccak256(rawTransaction);\n    }\n    tx.type = null;\n    return tx;\n}\nexport function parse(rawTransaction) {\n    const payload = arrayify(rawTransaction);\n    // Legacy and EIP-155 Transactions\n    if (payload[0] > 0x7f) {\n        return _parse(payload);\n    }\n    // Typed Transaction (EIP-2718)\n    switch (payload[0]) {\n        case 1:\n            return _parseEip2930(payload);\n        case 2:\n            return _parseEip1559(payload);\n        default:\n            break;\n    }\n    return logger.throwError(`unsupported transaction type: ${payload[0]}`, Logger.errors.UNSUPPORTED_OPERATION, {\n        operation: \"parseTransaction\",\n        transactionType: payload[0]\n    });\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nimport { getAddress, getContractAddress } from \"@ethersproject/address\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { hexDataLength, hexDataSlice, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { AddressZero } from \"@ethersproject/constants\";\nimport { shallowCopy } from \"@ethersproject/properties\";\nimport { accessListify, parse as parseTransaction } from \"@ethersproject/transactions\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport class Formatter {\n    constructor() {\n        this.formats = this.getDefaultFormats();\n    }\n    getDefaultFormats() {\n        const formats = ({});\n        const address = this.address.bind(this);\n        const bigNumber = this.bigNumber.bind(this);\n        const blockTag = this.blockTag.bind(this);\n        const data = this.data.bind(this);\n        const hash = this.hash.bind(this);\n        const hex = this.hex.bind(this);\n        const number = this.number.bind(this);\n        const type = this.type.bind(this);\n        const strictData = (v) => { return this.data(v, true); };\n        formats.transaction = {\n            hash: hash,\n            type: type,\n            accessList: Formatter.allowNull(this.accessList.bind(this), null),\n            blockHash: Formatter.allowNull(hash, null),\n            blockNumber: Formatter.allowNull(number, null),\n            transactionIndex: Formatter.allowNull(number, null),\n            confirmations: Formatter.allowNull(number, null),\n            from: address,\n            // either (gasPrice) or (maxPriorityFeePerGas + maxFeePerGas)\n            // must be set\n            gasPrice: Formatter.allowNull(bigNumber),\n            maxPriorityFeePerGas: Formatter.allowNull(bigNumber),\n            maxFeePerGas: Formatter.allowNull(bigNumber),\n            gasLimit: bigNumber,\n            to: Formatter.allowNull(address, null),\n            value: bigNumber,\n            nonce: number,\n            data: data,\n            r: Formatter.allowNull(this.uint256),\n            s: Formatter.allowNull(this.uint256),\n            v: Formatter.allowNull(number),\n            creates: Formatter.allowNull(address, null),\n            raw: Formatter.allowNull(data),\n        };\n        formats.transactionRequest = {\n            from: Formatter.allowNull(address),\n            nonce: Formatter.allowNull(number),\n            gasLimit: Formatter.allowNull(bigNumber),\n            gasPrice: Formatter.allowNull(bigNumber),\n            maxPriorityFeePerGas: Formatter.allowNull(bigNumber),\n            maxFeePerGas: Formatter.allowNull(bigNumber),\n            to: Formatter.allowNull(address),\n            value: Formatter.allowNull(bigNumber),\n            data: Formatter.allowNull(strictData),\n            type: Formatter.allowNull(number),\n            accessList: Formatter.allowNull(this.accessList.bind(this), null),\n        };\n        formats.receiptLog = {\n            transactionIndex: number,\n            blockNumber: number,\n            transactionHash: hash,\n            address: address,\n            topics: Formatter.arrayOf(hash),\n            data: data,\n            logIndex: number,\n            blockHash: hash,\n        };\n        formats.receipt = {\n            to: Formatter.allowNull(this.address, null),\n            from: Formatter.allowNull(this.address, null),\n            contractAddress: Formatter.allowNull(address, null),\n            transactionIndex: number,\n            // should be allowNull(hash), but broken-EIP-658 support is handled in receipt\n            root: Formatter.allowNull(hex),\n            gasUsed: bigNumber,\n            logsBloom: Formatter.allowNull(data),\n            blockHash: hash,\n            transactionHash: hash,\n            logs: Formatter.arrayOf(this.receiptLog.bind(this)),\n            blockNumber: number,\n            confirmations: Formatter.allowNull(number, null),\n            cumulativeGasUsed: bigNumber,\n            effectiveGasPrice: Formatter.allowNull(bigNumber),\n            status: Formatter.allowNull(number),\n            type: type\n        };\n        formats.block = {\n            hash: Formatter.allowNull(hash),\n            parentHash: hash,\n            number: number,\n            timestamp: number,\n            nonce: Formatter.allowNull(hex),\n            difficulty: this.difficulty.bind(this),\n            gasLimit: bigNumber,\n            gasUsed: bigNumber,\n            miner: Formatter.allowNull(address),\n            extraData: data,\n            transactions: Formatter.allowNull(Formatter.arrayOf(hash)),\n            baseFeePerGas: Formatter.allowNull(bigNumber)\n        };\n        formats.blockWithTransactions = shallowCopy(formats.block);\n        formats.blockWithTransactions.transactions = Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this)));\n        formats.filter = {\n            fromBlock: Formatter.allowNull(blockTag, undefined),\n            toBlock: Formatter.allowNull(blockTag, undefined),\n            blockHash: Formatter.allowNull(hash, undefined),\n            address: Formatter.allowNull(address, undefined),\n            topics: Formatter.allowNull(this.topics.bind(this), undefined),\n        };\n        formats.filterLog = {\n            blockNumber: Formatter.allowNull(number),\n            blockHash: Formatter.allowNull(hash),\n            transactionIndex: number,\n            removed: Formatter.allowNull(this.boolean.bind(this)),\n            address: address,\n            data: Formatter.allowFalsish(data, \"0x\"),\n            topics: Formatter.arrayOf(hash),\n            transactionHash: hash,\n            logIndex: number,\n        };\n        return formats;\n    }\n    accessList(accessList) {\n        return accessListify(accessList || []);\n    }\n    // Requires a BigNumberish that is within the IEEE754 safe integer range; returns a number\n    // Strict! Used on input.\n    number(number) {\n        if (number === \"0x\") {\n            return 0;\n        }\n        return BigNumber.from(number).toNumber();\n    }\n    type(number) {\n        if (number === \"0x\" || number == null) {\n            return 0;\n        }\n        return BigNumber.from(number).toNumber();\n    }\n    // Strict! Used on input.\n    bigNumber(value) {\n        return BigNumber.from(value);\n    }\n    // Requires a boolean, \"true\" or  \"false\"; returns a boolean\n    boolean(value) {\n        if (typeof (value) === \"boolean\") {\n            return value;\n        }\n        if (typeof (value) === \"string\") {\n            value = value.toLowerCase();\n            if (value === \"true\") {\n                return true;\n            }\n            if (value === \"false\") {\n                return false;\n            }\n        }\n        throw new Error(\"invalid boolean - \" + value);\n    }\n    hex(value, strict) {\n        if (typeof (value) === \"string\") {\n            if (!strict && value.substring(0, 2) !== \"0x\") {\n                value = \"0x\" + value;\n            }\n            if (isHexString(value)) {\n                return value.toLowerCase();\n            }\n        }\n        return logger.throwArgumentError(\"invalid hash\", \"value\", value);\n    }\n    data(value, strict) {\n        const result = this.hex(value, strict);\n        if ((result.length % 2) !== 0) {\n            throw new Error(\"invalid data; odd-length - \" + value);\n        }\n        return result;\n    }\n    // Requires an address\n    // Strict! Used on input.\n    address(value) {\n        return getAddress(value);\n    }\n    callAddress(value) {\n        if (!isHexString(value, 32)) {\n            return null;\n        }\n        const address = getAddress(hexDataSlice(value, 12));\n        return (address === AddressZero) ? null : address;\n    }\n    contractAddress(value) {\n        return getContractAddress(value);\n    }\n    // Strict! Used on input.\n    blockTag(blockTag) {\n        if (blockTag == null) {\n            return \"latest\";\n        }\n        if (blockTag === \"earliest\") {\n            return \"0x0\";\n        }\n        switch (blockTag) {\n            case \"earliest\": return \"0x0\";\n            case \"latest\":\n            case \"pending\":\n            case \"safe\":\n            case \"finalized\":\n                return blockTag;\n        }\n        if (typeof (blockTag) === \"number\" || isHexString(blockTag)) {\n            return hexValue(blockTag);\n        }\n        throw new Error(\"invalid blockTag\");\n    }\n    // Requires a hash, optionally requires 0x prefix; returns prefixed lowercase hash.\n    hash(value, strict) {\n        const result = this.hex(value, strict);\n        if (hexDataLength(result) !== 32) {\n            return logger.throwArgumentError(\"invalid hash\", \"value\", value);\n        }\n        return result;\n    }\n    // Returns the difficulty as a number, or if too large (i.e. PoA network) null\n    difficulty(value) {\n        if (value == null) {\n            return null;\n        }\n        const v = BigNumber.from(value);\n        try {\n            return v.toNumber();\n        }\n        catch (error) { }\n        return null;\n    }\n    uint256(value) {\n        if (!isHexString(value)) {\n            throw new Error(\"invalid uint256\");\n        }\n        return hexZeroPad(value, 32);\n    }\n    _block(value, format) {\n        if (value.author != null && value.miner == null) {\n            value.miner = value.author;\n        }\n        // The difficulty may need to come from _difficulty in recursed blocks\n        const difficulty = (value._difficulty != null) ? value._difficulty : value.difficulty;\n        const result = Formatter.check(format, value);\n        result._difficulty = ((difficulty == null) ? null : BigNumber.from(difficulty));\n        return result;\n    }\n    block(value) {\n        return this._block(value, this.formats.block);\n    }\n    blockWithTransactions(value) {\n        return this._block(value, this.formats.blockWithTransactions);\n    }\n    // Strict! Used on input.\n    transactionRequest(value) {\n        return Formatter.check(this.formats.transactionRequest, value);\n    }\n    transactionResponse(transaction) {\n        // Rename gas to gasLimit\n        if (transaction.gas != null && transaction.gasLimit == null) {\n            transaction.gasLimit = transaction.gas;\n        }\n        // Some clients (TestRPC) do strange things like return 0x0 for the\n        // 0 address; correct this to be a real address\n        if (transaction.to && BigNumber.from(transaction.to).isZero()) {\n            transaction.to = \"0x0000000000000000000000000000000000000000\";\n        }\n        // Rename input to data\n        if (transaction.input != null && transaction.data == null) {\n            transaction.data = transaction.input;\n        }\n        // If to and creates are empty, populate the creates from the transaction\n        if (transaction.to == null && transaction.creates == null) {\n            transaction.creates = this.contractAddress(transaction);\n        }\n        if ((transaction.type === 1 || transaction.type === 2) && transaction.accessList == null) {\n            transaction.accessList = [];\n        }\n        const result = Formatter.check(this.formats.transaction, transaction);\n        if (transaction.chainId != null) {\n            let chainId = transaction.chainId;\n            if (isHexString(chainId)) {\n                chainId = BigNumber.from(chainId).toNumber();\n            }\n            result.chainId = chainId;\n        }\n        else {\n            let chainId = transaction.networkId;\n            // geth-etc returns chainId\n            if (chainId == null && result.v == null) {\n                chainId = transaction.chainId;\n            }\n            if (isHexString(chainId)) {\n                chainId = BigNumber.from(chainId).toNumber();\n            }\n            if (typeof (chainId) !== \"number\" && result.v != null) {\n                chainId = (result.v - 35) / 2;\n                if (chainId < 0) {\n                    chainId = 0;\n                }\n                chainId = parseInt(chainId);\n            }\n            if (typeof (chainId) !== \"number\") {\n                chainId = 0;\n            }\n            result.chainId = chainId;\n        }\n        // 0x0000... should actually be null\n        if (result.blockHash && result.blockHash.replace(/0/g, \"\") === \"x\") {\n            result.blockHash = null;\n        }\n        return result;\n    }\n    transaction(value) {\n        return parseTransaction(value);\n    }\n    receiptLog(value) {\n        return Formatter.check(this.formats.receiptLog, value);\n    }\n    receipt(value) {\n        const result = Formatter.check(this.formats.receipt, value);\n        // RSK incorrectly implemented EIP-658, so we munge things a bit here for it\n        if (result.root != null) {\n            if (result.root.length <= 4) {\n                // Could be 0x00, 0x0, 0x01 or 0x1\n                const value = BigNumber.from(result.root).toNumber();\n                if (value === 0 || value === 1) {\n                    // Make sure if both are specified, they match\n                    if (result.status != null && (result.status !== value)) {\n                        logger.throwArgumentError(\"alt-root-status/status mismatch\", \"value\", { root: result.root, status: result.status });\n                    }\n                    result.status = value;\n                    delete result.root;\n                }\n                else {\n                    logger.throwArgumentError(\"invalid alt-root-status\", \"value.root\", result.root);\n                }\n            }\n            else if (result.root.length !== 66) {\n                // Must be a valid bytes32\n                logger.throwArgumentError(\"invalid root hash\", \"value.root\", result.root);\n            }\n        }\n        if (result.status != null) {\n            result.byzantium = true;\n        }\n        return result;\n    }\n    topics(value) {\n        if (Array.isArray(value)) {\n            return value.map((v) => this.topics(v));\n        }\n        else if (value != null) {\n            return this.hash(value, true);\n        }\n        return null;\n    }\n    filter(value) {\n        return Formatter.check(this.formats.filter, value);\n    }\n    filterLog(value) {\n        return Formatter.check(this.formats.filterLog, value);\n    }\n    static check(format, object) {\n        const result = {};\n        for (const key in format) {\n            try {\n                const value = format[key](object[key]);\n                if (value !== undefined) {\n                    result[key] = value;\n                }\n            }\n            catch (error) {\n                error.checkKey = key;\n                error.checkValue = object[key];\n                throw error;\n            }\n        }\n        return result;\n    }\n    // if value is null-ish, nullValue is returned\n    static allowNull(format, nullValue) {\n        return (function (value) {\n            if (value == null) {\n                return nullValue;\n            }\n            return format(value);\n        });\n    }\n    // If value is false-ish, replaceValue is returned\n    static allowFalsish(format, replaceValue) {\n        return (function (value) {\n            if (!value) {\n                return replaceValue;\n            }\n            return format(value);\n        });\n    }\n    // Requires an Array satisfying check\n    static arrayOf(format) {\n        return (function (array) {\n            if (!Array.isArray(array)) {\n                throw new Error(\"not an array\");\n            }\n            const result = [];\n            array.forEach(function (value) {\n                result.push(format(value));\n            });\n            return result;\n        });\n    }\n}\nexport function isCommunityResourcable(value) {\n    return (value && typeof (value.isCommunityResource) === \"function\");\n}\nexport function isCommunityResource(value) {\n    return (isCommunityResourcable(value) && value.isCommunityResource());\n}\n// Show the throttle message only once\nlet throttleMessage = false;\nexport function showThrottleMessage() {\n    if (throttleMessage) {\n        return;\n    }\n    throttleMessage = true;\n    console.log(\"========= NOTICE =========\");\n    console.log(\"Request-Rate Exceeded  (this message will not be repeated)\");\n    console.log(\"\");\n    console.log(\"The default API keys for each service are provided as a highly-throttled,\");\n    console.log(\"community resource for low-traffic projects and early prototyping.\");\n    console.log(\"\");\n    console.log(\"While your application will continue to function, we highly recommended\");\n    console.log(\"signing up for your own API keys to improve performance, increase your\");\n    console.log(\"request rate/limit and enable other perks, such as metrics and advanced APIs.\");\n    console.log(\"\");\n    console.log(\"For more details: https:/\\/docs.ethers.io/api-keys/\");\n    console.log(\"==========================\");\n}\n//# sourceMappingURL=formatter.js.map","export const AddressZero = \"0x0000000000000000000000000000000000000000\";\n//# sourceMappingURL=addresses.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ForkEvent, Provider } from \"@ethersproject/abstract-provider\";\nimport { encode as base64Encode } from \"@ethersproject/base64\";\nimport { Base58 } from \"@ethersproject/basex\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { arrayify, concat, hexConcat, hexDataLength, hexDataSlice, hexlify, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { HashZero } from \"@ethersproject/constants\";\nimport { dnsEncode, namehash } from \"@ethersproject/hash\";\nimport { getNetwork } from \"@ethersproject/networks\";\nimport { defineReadOnly, getStatic, resolveProperties } from \"@ethersproject/properties\";\nimport { sha256 } from \"@ethersproject/sha2\";\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\nimport { fetchJson, poll } from \"@ethersproject/web\";\nimport bech32 from \"bech32\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { Formatter } from \"./formatter\";\nconst MAX_CCIP_REDIRECTS = 10;\n//////////////////////////////\n// Event Serializeing\nfunction checkTopic(topic) {\n    if (topic == null) {\n        return \"null\";\n    }\n    if (hexDataLength(topic) !== 32) {\n        logger.throwArgumentError(\"invalid topic\", \"topic\", topic);\n    }\n    return topic.toLowerCase();\n}\nfunction serializeTopics(topics) {\n    // Remove trailing null AND-topics; they are redundant\n    topics = topics.slice();\n    while (topics.length > 0 && topics[topics.length - 1] == null) {\n        topics.pop();\n    }\n    return topics.map((topic) => {\n        if (Array.isArray(topic)) {\n            // Only track unique OR-topics\n            const unique = {};\n            topic.forEach((topic) => {\n                unique[checkTopic(topic)] = true;\n            });\n            // The order of OR-topics does not matter\n            const sorted = Object.keys(unique);\n            sorted.sort();\n            return sorted.join(\"|\");\n        }\n        else {\n            return checkTopic(topic);\n        }\n    }).join(\"&\");\n}\nfunction deserializeTopics(data) {\n    if (data === \"\") {\n        return [];\n    }\n    return data.split(/&/g).map((topic) => {\n        if (topic === \"\") {\n            return [];\n        }\n        const comps = topic.split(\"|\").map((topic) => {\n            return ((topic === \"null\") ? null : topic);\n        });\n        return ((comps.length === 1) ? comps[0] : comps);\n    });\n}\nfunction getEventTag(eventName) {\n    if (typeof (eventName) === \"string\") {\n        eventName = eventName.toLowerCase();\n        if (hexDataLength(eventName) === 32) {\n            return \"tx:\" + eventName;\n        }\n        if (eventName.indexOf(\":\") === -1) {\n            return eventName;\n        }\n    }\n    else if (Array.isArray(eventName)) {\n        return \"filter:*:\" + serializeTopics(eventName);\n    }\n    else if (ForkEvent.isForkEvent(eventName)) {\n        logger.warn(\"not implemented\");\n        throw new Error(\"not implemented\");\n    }\n    else if (eventName && typeof (eventName) === \"object\") {\n        return \"filter:\" + (eventName.address || \"*\") + \":\" + serializeTopics(eventName.topics || []);\n    }\n    throw new Error(\"invalid event - \" + eventName);\n}\n//////////////////////////////\n// Helper Object\nfunction getTime() {\n    return (new Date()).getTime();\n}\nfunction stall(duration) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, duration);\n    });\n}\n//////////////////////////////\n// Provider Object\n/**\n *  EventType\n *   - \"block\"\n *   - \"poll\"\n *   - \"didPoll\"\n *   - \"pending\"\n *   - \"error\"\n *   - \"network\"\n *   - filter\n *   - topics array\n *   - transaction hash\n */\nconst PollableEvents = [\"block\", \"network\", \"pending\", \"poll\"];\nexport class Event {\n    constructor(tag, listener, once) {\n        defineReadOnly(this, \"tag\", tag);\n        defineReadOnly(this, \"listener\", listener);\n        defineReadOnly(this, \"once\", once);\n        this._lastBlockNumber = -2;\n        this._inflight = false;\n    }\n    get event() {\n        switch (this.type) {\n            case \"tx\":\n                return this.hash;\n            case \"filter\":\n                return this.filter;\n        }\n        return this.tag;\n    }\n    get type() {\n        return this.tag.split(\":\")[0];\n    }\n    get hash() {\n        const comps = this.tag.split(\":\");\n        if (comps[0] !== \"tx\") {\n            return null;\n        }\n        return comps[1];\n    }\n    get filter() {\n        const comps = this.tag.split(\":\");\n        if (comps[0] !== \"filter\") {\n            return null;\n        }\n        const address = comps[1];\n        const topics = deserializeTopics(comps[2]);\n        const filter = {};\n        if (topics.length > 0) {\n            filter.topics = topics;\n        }\n        if (address && address !== \"*\") {\n            filter.address = address;\n        }\n        return filter;\n    }\n    pollable() {\n        return (this.tag.indexOf(\":\") >= 0 || PollableEvents.indexOf(this.tag) >= 0);\n    }\n}\n;\n// https://github.com/satoshilabs/slips/blob/master/slip-0044.md\nconst coinInfos = {\n    \"0\": { symbol: \"btc\", p2pkh: 0x00, p2sh: 0x05, prefix: \"bc\" },\n    \"2\": { symbol: \"ltc\", p2pkh: 0x30, p2sh: 0x32, prefix: \"ltc\" },\n    \"3\": { symbol: \"doge\", p2pkh: 0x1e, p2sh: 0x16 },\n    \"60\": { symbol: \"eth\", ilk: \"eth\" },\n    \"61\": { symbol: \"etc\", ilk: \"eth\" },\n    \"700\": { symbol: \"xdai\", ilk: \"eth\" },\n};\nfunction bytes32ify(value) {\n    return hexZeroPad(BigNumber.from(value).toHexString(), 32);\n}\n// Compute the Base58Check encoded data (checksum is first 4 bytes of sha256d)\nfunction base58Encode(data) {\n    return Base58.encode(concat([data, hexDataSlice(sha256(sha256(data)), 0, 4)]));\n}\nconst matcherIpfs = new RegExp(\"^(ipfs):/\\/(.*)$\", \"i\");\nconst matchers = [\n    new RegExp(\"^(https):/\\/(.*)$\", \"i\"),\n    new RegExp(\"^(data):(.*)$\", \"i\"),\n    matcherIpfs,\n    new RegExp(\"^eip155:[0-9]+/(erc[0-9]+):(.*)$\", \"i\"),\n];\nfunction _parseString(result, start) {\n    try {\n        return toUtf8String(_parseBytes(result, start));\n    }\n    catch (error) { }\n    return null;\n}\nfunction _parseBytes(result, start) {\n    if (result === \"0x\") {\n        return null;\n    }\n    const offset = BigNumber.from(hexDataSlice(result, start, start + 32)).toNumber();\n    const length = BigNumber.from(hexDataSlice(result, offset, offset + 32)).toNumber();\n    return hexDataSlice(result, offset + 32, offset + 32 + length);\n}\n// Trim off the ipfs:// prefix and return the default gateway URL\nfunction getIpfsLink(link) {\n    if (link.match(/^ipfs:\\/\\/ipfs\\//i)) {\n        link = link.substring(12);\n    }\n    else if (link.match(/^ipfs:\\/\\//i)) {\n        link = link.substring(7);\n    }\n    else {\n        logger.throwArgumentError(\"unsupported IPFS format\", \"link\", link);\n    }\n    return `https:/\\/gateway.ipfs.io/ipfs/${link}`;\n}\nfunction numPad(value) {\n    const result = arrayify(value);\n    if (result.length > 32) {\n        throw new Error(\"internal; should not happen\");\n    }\n    const padded = new Uint8Array(32);\n    padded.set(result, 32 - result.length);\n    return padded;\n}\nfunction bytesPad(value) {\n    if ((value.length % 32) === 0) {\n        return value;\n    }\n    const result = new Uint8Array(Math.ceil(value.length / 32) * 32);\n    result.set(value);\n    return result;\n}\n// ABI Encodes a series of (bytes, bytes, ...)\nfunction encodeBytes(datas) {\n    const result = [];\n    let byteCount = 0;\n    // Add place-holders for pointers as we add items\n    for (let i = 0; i < datas.length; i++) {\n        result.push(null);\n        byteCount += 32;\n    }\n    for (let i = 0; i < datas.length; i++) {\n        const data = arrayify(datas[i]);\n        // Update the bytes offset\n        result[i] = numPad(byteCount);\n        // The length and padded value of data\n        result.push(numPad(data.length));\n        result.push(bytesPad(data));\n        byteCount += 32 + Math.ceil(data.length / 32) * 32;\n    }\n    return hexConcat(result);\n}\nexport class Resolver {\n    // The resolvedAddress is only for creating a ReverseLookup resolver\n    constructor(provider, address, name, resolvedAddress) {\n        defineReadOnly(this, \"provider\", provider);\n        defineReadOnly(this, \"name\", name);\n        defineReadOnly(this, \"address\", provider.formatter.address(address));\n        defineReadOnly(this, \"_resolvedAddress\", resolvedAddress);\n    }\n    supportsWildcard() {\n        if (!this._supportsEip2544) {\n            // supportsInterface(bytes4 = selector(\"resolve(bytes,bytes)\"))\n            this._supportsEip2544 = this.provider.call({\n                to: this.address,\n                data: \"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000\"\n            }).then((result) => {\n                return BigNumber.from(result).eq(1);\n            }).catch((error) => {\n                if (error.code === Logger.errors.CALL_EXCEPTION) {\n                    return false;\n                }\n                // Rethrow the error: link is down, etc. Let future attempts retry.\n                this._supportsEip2544 = null;\n                throw error;\n            });\n        }\n        return this._supportsEip2544;\n    }\n    _fetch(selector, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // e.g. keccak256(\"addr(bytes32,uint256)\")\n            const tx = {\n                to: this.address,\n                ccipReadEnabled: true,\n                data: hexConcat([selector, namehash(this.name), (parameters || \"0x\")])\n            };\n            // Wildcard support; use EIP-2544 to resolve the request\n            let parseBytes = false;\n            if (yield this.supportsWildcard()) {\n                parseBytes = true;\n                // selector(\"resolve(bytes,bytes)\")\n                tx.data = hexConcat([\"0x9061b923\", encodeBytes([dnsEncode(this.name), tx.data])]);\n            }\n            try {\n                let result = yield this.provider.call(tx);\n                if ((arrayify(result).length % 32) === 4) {\n                    logger.throwError(\"resolver threw error\", Logger.errors.CALL_EXCEPTION, {\n                        transaction: tx, data: result\n                    });\n                }\n                if (parseBytes) {\n                    result = _parseBytes(result, 0);\n                }\n                return result;\n            }\n            catch (error) {\n                if (error.code === Logger.errors.CALL_EXCEPTION) {\n                    return null;\n                }\n                throw error;\n            }\n        });\n    }\n    _fetchBytes(selector, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield this._fetch(selector, parameters);\n            if (result != null) {\n                return _parseBytes(result, 0);\n            }\n            return null;\n        });\n    }\n    _getAddress(coinType, hexBytes) {\n        const coinInfo = coinInfos[String(coinType)];\n        if (coinInfo == null) {\n            logger.throwError(`unsupported coin type: ${coinType}`, Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: `getAddress(${coinType})`\n            });\n        }\n        if (coinInfo.ilk === \"eth\") {\n            return this.provider.formatter.address(hexBytes);\n        }\n        const bytes = arrayify(hexBytes);\n        // P2PKH: OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\n        if (coinInfo.p2pkh != null) {\n            const p2pkh = hexBytes.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);\n            if (p2pkh) {\n                const length = parseInt(p2pkh[1], 16);\n                if (p2pkh[2].length === length * 2 && length >= 1 && length <= 75) {\n                    return base58Encode(concat([[coinInfo.p2pkh], (\"0x\" + p2pkh[2])]));\n                }\n            }\n        }\n        // P2SH: OP_HASH160 <scriptHash> OP_EQUAL\n        if (coinInfo.p2sh != null) {\n            const p2sh = hexBytes.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);\n            if (p2sh) {\n                const length = parseInt(p2sh[1], 16);\n                if (p2sh[2].length === length * 2 && length >= 1 && length <= 75) {\n                    return base58Encode(concat([[coinInfo.p2sh], (\"0x\" + p2sh[2])]));\n                }\n            }\n        }\n        // Bech32\n        if (coinInfo.prefix != null) {\n            const length = bytes[1];\n            // https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#witness-program\n            let version = bytes[0];\n            if (version === 0x00) {\n                if (length !== 20 && length !== 32) {\n                    version = -1;\n                }\n            }\n            else {\n                version = -1;\n            }\n            if (version >= 0 && bytes.length === 2 + length && length >= 1 && length <= 75) {\n                const words = bech32.toWords(bytes.slice(2));\n                words.unshift(version);\n                return bech32.encode(coinInfo.prefix, words);\n            }\n        }\n        return null;\n    }\n    getAddress(coinType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (coinType == null) {\n                coinType = 60;\n            }\n            // If Ethereum, use the standard `addr(bytes32)`\n            if (coinType === 60) {\n                try {\n                    // keccak256(\"addr(bytes32)\")\n                    const result = yield this._fetch(\"0x3b3b57de\");\n                    // No address\n                    if (result === \"0x\" || result === HashZero) {\n                        return null;\n                    }\n                    return this.provider.formatter.callAddress(result);\n                }\n                catch (error) {\n                    if (error.code === Logger.errors.CALL_EXCEPTION) {\n                        return null;\n                    }\n                    throw error;\n                }\n            }\n            // keccak256(\"addr(bytes32,uint256\")\n            const hexBytes = yield this._fetchBytes(\"0xf1cb7e06\", bytes32ify(coinType));\n            // No address\n            if (hexBytes == null || hexBytes === \"0x\") {\n                return null;\n            }\n            // Compute the address\n            const address = this._getAddress(coinType, hexBytes);\n            if (address == null) {\n                logger.throwError(`invalid or unsupported coin data`, Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: `getAddress(${coinType})`,\n                    coinType: coinType,\n                    data: hexBytes\n                });\n            }\n            return address;\n        });\n    }\n    getAvatar() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const linkage = [{ type: \"name\", content: this.name }];\n            try {\n                // test data for ricmoo.eth\n                //const avatar = \"eip155:1/erc721:0x265385c7f4132228A0d54EB1A9e7460b91c0cC68/29233\";\n                const avatar = yield this.getText(\"avatar\");\n                if (avatar == null) {\n                    return null;\n                }\n                for (let i = 0; i < matchers.length; i++) {\n                    const match = avatar.match(matchers[i]);\n                    if (match == null) {\n                        continue;\n                    }\n                    const scheme = match[1].toLowerCase();\n                    switch (scheme) {\n                        case \"https\":\n                            linkage.push({ type: \"url\", content: avatar });\n                            return { linkage, url: avatar };\n                        case \"data\":\n                            linkage.push({ type: \"data\", content: avatar });\n                            return { linkage, url: avatar };\n                        case \"ipfs\":\n                            linkage.push({ type: \"ipfs\", content: avatar });\n                            return { linkage, url: getIpfsLink(avatar) };\n                        case \"erc721\":\n                        case \"erc1155\": {\n                            // Depending on the ERC type, use tokenURI(uint256) or url(uint256)\n                            const selector = (scheme === \"erc721\") ? \"0xc87b56dd\" : \"0x0e89341c\";\n                            linkage.push({ type: scheme, content: avatar });\n                            // The owner of this name\n                            const owner = (this._resolvedAddress || (yield this.getAddress()));\n                            const comps = (match[2] || \"\").split(\"/\");\n                            if (comps.length !== 2) {\n                                return null;\n                            }\n                            const addr = yield this.provider.formatter.address(comps[0]);\n                            const tokenId = hexZeroPad(BigNumber.from(comps[1]).toHexString(), 32);\n                            // Check that this account owns the token\n                            if (scheme === \"erc721\") {\n                                // ownerOf(uint256 tokenId)\n                                const tokenOwner = this.provider.formatter.callAddress(yield this.provider.call({\n                                    to: addr, data: hexConcat([\"0x6352211e\", tokenId])\n                                }));\n                                if (owner !== tokenOwner) {\n                                    return null;\n                                }\n                                linkage.push({ type: \"owner\", content: tokenOwner });\n                            }\n                            else if (scheme === \"erc1155\") {\n                                // balanceOf(address owner, uint256 tokenId)\n                                const balance = BigNumber.from(yield this.provider.call({\n                                    to: addr, data: hexConcat([\"0x00fdd58e\", hexZeroPad(owner, 32), tokenId])\n                                }));\n                                if (balance.isZero()) {\n                                    return null;\n                                }\n                                linkage.push({ type: \"balance\", content: balance.toString() });\n                            }\n                            // Call the token contract for the metadata URL\n                            const tx = {\n                                to: this.provider.formatter.address(comps[0]),\n                                data: hexConcat([selector, tokenId])\n                            };\n                            let metadataUrl = _parseString(yield this.provider.call(tx), 0);\n                            if (metadataUrl == null) {\n                                return null;\n                            }\n                            linkage.push({ type: \"metadata-url-base\", content: metadataUrl });\n                            // ERC-1155 allows a generic {id} in the URL\n                            if (scheme === \"erc1155\") {\n                                metadataUrl = metadataUrl.replace(\"{id}\", tokenId.substring(2));\n                                linkage.push({ type: \"metadata-url-expanded\", content: metadataUrl });\n                            }\n                            // Transform IPFS metadata links\n                            if (metadataUrl.match(/^ipfs:/i)) {\n                                metadataUrl = getIpfsLink(metadataUrl);\n                            }\n                            linkage.push({ type: \"metadata-url\", content: metadataUrl });\n                            // Get the token metadata\n                            const metadata = yield fetchJson(metadataUrl);\n                            if (!metadata) {\n                                return null;\n                            }\n                            linkage.push({ type: \"metadata\", content: JSON.stringify(metadata) });\n                            // Pull the image URL out\n                            let imageUrl = metadata.image;\n                            if (typeof (imageUrl) !== \"string\") {\n                                return null;\n                            }\n                            if (imageUrl.match(/^(https:\\/\\/|data:)/i)) {\n                                // Allow\n                            }\n                            else {\n                                // Transform IPFS link to gateway\n                                const ipfs = imageUrl.match(matcherIpfs);\n                                if (ipfs == null) {\n                                    return null;\n                                }\n                                linkage.push({ type: \"url-ipfs\", content: imageUrl });\n                                imageUrl = getIpfsLink(imageUrl);\n                            }\n                            linkage.push({ type: \"url\", content: imageUrl });\n                            return { linkage, url: imageUrl };\n                        }\n                    }\n                }\n            }\n            catch (error) { }\n            return null;\n        });\n    }\n    getContentHash() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // keccak256(\"contenthash()\")\n            const hexBytes = yield this._fetchBytes(\"0xbc1c58d1\");\n            // No contenthash\n            if (hexBytes == null || hexBytes === \"0x\") {\n                return null;\n            }\n            // IPFS (CID: 1, Type: DAG-PB)\n            const ipfs = hexBytes.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\n            if (ipfs) {\n                const length = parseInt(ipfs[3], 16);\n                if (ipfs[4].length === length * 2) {\n                    return \"ipfs:/\\/\" + Base58.encode(\"0x\" + ipfs[1]);\n                }\n            }\n            // IPNS (CID: 1, Type: libp2p-key)\n            const ipns = hexBytes.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\n            if (ipns) {\n                const length = parseInt(ipns[3], 16);\n                if (ipns[4].length === length * 2) {\n                    return \"ipns:/\\/\" + Base58.encode(\"0x\" + ipns[1]);\n                }\n            }\n            // Swarm (CID: 1, Type: swarm-manifest; hash/length hard-coded to keccak256/32)\n            const swarm = hexBytes.match(/^0xe40101fa011b20([0-9a-f]*)$/);\n            if (swarm) {\n                if (swarm[1].length === (32 * 2)) {\n                    return \"bzz:/\\/\" + swarm[1];\n                }\n            }\n            const skynet = hexBytes.match(/^0x90b2c605([0-9a-f]*)$/);\n            if (skynet) {\n                if (skynet[1].length === (34 * 2)) {\n                    // URL Safe base64; https://datatracker.ietf.org/doc/html/rfc4648#section-5\n                    const urlSafe = { \"=\": \"\", \"+\": \"-\", \"/\": \"_\" };\n                    const hash = base64Encode(\"0x\" + skynet[1]).replace(/[=+\\/]/g, (a) => (urlSafe[a]));\n                    return \"sia:/\\/\" + hash;\n                }\n            }\n            return logger.throwError(`invalid or unsupported content hash data`, Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"getContentHash()\",\n                data: hexBytes\n            });\n        });\n    }\n    getText(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // The key encoded as parameter to fetchBytes\n            let keyBytes = toUtf8Bytes(key);\n            // The nodehash consumes the first slot, so the string pointer targets\n            // offset 64, with the length at offset 64 and data starting at offset 96\n            keyBytes = concat([bytes32ify(64), bytes32ify(keyBytes.length), keyBytes]);\n            // Pad to word-size (32 bytes)\n            if ((keyBytes.length % 32) !== 0) {\n                keyBytes = concat([keyBytes, hexZeroPad(\"0x\", 32 - (key.length % 32))]);\n            }\n            const hexBytes = yield this._fetchBytes(\"0x59d1d43c\", hexlify(keyBytes));\n            if (hexBytes == null || hexBytes === \"0x\") {\n                return null;\n            }\n            return toUtf8String(hexBytes);\n        });\n    }\n}\nlet defaultFormatter = null;\nlet nextPollId = 1;\nexport class BaseProvider extends Provider {\n    /**\n     *  ready\n     *\n     *  A Promise<Network> that resolves only once the provider is ready.\n     *\n     *  Sub-classes that call the super with a network without a chainId\n     *  MUST set this. Standard named networks have a known chainId.\n     *\n     */\n    constructor(network) {\n        super();\n        // Events being listened to\n        this._events = [];\n        this._emitted = { block: -2 };\n        this.disableCcipRead = false;\n        this.formatter = new.target.getFormatter();\n        // If network is any, this Provider allows the underlying\n        // network to change dynamically, and we auto-detect the\n        // current network\n        defineReadOnly(this, \"anyNetwork\", (network === \"any\"));\n        if (this.anyNetwork) {\n            network = this.detectNetwork();\n        }\n        if (network instanceof Promise) {\n            this._networkPromise = network;\n            // Squash any \"unhandled promise\" errors; that do not need to be handled\n            network.catch((error) => { });\n            // Trigger initial network setting (async)\n            this._ready().catch((error) => { });\n        }\n        else {\n            const knownNetwork = getStatic(new.target, \"getNetwork\")(network);\n            if (knownNetwork) {\n                defineReadOnly(this, \"_network\", knownNetwork);\n                this.emit(\"network\", knownNetwork, null);\n            }\n            else {\n                logger.throwArgumentError(\"invalid network\", \"network\", network);\n            }\n        }\n        this._maxInternalBlockNumber = -1024;\n        this._lastBlockNumber = -2;\n        this._maxFilterBlockRange = 10;\n        this._pollingInterval = 4000;\n        this._fastQueryDate = 0;\n    }\n    _ready() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._network == null) {\n                let network = null;\n                if (this._networkPromise) {\n                    try {\n                        network = yield this._networkPromise;\n                    }\n                    catch (error) { }\n                }\n                // Try the Provider's network detection (this MUST throw if it cannot)\n                if (network == null) {\n                    network = yield this.detectNetwork();\n                }\n                // This should never happen; every Provider sub-class should have\n                // suggested a network by here (or have thrown).\n                if (!network) {\n                    logger.throwError(\"no network detected\", Logger.errors.UNKNOWN_ERROR, {});\n                }\n                // Possible this call stacked so do not call defineReadOnly again\n                if (this._network == null) {\n                    if (this.anyNetwork) {\n                        this._network = network;\n                    }\n                    else {\n                        defineReadOnly(this, \"_network\", network);\n                    }\n                    this.emit(\"network\", network, null);\n                }\n            }\n            return this._network;\n        });\n    }\n    // This will always return the most recently established network.\n    // For \"any\", this can change (a \"network\" event is emitted before\n    // any change is reflected); otherwise this cannot change\n    get ready() {\n        return poll(() => {\n            return this._ready().then((network) => {\n                return network;\n            }, (error) => {\n                // If the network isn't running yet, we will wait\n                if (error.code === Logger.errors.NETWORK_ERROR && error.event === \"noNetwork\") {\n                    return undefined;\n                }\n                throw error;\n            });\n        });\n    }\n    // @TODO: Remove this and just create a singleton formatter\n    static getFormatter() {\n        if (defaultFormatter == null) {\n            defaultFormatter = new Formatter();\n        }\n        return defaultFormatter;\n    }\n    // @TODO: Remove this and just use getNetwork\n    static getNetwork(network) {\n        return getNetwork((network == null) ? \"homestead\" : network);\n    }\n    ccipReadFetch(tx, calldata, urls) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.disableCcipRead || urls.length === 0) {\n                return null;\n            }\n            const sender = tx.to.toLowerCase();\n            const data = calldata.toLowerCase();\n            const errorMessages = [];\n            for (let i = 0; i < urls.length; i++) {\n                const url = urls[i];\n                // URL expansion\n                const href = url.replace(\"{sender}\", sender).replace(\"{data}\", data);\n                // If no {data} is present, use POST; otherwise GET\n                const json = (url.indexOf(\"{data}\") >= 0) ? null : JSON.stringify({ data, sender });\n                const result = yield fetchJson({ url: href, errorPassThrough: true }, json, (value, response) => {\n                    value.status = response.statusCode;\n                    return value;\n                });\n                if (result.data) {\n                    return result.data;\n                }\n                const errorMessage = (result.message || \"unknown error\");\n                // 4xx indicates the result is not present; stop\n                if (result.status >= 400 && result.status < 500) {\n                    return logger.throwError(`response not found during CCIP fetch: ${errorMessage}`, Logger.errors.SERVER_ERROR, { url, errorMessage });\n                }\n                // 5xx indicates server issue; try the next url\n                errorMessages.push(errorMessage);\n            }\n            return logger.throwError(`error encountered during CCIP fetch: ${errorMessages.map((m) => JSON.stringify(m)).join(\", \")}`, Logger.errors.SERVER_ERROR, {\n                urls, errorMessages\n            });\n        });\n    }\n    // Fetches the blockNumber, but will reuse any result that is less\n    // than maxAge old or has been requested since the last request\n    _getInternalBlockNumber(maxAge) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._ready();\n            // Allowing stale data up to maxAge old\n            if (maxAge > 0) {\n                // While there are pending internal block requests...\n                while (this._internalBlockNumber) {\n                    // ...\"remember\" which fetch we started with\n                    const internalBlockNumber = this._internalBlockNumber;\n                    try {\n                        // Check the result is not too stale\n                        const result = yield internalBlockNumber;\n                        if ((getTime() - result.respTime) <= maxAge) {\n                            return result.blockNumber;\n                        }\n                        // Too old; fetch a new value\n                        break;\n                    }\n                    catch (error) {\n                        // The fetch rejected; if we are the first to get the\n                        // rejection, drop through so we replace it with a new\n                        // fetch; all others blocked will then get that fetch\n                        // which won't match the one they \"remembered\" and loop\n                        if (this._internalBlockNumber === internalBlockNumber) {\n                            break;\n                        }\n                    }\n                }\n            }\n            const reqTime = getTime();\n            const checkInternalBlockNumber = resolveProperties({\n                blockNumber: this.perform(\"getBlockNumber\", {}),\n                networkError: this.getNetwork().then((network) => (null), (error) => (error))\n            }).then(({ blockNumber, networkError }) => {\n                if (networkError) {\n                    // Unremember this bad internal block number\n                    if (this._internalBlockNumber === checkInternalBlockNumber) {\n                        this._internalBlockNumber = null;\n                    }\n                    throw networkError;\n                }\n                const respTime = getTime();\n                blockNumber = BigNumber.from(blockNumber).toNumber();\n                if (blockNumber < this._maxInternalBlockNumber) {\n                    blockNumber = this._maxInternalBlockNumber;\n                }\n                this._maxInternalBlockNumber = blockNumber;\n                this._setFastBlockNumber(blockNumber); // @TODO: Still need this?\n                return { blockNumber, reqTime, respTime };\n            });\n            this._internalBlockNumber = checkInternalBlockNumber;\n            // Swallow unhandled exceptions; if needed they are handled else where\n            checkInternalBlockNumber.catch((error) => {\n                // Don't null the dead (rejected) fetch, if it has already been updated\n                if (this._internalBlockNumber === checkInternalBlockNumber) {\n                    this._internalBlockNumber = null;\n                }\n            });\n            return (yield checkInternalBlockNumber).blockNumber;\n        });\n    }\n    poll() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const pollId = nextPollId++;\n            // Track all running promises, so we can trigger a post-poll once they are complete\n            const runners = [];\n            let blockNumber = null;\n            try {\n                blockNumber = yield this._getInternalBlockNumber(100 + this.pollingInterval / 2);\n            }\n            catch (error) {\n                this.emit(\"error\", error);\n                return;\n            }\n            this._setFastBlockNumber(blockNumber);\n            // Emit a poll event after we have the latest (fast) block number\n            this.emit(\"poll\", pollId, blockNumber);\n            // If the block has not changed, meh.\n            if (blockNumber === this._lastBlockNumber) {\n                this.emit(\"didPoll\", pollId);\n                return;\n            }\n            // First polling cycle, trigger a \"block\" events\n            if (this._emitted.block === -2) {\n                this._emitted.block = blockNumber - 1;\n            }\n            if (Math.abs((this._emitted.block) - blockNumber) > 1000) {\n                logger.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${blockNumber})`);\n                this.emit(\"error\", logger.makeError(\"network block skew detected\", Logger.errors.NETWORK_ERROR, {\n                    blockNumber: blockNumber,\n                    event: \"blockSkew\",\n                    previousBlockNumber: this._emitted.block\n                }));\n                this.emit(\"block\", blockNumber);\n            }\n            else {\n                // Notify all listener for each block that has passed\n                for (let i = this._emitted.block + 1; i <= blockNumber; i++) {\n                    this.emit(\"block\", i);\n                }\n            }\n            // The emitted block was updated, check for obsolete events\n            if (this._emitted.block !== blockNumber) {\n                this._emitted.block = blockNumber;\n                Object.keys(this._emitted).forEach((key) => {\n                    // The block event does not expire\n                    if (key === \"block\") {\n                        return;\n                    }\n                    // The block we were at when we emitted this event\n                    const eventBlockNumber = this._emitted[key];\n                    // We cannot garbage collect pending transactions or blocks here\n                    // They should be garbage collected by the Provider when setting\n                    // \"pending\" events\n                    if (eventBlockNumber === \"pending\") {\n                        return;\n                    }\n                    // Evict any transaction hashes or block hashes over 12 blocks\n                    // old, since they should not return null anyways\n                    if (blockNumber - eventBlockNumber > 12) {\n                        delete this._emitted[key];\n                    }\n                });\n            }\n            // First polling cycle\n            if (this._lastBlockNumber === -2) {\n                this._lastBlockNumber = blockNumber - 1;\n            }\n            // Find all transaction hashes we are waiting on\n            this._events.forEach((event) => {\n                switch (event.type) {\n                    case \"tx\": {\n                        const hash = event.hash;\n                        let runner = this.getTransactionReceipt(hash).then((receipt) => {\n                            if (!receipt || receipt.blockNumber == null) {\n                                return null;\n                            }\n                            this._emitted[\"t:\" + hash] = receipt.blockNumber;\n                            this.emit(hash, receipt);\n                            return null;\n                        }).catch((error) => { this.emit(\"error\", error); });\n                        runners.push(runner);\n                        break;\n                    }\n                    case \"filter\": {\n                        // We only allow a single getLogs to be in-flight at a time\n                        if (!event._inflight) {\n                            event._inflight = true;\n                            // This is the first filter for this event, so we want to\n                            // restrict events to events that happened no earlier than now\n                            if (event._lastBlockNumber === -2) {\n                                event._lastBlockNumber = blockNumber - 1;\n                            }\n                            // Filter from the last *known* event; due to load-balancing\n                            // and some nodes returning updated block numbers before\n                            // indexing events, a logs result with 0 entries cannot be\n                            // trusted and we must retry a range which includes it again\n                            const filter = event.filter;\n                            filter.fromBlock = event._lastBlockNumber + 1;\n                            filter.toBlock = blockNumber;\n                            // Prevent fitler ranges from growing too wild, since it is quite\n                            // likely there just haven't been any events to move the lastBlockNumber.\n                            const minFromBlock = filter.toBlock - this._maxFilterBlockRange;\n                            if (minFromBlock > filter.fromBlock) {\n                                filter.fromBlock = minFromBlock;\n                            }\n                            if (filter.fromBlock < 0) {\n                                filter.fromBlock = 0;\n                            }\n                            const runner = this.getLogs(filter).then((logs) => {\n                                // Allow the next getLogs\n                                event._inflight = false;\n                                if (logs.length === 0) {\n                                    return;\n                                }\n                                logs.forEach((log) => {\n                                    // Only when we get an event for a given block number\n                                    // can we trust the events are indexed\n                                    if (log.blockNumber > event._lastBlockNumber) {\n                                        event._lastBlockNumber = log.blockNumber;\n                                    }\n                                    // Make sure we stall requests to fetch blocks and txs\n                                    this._emitted[\"b:\" + log.blockHash] = log.blockNumber;\n                                    this._emitted[\"t:\" + log.transactionHash] = log.blockNumber;\n                                    this.emit(filter, log);\n                                });\n                            }).catch((error) => {\n                                this.emit(\"error\", error);\n                                // Allow another getLogs (the range was not updated)\n                                event._inflight = false;\n                            });\n                            runners.push(runner);\n                        }\n                        break;\n                    }\n                }\n            });\n            this._lastBlockNumber = blockNumber;\n            // Once all events for this loop have been processed, emit \"didPoll\"\n            Promise.all(runners).then(() => {\n                this.emit(\"didPoll\", pollId);\n            }).catch((error) => { this.emit(\"error\", error); });\n            return;\n        });\n    }\n    // Deprecated; do not use this\n    resetEventsBlock(blockNumber) {\n        this._lastBlockNumber = blockNumber - 1;\n        if (this.polling) {\n            this.poll();\n        }\n    }\n    get network() {\n        return this._network;\n    }\n    // This method should query the network if the underlying network\n    // can change, such as when connected to a JSON-RPC backend\n    detectNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return logger.throwError(\"provider does not support network detection\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"provider.detectNetwork\"\n            });\n        });\n    }\n    getNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const network = yield this._ready();\n            // Make sure we are still connected to the same network; this is\n            // only an external call for backends which can have the underlying\n            // network change spontaneously\n            const currentNetwork = yield this.detectNetwork();\n            if (network.chainId !== currentNetwork.chainId) {\n                // We are allowing network changes, things can get complex fast;\n                // make sure you know what you are doing if you use \"any\"\n                if (this.anyNetwork) {\n                    this._network = currentNetwork;\n                    // Reset all internal block number guards and caches\n                    this._lastBlockNumber = -2;\n                    this._fastBlockNumber = null;\n                    this._fastBlockNumberPromise = null;\n                    this._fastQueryDate = 0;\n                    this._emitted.block = -2;\n                    this._maxInternalBlockNumber = -1024;\n                    this._internalBlockNumber = null;\n                    // The \"network\" event MUST happen before this method resolves\n                    // so any events have a chance to unregister, so we stall an\n                    // additional event loop before returning from /this/ call\n                    this.emit(\"network\", currentNetwork, network);\n                    yield stall(0);\n                    return this._network;\n                }\n                const error = logger.makeError(\"underlying network changed\", Logger.errors.NETWORK_ERROR, {\n                    event: \"changed\",\n                    network: network,\n                    detectedNetwork: currentNetwork\n                });\n                this.emit(\"error\", error);\n                throw error;\n            }\n            return network;\n        });\n    }\n    get blockNumber() {\n        this._getInternalBlockNumber(100 + this.pollingInterval / 2).then((blockNumber) => {\n            this._setFastBlockNumber(blockNumber);\n        }, (error) => { });\n        return (this._fastBlockNumber != null) ? this._fastBlockNumber : -1;\n    }\n    get polling() {\n        return (this._poller != null);\n    }\n    set polling(value) {\n        if (value && !this._poller) {\n            this._poller = setInterval(() => { this.poll(); }, this.pollingInterval);\n            if (!this._bootstrapPoll) {\n                this._bootstrapPoll = setTimeout(() => {\n                    this.poll();\n                    // We block additional polls until the polling interval\n                    // is done, to prevent overwhelming the poll function\n                    this._bootstrapPoll = setTimeout(() => {\n                        // If polling was disabled, something may require a poke\n                        // since starting the bootstrap poll and it was disabled\n                        if (!this._poller) {\n                            this.poll();\n                        }\n                        // Clear out the bootstrap so we can do another\n                        this._bootstrapPoll = null;\n                    }, this.pollingInterval);\n                }, 0);\n            }\n        }\n        else if (!value && this._poller) {\n            clearInterval(this._poller);\n            this._poller = null;\n        }\n    }\n    get pollingInterval() {\n        return this._pollingInterval;\n    }\n    set pollingInterval(value) {\n        if (typeof (value) !== \"number\" || value <= 0 || parseInt(String(value)) != value) {\n            throw new Error(\"invalid polling interval\");\n        }\n        this._pollingInterval = value;\n        if (this._poller) {\n            clearInterval(this._poller);\n            this._poller = setInterval(() => { this.poll(); }, this._pollingInterval);\n        }\n    }\n    _getFastBlockNumber() {\n        const now = getTime();\n        // Stale block number, request a newer value\n        if ((now - this._fastQueryDate) > 2 * this._pollingInterval) {\n            this._fastQueryDate = now;\n            this._fastBlockNumberPromise = this.getBlockNumber().then((blockNumber) => {\n                if (this._fastBlockNumber == null || blockNumber > this._fastBlockNumber) {\n                    this._fastBlockNumber = blockNumber;\n                }\n                return this._fastBlockNumber;\n            });\n        }\n        return this._fastBlockNumberPromise;\n    }\n    _setFastBlockNumber(blockNumber) {\n        // Older block, maybe a stale request\n        if (this._fastBlockNumber != null && blockNumber < this._fastBlockNumber) {\n            return;\n        }\n        // Update the time we updated the blocknumber\n        this._fastQueryDate = getTime();\n        // Newer block number, use  it\n        if (this._fastBlockNumber == null || blockNumber > this._fastBlockNumber) {\n            this._fastBlockNumber = blockNumber;\n            this._fastBlockNumberPromise = Promise.resolve(blockNumber);\n        }\n    }\n    waitForTransaction(transactionHash, confirmations, timeout) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._waitForTransaction(transactionHash, (confirmations == null) ? 1 : confirmations, timeout || 0, null);\n        });\n    }\n    _waitForTransaction(transactionHash, confirmations, timeout, replaceable) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const receipt = yield this.getTransactionReceipt(transactionHash);\n            // Receipt is already good\n            if ((receipt ? receipt.confirmations : 0) >= confirmations) {\n                return receipt;\n            }\n            // Poll until the receipt is good...\n            return new Promise((resolve, reject) => {\n                const cancelFuncs = [];\n                let done = false;\n                const alreadyDone = function () {\n                    if (done) {\n                        return true;\n                    }\n                    done = true;\n                    cancelFuncs.forEach((func) => { func(); });\n                    return false;\n                };\n                const minedHandler = (receipt) => {\n                    if (receipt.confirmations < confirmations) {\n                        return;\n                    }\n                    if (alreadyDone()) {\n                        return;\n                    }\n                    resolve(receipt);\n                };\n                this.on(transactionHash, minedHandler);\n                cancelFuncs.push(() => { this.removeListener(transactionHash, minedHandler); });\n                if (replaceable) {\n                    let lastBlockNumber = replaceable.startBlock;\n                    let scannedBlock = null;\n                    const replaceHandler = (blockNumber) => __awaiter(this, void 0, void 0, function* () {\n                        if (done) {\n                            return;\n                        }\n                        // Wait 1 second; this is only used in the case of a fault, so\n                        // we will trade off a little bit of latency for more consistent\n                        // results and fewer JSON-RPC calls\n                        yield stall(1000);\n                        this.getTransactionCount(replaceable.from).then((nonce) => __awaiter(this, void 0, void 0, function* () {\n                            if (done) {\n                                return;\n                            }\n                            if (nonce <= replaceable.nonce) {\n                                lastBlockNumber = blockNumber;\n                            }\n                            else {\n                                // First check if the transaction was mined\n                                {\n                                    const mined = yield this.getTransaction(transactionHash);\n                                    if (mined && mined.blockNumber != null) {\n                                        return;\n                                    }\n                                }\n                                // First time scanning. We start a little earlier for some\n                                // wiggle room here to handle the eventually consistent nature\n                                // of blockchain (e.g. the getTransactionCount was for a\n                                // different block)\n                                if (scannedBlock == null) {\n                                    scannedBlock = lastBlockNumber - 3;\n                                    if (scannedBlock < replaceable.startBlock) {\n                                        scannedBlock = replaceable.startBlock;\n                                    }\n                                }\n                                while (scannedBlock <= blockNumber) {\n                                    if (done) {\n                                        return;\n                                    }\n                                    const block = yield this.getBlockWithTransactions(scannedBlock);\n                                    for (let ti = 0; ti < block.transactions.length; ti++) {\n                                        const tx = block.transactions[ti];\n                                        // Successfully mined!\n                                        if (tx.hash === transactionHash) {\n                                            return;\n                                        }\n                                        // Matches our transaction from and nonce; its a replacement\n                                        if (tx.from === replaceable.from && tx.nonce === replaceable.nonce) {\n                                            if (done) {\n                                                return;\n                                            }\n                                            // Get the receipt of the replacement\n                                            const receipt = yield this.waitForTransaction(tx.hash, confirmations);\n                                            // Already resolved or rejected (prolly a timeout)\n                                            if (alreadyDone()) {\n                                                return;\n                                            }\n                                            // The reason we were replaced\n                                            let reason = \"replaced\";\n                                            if (tx.data === replaceable.data && tx.to === replaceable.to && tx.value.eq(replaceable.value)) {\n                                                reason = \"repriced\";\n                                            }\n                                            else if (tx.data === \"0x\" && tx.from === tx.to && tx.value.isZero()) {\n                                                reason = \"cancelled\";\n                                            }\n                                            // Explain why we were replaced\n                                            reject(logger.makeError(\"transaction was replaced\", Logger.errors.TRANSACTION_REPLACED, {\n                                                cancelled: (reason === \"replaced\" || reason === \"cancelled\"),\n                                                reason,\n                                                replacement: this._wrapTransaction(tx),\n                                                hash: transactionHash,\n                                                receipt\n                                            }));\n                                            return;\n                                        }\n                                    }\n                                    scannedBlock++;\n                                }\n                            }\n                            if (done) {\n                                return;\n                            }\n                            this.once(\"block\", replaceHandler);\n                        }), (error) => {\n                            if (done) {\n                                return;\n                            }\n                            this.once(\"block\", replaceHandler);\n                        });\n                    });\n                    if (done) {\n                        return;\n                    }\n                    this.once(\"block\", replaceHandler);\n                    cancelFuncs.push(() => {\n                        this.removeListener(\"block\", replaceHandler);\n                    });\n                }\n                if (typeof (timeout) === \"number\" && timeout > 0) {\n                    const timer = setTimeout(() => {\n                        if (alreadyDone()) {\n                            return;\n                        }\n                        reject(logger.makeError(\"timeout exceeded\", Logger.errors.TIMEOUT, { timeout: timeout }));\n                    }, timeout);\n                    if (timer.unref) {\n                        timer.unref();\n                    }\n                    cancelFuncs.push(() => { clearTimeout(timer); });\n                }\n            });\n        });\n    }\n    getBlockNumber() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._getInternalBlockNumber(0);\n        });\n    }\n    getGasPrice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const result = yield this.perform(\"getGasPrice\", {});\n            try {\n                return BigNumber.from(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getGasPrice\",\n                    result, error\n                });\n            }\n        });\n    }\n    getBalance(addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag)\n            });\n            const result = yield this.perform(\"getBalance\", params);\n            try {\n                return BigNumber.from(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getBalance\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    getTransactionCount(addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag)\n            });\n            const result = yield this.perform(\"getTransactionCount\", params);\n            try {\n                return BigNumber.from(result).toNumber();\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getTransactionCount\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    getCode(addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag)\n            });\n            const result = yield this.perform(\"getCode\", params);\n            try {\n                return hexlify(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getCode\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    getStorageAt(addressOrName, position, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag),\n                position: Promise.resolve(position).then((p) => hexValue(p))\n            });\n            const result = yield this.perform(\"getStorageAt\", params);\n            try {\n                return hexlify(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getStorageAt\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    // This should be called by any subclass wrapping a TransactionResponse\n    _wrapTransaction(tx, hash, startBlock) {\n        if (hash != null && hexDataLength(hash) !== 32) {\n            throw new Error(\"invalid response - sendTransaction\");\n        }\n        const result = tx;\n        // Check the hash we expect is the same as the hash the server reported\n        if (hash != null && tx.hash !== hash) {\n            logger.throwError(\"Transaction hash mismatch from Provider.sendTransaction.\", Logger.errors.UNKNOWN_ERROR, { expectedHash: tx.hash, returnedHash: hash });\n        }\n        result.wait = (confirms, timeout) => __awaiter(this, void 0, void 0, function* () {\n            if (confirms == null) {\n                confirms = 1;\n            }\n            if (timeout == null) {\n                timeout = 0;\n            }\n            // Get the details to detect replacement\n            let replacement = undefined;\n            if (confirms !== 0 && startBlock != null) {\n                replacement = {\n                    data: tx.data,\n                    from: tx.from,\n                    nonce: tx.nonce,\n                    to: tx.to,\n                    value: tx.value,\n                    startBlock\n                };\n            }\n            const receipt = yield this._waitForTransaction(tx.hash, confirms, timeout, replacement);\n            if (receipt == null && confirms === 0) {\n                return null;\n            }\n            // No longer pending, allow the polling loop to garbage collect this\n            this._emitted[\"t:\" + tx.hash] = receipt.blockNumber;\n            if (receipt.status === 0) {\n                logger.throwError(\"transaction failed\", Logger.errors.CALL_EXCEPTION, {\n                    transactionHash: tx.hash,\n                    transaction: tx,\n                    receipt: receipt\n                });\n            }\n            return receipt;\n        });\n        return result;\n    }\n    sendTransaction(signedTransaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const hexTx = yield Promise.resolve(signedTransaction).then(t => hexlify(t));\n            const tx = this.formatter.transaction(signedTransaction);\n            if (tx.confirmations == null) {\n                tx.confirmations = 0;\n            }\n            const blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n            try {\n                const hash = yield this.perform(\"sendTransaction\", { signedTransaction: hexTx });\n                return this._wrapTransaction(tx, hash, blockNumber);\n            }\n            catch (error) {\n                error.transaction = tx;\n                error.transactionHash = tx.hash;\n                throw error;\n            }\n        });\n    }\n    _getTransactionRequest(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const values = yield transaction;\n            const tx = {};\n            [\"from\", \"to\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => (v ? this._getAddress(v) : null));\n            });\n            [\"gasLimit\", \"gasPrice\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"value\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => (v ? BigNumber.from(v) : null));\n            });\n            [\"type\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => ((v != null) ? v : null));\n            });\n            if (values.accessList) {\n                tx.accessList = this.formatter.accessList(values.accessList);\n            }\n            [\"data\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => (v ? hexlify(v) : null));\n            });\n            return this.formatter.transactionRequest(yield resolveProperties(tx));\n        });\n    }\n    _getFilter(filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            filter = yield filter;\n            const result = {};\n            if (filter.address != null) {\n                result.address = this._getAddress(filter.address);\n            }\n            [\"blockHash\", \"topics\"].forEach((key) => {\n                if (filter[key] == null) {\n                    return;\n                }\n                result[key] = filter[key];\n            });\n            [\"fromBlock\", \"toBlock\"].forEach((key) => {\n                if (filter[key] == null) {\n                    return;\n                }\n                result[key] = this._getBlockTag(filter[key]);\n            });\n            return this.formatter.filter(yield resolveProperties(result));\n        });\n    }\n    _call(transaction, blockTag, attempt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (attempt >= MAX_CCIP_REDIRECTS) {\n                logger.throwError(\"CCIP read exceeded maximum redirections\", Logger.errors.SERVER_ERROR, {\n                    redirects: attempt, transaction\n                });\n            }\n            const txSender = transaction.to;\n            const result = yield this.perform(\"call\", { transaction, blockTag });\n            // CCIP Read request via OffchainLookup(address,string[],bytes,bytes4,bytes)\n            if (attempt >= 0 && blockTag === \"latest\" && txSender != null && result.substring(0, 10) === \"0x556f1830\" && (hexDataLength(result) % 32 === 4)) {\n                try {\n                    const data = hexDataSlice(result, 4);\n                    // Check the sender of the OffchainLookup matches the transaction\n                    const sender = hexDataSlice(data, 0, 32);\n                    if (!BigNumber.from(sender).eq(txSender)) {\n                        logger.throwError(\"CCIP Read sender did not match\", Logger.errors.CALL_EXCEPTION, {\n                            name: \"OffchainLookup\",\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                            transaction, data: result\n                        });\n                    }\n                    // Read the URLs from the response\n                    const urls = [];\n                    const urlsOffset = BigNumber.from(hexDataSlice(data, 32, 64)).toNumber();\n                    const urlsLength = BigNumber.from(hexDataSlice(data, urlsOffset, urlsOffset + 32)).toNumber();\n                    const urlsData = hexDataSlice(data, urlsOffset + 32);\n                    for (let u = 0; u < urlsLength; u++) {\n                        const url = _parseString(urlsData, u * 32);\n                        if (url == null) {\n                            logger.throwError(\"CCIP Read contained corrupt URL string\", Logger.errors.CALL_EXCEPTION, {\n                                name: \"OffchainLookup\",\n                                signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                                transaction, data: result\n                            });\n                        }\n                        urls.push(url);\n                    }\n                    // Get the CCIP calldata to forward\n                    const calldata = _parseBytes(data, 64);\n                    // Get the callbackSelector (bytes4)\n                    if (!BigNumber.from(hexDataSlice(data, 100, 128)).isZero()) {\n                        logger.throwError(\"CCIP Read callback selector included junk\", Logger.errors.CALL_EXCEPTION, {\n                            name: \"OffchainLookup\",\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                            transaction, data: result\n                        });\n                    }\n                    const callbackSelector = hexDataSlice(data, 96, 100);\n                    // Get the extra data to send back to the contract as context\n                    const extraData = _parseBytes(data, 128);\n                    const ccipResult = yield this.ccipReadFetch(transaction, calldata, urls);\n                    if (ccipResult == null) {\n                        logger.throwError(\"CCIP Read disabled or provided no URLs\", Logger.errors.CALL_EXCEPTION, {\n                            name: \"OffchainLookup\",\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                            transaction, data: result\n                        });\n                    }\n                    const tx = {\n                        to: txSender,\n                        data: hexConcat([callbackSelector, encodeBytes([ccipResult, extraData])])\n                    };\n                    return this._call(tx, blockTag, attempt + 1);\n                }\n                catch (error) {\n                    if (error.code === Logger.errors.SERVER_ERROR) {\n                        throw error;\n                    }\n                }\n            }\n            try {\n                return hexlify(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"call\",\n                    params: { transaction, blockTag }, result, error\n                });\n            }\n        });\n    }\n    call(transaction, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const resolved = yield resolveProperties({\n                transaction: this._getTransactionRequest(transaction),\n                blockTag: this._getBlockTag(blockTag),\n                ccipReadEnabled: Promise.resolve(transaction.ccipReadEnabled)\n            });\n            return this._call(resolved.transaction, resolved.blockTag, resolved.ccipReadEnabled ? 0 : -1);\n        });\n    }\n    estimateGas(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                transaction: this._getTransactionRequest(transaction)\n            });\n            const result = yield this.perform(\"estimateGas\", params);\n            try {\n                return BigNumber.from(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"estimateGas\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    _getAddress(addressOrName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            addressOrName = yield addressOrName;\n            if (typeof (addressOrName) !== \"string\") {\n                logger.throwArgumentError(\"invalid address or ENS name\", \"name\", addressOrName);\n            }\n            const address = yield this.resolveName(addressOrName);\n            if (address == null) {\n                logger.throwError(\"ENS name not configured\", Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: `resolveName(${JSON.stringify(addressOrName)})`\n                });\n            }\n            return address;\n        });\n    }\n    _getBlock(blockHashOrBlockTag, includeTransactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            blockHashOrBlockTag = yield blockHashOrBlockTag;\n            // If blockTag is a number (not \"latest\", etc), this is the block number\n            let blockNumber = -128;\n            const params = {\n                includeTransactions: !!includeTransactions\n            };\n            if (isHexString(blockHashOrBlockTag, 32)) {\n                params.blockHash = blockHashOrBlockTag;\n            }\n            else {\n                try {\n                    params.blockTag = yield this._getBlockTag(blockHashOrBlockTag);\n                    if (isHexString(params.blockTag)) {\n                        blockNumber = parseInt(params.blockTag.substring(2), 16);\n                    }\n                }\n                catch (error) {\n                    logger.throwArgumentError(\"invalid block hash or block tag\", \"blockHashOrBlockTag\", blockHashOrBlockTag);\n                }\n            }\n            return poll(() => __awaiter(this, void 0, void 0, function* () {\n                const block = yield this.perform(\"getBlock\", params);\n                // Block was not found\n                if (block == null) {\n                    // For blockhashes, if we didn't say it existed, that blockhash may\n                    // not exist. If we did see it though, perhaps from a log, we know\n                    // it exists, and this node is just not caught up yet.\n                    if (params.blockHash != null) {\n                        if (this._emitted[\"b:\" + params.blockHash] == null) {\n                            return null;\n                        }\n                    }\n                    // For block tags, if we are asking for a future block, we return null\n                    if (params.blockTag != null) {\n                        if (blockNumber > this._emitted.block) {\n                            return null;\n                        }\n                    }\n                    // Retry on the next block\n                    return undefined;\n                }\n                // Add transactions\n                if (includeTransactions) {\n                    let blockNumber = null;\n                    for (let i = 0; i < block.transactions.length; i++) {\n                        const tx = block.transactions[i];\n                        if (tx.blockNumber == null) {\n                            tx.confirmations = 0;\n                        }\n                        else if (tx.confirmations == null) {\n                            if (blockNumber == null) {\n                                blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                            }\n                            // Add the confirmations using the fast block number (pessimistic)\n                            let confirmations = (blockNumber - tx.blockNumber) + 1;\n                            if (confirmations <= 0) {\n                                confirmations = 1;\n                            }\n                            tx.confirmations = confirmations;\n                        }\n                    }\n                    const blockWithTxs = this.formatter.blockWithTransactions(block);\n                    blockWithTxs.transactions = blockWithTxs.transactions.map((tx) => this._wrapTransaction(tx));\n                    return blockWithTxs;\n                }\n                return this.formatter.block(block);\n            }), { oncePoll: this });\n        });\n    }\n    getBlock(blockHashOrBlockTag) {\n        return (this._getBlock(blockHashOrBlockTag, false));\n    }\n    getBlockWithTransactions(blockHashOrBlockTag) {\n        return (this._getBlock(blockHashOrBlockTag, true));\n    }\n    getTransaction(transactionHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            transactionHash = yield transactionHash;\n            const params = { transactionHash: this.formatter.hash(transactionHash, true) };\n            return poll(() => __awaiter(this, void 0, void 0, function* () {\n                const result = yield this.perform(\"getTransaction\", params);\n                if (result == null) {\n                    if (this._emitted[\"t:\" + transactionHash] == null) {\n                        return null;\n                    }\n                    return undefined;\n                }\n                const tx = this.formatter.transactionResponse(result);\n                if (tx.blockNumber == null) {\n                    tx.confirmations = 0;\n                }\n                else if (tx.confirmations == null) {\n                    const blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                    // Add the confirmations using the fast block number (pessimistic)\n                    let confirmations = (blockNumber - tx.blockNumber) + 1;\n                    if (confirmations <= 0) {\n                        confirmations = 1;\n                    }\n                    tx.confirmations = confirmations;\n                }\n                return this._wrapTransaction(tx);\n            }), { oncePoll: this });\n        });\n    }\n    getTransactionReceipt(transactionHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            transactionHash = yield transactionHash;\n            const params = { transactionHash: this.formatter.hash(transactionHash, true) };\n            return poll(() => __awaiter(this, void 0, void 0, function* () {\n                const result = yield this.perform(\"getTransactionReceipt\", params);\n                if (result == null) {\n                    if (this._emitted[\"t:\" + transactionHash] == null) {\n                        return null;\n                    }\n                    return undefined;\n                }\n                // \"geth-etc\" returns receipts before they are ready\n                if (result.blockHash == null) {\n                    return undefined;\n                }\n                const receipt = this.formatter.receipt(result);\n                if (receipt.blockNumber == null) {\n                    receipt.confirmations = 0;\n                }\n                else if (receipt.confirmations == null) {\n                    const blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                    // Add the confirmations using the fast block number (pessimistic)\n                    let confirmations = (blockNumber - receipt.blockNumber) + 1;\n                    if (confirmations <= 0) {\n                        confirmations = 1;\n                    }\n                    receipt.confirmations = confirmations;\n                }\n                return receipt;\n            }), { oncePoll: this });\n        });\n    }\n    getLogs(filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({ filter: this._getFilter(filter) });\n            const logs = yield this.perform(\"getLogs\", params);\n            logs.forEach((log) => {\n                if (log.removed == null) {\n                    log.removed = false;\n                }\n            });\n            return Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(logs);\n        });\n    }\n    getEtherPrice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            return this.perform(\"getEtherPrice\", {});\n        });\n    }\n    _getBlockTag(blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            blockTag = yield blockTag;\n            if (typeof (blockTag) === \"number\" && blockTag < 0) {\n                if (blockTag % 1) {\n                    logger.throwArgumentError(\"invalid BlockTag\", \"blockTag\", blockTag);\n                }\n                let blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                blockNumber += blockTag;\n                if (blockNumber < 0) {\n                    blockNumber = 0;\n                }\n                return this.formatter.blockTag(blockNumber);\n            }\n            return this.formatter.blockTag(blockTag);\n        });\n    }\n    getResolver(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let currentName = name;\n            while (true) {\n                if (currentName === \"\" || currentName === \".\") {\n                    return null;\n                }\n                // Optimization since the eth node cannot change and does\n                // not have a wildcard resolver\n                if (name !== \"eth\" && currentName === \"eth\") {\n                    return null;\n                }\n                // Check the current node for a resolver\n                const addr = yield this._getResolver(currentName, \"getResolver\");\n                // Found a resolver!\n                if (addr != null) {\n                    const resolver = new Resolver(this, addr, name);\n                    // Legacy resolver found, using EIP-2544 so it isn't safe to use\n                    if (currentName !== name && !(yield resolver.supportsWildcard())) {\n                        return null;\n                    }\n                    return resolver;\n                }\n                // Get the parent node\n                currentName = currentName.split(\".\").slice(1).join(\".\");\n            }\n        });\n    }\n    _getResolver(name, operation) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (operation == null) {\n                operation = \"ENS\";\n            }\n            const network = yield this.getNetwork();\n            // No ENS...\n            if (!network.ensAddress) {\n                logger.throwError(\"network does not support ENS\", Logger.errors.UNSUPPORTED_OPERATION, { operation, network: network.name });\n            }\n            try {\n                // keccak256(\"resolver(bytes32)\")\n                const addrData = yield this.call({\n                    to: network.ensAddress,\n                    data: (\"0x0178b8bf\" + namehash(name).substring(2))\n                });\n                return this.formatter.callAddress(addrData);\n            }\n            catch (error) {\n                // ENS registry cannot throw errors on resolver(bytes32)\n            }\n            return null;\n        });\n    }\n    resolveName(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            name = yield name;\n            // If it is already an address, nothing to resolve\n            try {\n                return Promise.resolve(this.formatter.address(name));\n            }\n            catch (error) {\n                // If is is a hexstring, the address is bad (See #694)\n                if (isHexString(name)) {\n                    throw error;\n                }\n            }\n            if (typeof (name) !== \"string\") {\n                logger.throwArgumentError(\"invalid ENS name\", \"name\", name);\n            }\n            // Get the addr from the resolver\n            const resolver = yield this.getResolver(name);\n            if (!resolver) {\n                return null;\n            }\n            return yield resolver.getAddress();\n        });\n    }\n    lookupAddress(address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            address = yield address;\n            address = this.formatter.address(address);\n            const node = address.substring(2).toLowerCase() + \".addr.reverse\";\n            const resolverAddr = yield this._getResolver(node, \"lookupAddress\");\n            if (resolverAddr == null) {\n                return null;\n            }\n            // keccak(\"name(bytes32)\")\n            const name = _parseString(yield this.call({\n                to: resolverAddr,\n                data: (\"0x691f3431\" + namehash(node).substring(2))\n            }), 0);\n            const addr = yield this.resolveName(name);\n            if (addr != address) {\n                return null;\n            }\n            return name;\n        });\n    }\n    getAvatar(nameOrAddress) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let resolver = null;\n            if (isHexString(nameOrAddress)) {\n                // Address; reverse lookup\n                const address = this.formatter.address(nameOrAddress);\n                const node = address.substring(2).toLowerCase() + \".addr.reverse\";\n                const resolverAddress = yield this._getResolver(node, \"getAvatar\");\n                if (!resolverAddress) {\n                    return null;\n                }\n                // Try resolving the avatar against the addr.reverse resolver\n                resolver = new Resolver(this, resolverAddress, node);\n                try {\n                    const avatar = yield resolver.getAvatar();\n                    if (avatar) {\n                        return avatar.url;\n                    }\n                }\n                catch (error) {\n                    if (error.code !== Logger.errors.CALL_EXCEPTION) {\n                        throw error;\n                    }\n                }\n                // Try getting the name and performing forward lookup; allowing wildcards\n                try {\n                    // keccak(\"name(bytes32)\")\n                    const name = _parseString(yield this.call({\n                        to: resolverAddress,\n                        data: (\"0x691f3431\" + namehash(node).substring(2))\n                    }), 0);\n                    resolver = yield this.getResolver(name);\n                }\n                catch (error) {\n                    if (error.code !== Logger.errors.CALL_EXCEPTION) {\n                        throw error;\n                    }\n                    return null;\n                }\n            }\n            else {\n                // ENS name; forward lookup with wildcard\n                resolver = yield this.getResolver(nameOrAddress);\n                if (!resolver) {\n                    return null;\n                }\n            }\n            const avatar = yield resolver.getAvatar();\n            if (avatar == null) {\n                return null;\n            }\n            return avatar.url;\n        });\n    }\n    perform(method, params) {\n        return logger.throwError(method + \" not implemented\", Logger.errors.NOT_IMPLEMENTED, { operation: method });\n    }\n    _startEvent(event) {\n        this.polling = (this._events.filter((e) => e.pollable()).length > 0);\n    }\n    _stopEvent(event) {\n        this.polling = (this._events.filter((e) => e.pollable()).length > 0);\n    }\n    _addEventListener(eventName, listener, once) {\n        const event = new Event(getEventTag(eventName), listener, once);\n        this._events.push(event);\n        this._startEvent(event);\n        return this;\n    }\n    on(eventName, listener) {\n        return this._addEventListener(eventName, listener, false);\n    }\n    once(eventName, listener) {\n        return this._addEventListener(eventName, listener, true);\n    }\n    emit(eventName, ...args) {\n        let result = false;\n        let stopped = [];\n        let eventTag = getEventTag(eventName);\n        this._events = this._events.filter((event) => {\n            if (event.tag !== eventTag) {\n                return true;\n            }\n            setTimeout(() => {\n                event.listener.apply(this, args);\n            }, 0);\n            result = true;\n            if (event.once) {\n                stopped.push(event);\n                return false;\n            }\n            return true;\n        });\n        stopped.forEach((event) => { this._stopEvent(event); });\n        return result;\n    }\n    listenerCount(eventName) {\n        if (!eventName) {\n            return this._events.length;\n        }\n        let eventTag = getEventTag(eventName);\n        return this._events.filter((event) => {\n            return (event.tag === eventTag);\n        }).length;\n    }\n    listeners(eventName) {\n        if (eventName == null) {\n            return this._events.map((event) => event.listener);\n        }\n        let eventTag = getEventTag(eventName);\n        return this._events\n            .filter((event) => (event.tag === eventTag))\n            .map((event) => event.listener);\n    }\n    off(eventName, listener) {\n        if (listener == null) {\n            return this.removeAllListeners(eventName);\n        }\n        const stopped = [];\n        let found = false;\n        let eventTag = getEventTag(eventName);\n        this._events = this._events.filter((event) => {\n            if (event.tag !== eventTag || event.listener != listener) {\n                return true;\n            }\n            if (found) {\n                return true;\n            }\n            found = true;\n            stopped.push(event);\n            return false;\n        });\n        stopped.forEach((event) => { this._stopEvent(event); });\n        return this;\n    }\n    removeAllListeners(eventName) {\n        let stopped = [];\n        if (eventName == null) {\n            stopped = this._events;\n            this._events = [];\n        }\n        else {\n            const eventTag = getEventTag(eventName);\n            this._events = this._events.filter((event) => {\n                if (event.tag !== eventTag) {\n                    return true;\n                }\n                stopped.push(event);\n                return false;\n            });\n        }\n        stopped.forEach((event) => { this._stopEvent(event); });\n        return this;\n    }\n}\n//# sourceMappingURL=base-provider.js.map","export const HashZero = \"0x0000000000000000000000000000000000000000000000000000000000000000\";\n//# sourceMappingURL=hashes.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { defineReadOnly, resolveProperties, shallowCopy } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nconst allowedTransactionKeys = [\n    \"accessList\", \"ccipReadEnabled\", \"chainId\", \"customData\", \"data\", \"from\", \"gasLimit\", \"gasPrice\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"nonce\", \"to\", \"type\", \"value\"\n];\nconst forwardErrors = [\n    Logger.errors.INSUFFICIENT_FUNDS,\n    Logger.errors.NONCE_EXPIRED,\n    Logger.errors.REPLACEMENT_UNDERPRICED,\n];\n;\n;\nexport class Signer {\n    ///////////////////\n    // Sub-classes MUST call super\n    constructor() {\n        logger.checkAbstract(new.target, Signer);\n        defineReadOnly(this, \"_isSigner\", true);\n    }\n    ///////////////////\n    // Sub-classes MAY override these\n    getBalance(blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._checkProvider(\"getBalance\");\n            return yield this.provider.getBalance(this.getAddress(), blockTag);\n        });\n    }\n    getTransactionCount(blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._checkProvider(\"getTransactionCount\");\n            return yield this.provider.getTransactionCount(this.getAddress(), blockTag);\n        });\n    }\n    // Populates \"from\" if unspecified, and estimates the gas for the transaction\n    estimateGas(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._checkProvider(\"estimateGas\");\n            const tx = yield resolveProperties(this.checkTransaction(transaction));\n            return yield this.provider.estimateGas(tx);\n        });\n    }\n    // Populates \"from\" if unspecified, and calls with the transaction\n    call(transaction, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._checkProvider(\"call\");\n            const tx = yield resolveProperties(this.checkTransaction(transaction));\n            return yield this.provider.call(tx, blockTag);\n        });\n    }\n    // Populates all fields in a transaction, signs it and sends it to the network\n    sendTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._checkProvider(\"sendTransaction\");\n            const tx = yield this.populateTransaction(transaction);\n            const signedTx = yield this.signTransaction(tx);\n            return yield this.provider.sendTransaction(signedTx);\n        });\n    }\n    getChainId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._checkProvider(\"getChainId\");\n            const network = yield this.provider.getNetwork();\n            return network.chainId;\n        });\n    }\n    getGasPrice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._checkProvider(\"getGasPrice\");\n            return yield this.provider.getGasPrice();\n        });\n    }\n    getFeeData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._checkProvider(\"getFeeData\");\n            return yield this.provider.getFeeData();\n        });\n    }\n    resolveName(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._checkProvider(\"resolveName\");\n            return yield this.provider.resolveName(name);\n        });\n    }\n    // Checks a transaction does not contain invalid keys and if\n    // no \"from\" is provided, populates it.\n    // - does NOT require a provider\n    // - adds \"from\" is not present\n    // - returns a COPY (safe to mutate the result)\n    // By default called from: (overriding these prevents it)\n    //   - call\n    //   - estimateGas\n    //   - populateTransaction (and therefor sendTransaction)\n    checkTransaction(transaction) {\n        for (const key in transaction) {\n            if (allowedTransactionKeys.indexOf(key) === -1) {\n                logger.throwArgumentError(\"invalid transaction key: \" + key, \"transaction\", transaction);\n            }\n        }\n        const tx = shallowCopy(transaction);\n        if (tx.from == null) {\n            tx.from = this.getAddress();\n        }\n        else {\n            // Make sure any provided address matches this signer\n            tx.from = Promise.all([\n                Promise.resolve(tx.from),\n                this.getAddress()\n            ]).then((result) => {\n                if (result[0].toLowerCase() !== result[1].toLowerCase()) {\n                    logger.throwArgumentError(\"from address mismatch\", \"transaction\", transaction);\n                }\n                return result[0];\n            });\n        }\n        return tx;\n    }\n    // Populates ALL keys for a transaction and checks that \"from\" matches\n    // this Signer. Should be used by sendTransaction but NOT by signTransaction.\n    // By default called from: (overriding these prevents it)\n    //   - sendTransaction\n    //\n    // Notes:\n    //  - We allow gasPrice for EIP-1559 as long as it matches maxFeePerGas\n    populateTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tx = yield resolveProperties(this.checkTransaction(transaction));\n            if (tx.to != null) {\n                tx.to = Promise.resolve(tx.to).then((to) => __awaiter(this, void 0, void 0, function* () {\n                    if (to == null) {\n                        return null;\n                    }\n                    const address = yield this.resolveName(to);\n                    if (address == null) {\n                        logger.throwArgumentError(\"provided ENS name resolves to null\", \"tx.to\", to);\n                    }\n                    return address;\n                }));\n                // Prevent this error from causing an UnhandledPromiseException\n                tx.to.catch((error) => { });\n            }\n            // Do not allow mixing pre-eip-1559 and eip-1559 properties\n            const hasEip1559 = (tx.maxFeePerGas != null || tx.maxPriorityFeePerGas != null);\n            if (tx.gasPrice != null && (tx.type === 2 || hasEip1559)) {\n                logger.throwArgumentError(\"eip-1559 transaction do not support gasPrice\", \"transaction\", transaction);\n            }\n            else if ((tx.type === 0 || tx.type === 1) && hasEip1559) {\n                logger.throwArgumentError(\"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas\", \"transaction\", transaction);\n            }\n            if ((tx.type === 2 || tx.type == null) && (tx.maxFeePerGas != null && tx.maxPriorityFeePerGas != null)) {\n                // Fully-formed EIP-1559 transaction (skip getFeeData)\n                tx.type = 2;\n            }\n            else if (tx.type === 0 || tx.type === 1) {\n                // Explicit Legacy or EIP-2930 transaction\n                // Populate missing gasPrice\n                if (tx.gasPrice == null) {\n                    tx.gasPrice = this.getGasPrice();\n                }\n            }\n            else {\n                // We need to get fee data to determine things\n                const feeData = yield this.getFeeData();\n                if (tx.type == null) {\n                    // We need to auto-detect the intended type of this transaction...\n                    if (feeData.maxFeePerGas != null && feeData.maxPriorityFeePerGas != null) {\n                        // The network supports EIP-1559!\n                        // Upgrade transaction from null to eip-1559\n                        tx.type = 2;\n                        if (tx.gasPrice != null) {\n                            // Using legacy gasPrice property on an eip-1559 network,\n                            // so use gasPrice as both fee properties\n                            const gasPrice = tx.gasPrice;\n                            delete tx.gasPrice;\n                            tx.maxFeePerGas = gasPrice;\n                            tx.maxPriorityFeePerGas = gasPrice;\n                        }\n                        else {\n                            // Populate missing fee data\n                            if (tx.maxFeePerGas == null) {\n                                tx.maxFeePerGas = feeData.maxFeePerGas;\n                            }\n                            if (tx.maxPriorityFeePerGas == null) {\n                                tx.maxPriorityFeePerGas = feeData.maxPriorityFeePerGas;\n                            }\n                        }\n                    }\n                    else if (feeData.gasPrice != null) {\n                        // Network doesn't support EIP-1559...\n                        // ...but they are trying to use EIP-1559 properties\n                        if (hasEip1559) {\n                            logger.throwError(\"network does not support EIP-1559\", Logger.errors.UNSUPPORTED_OPERATION, {\n                                operation: \"populateTransaction\"\n                            });\n                        }\n                        // Populate missing fee data\n                        if (tx.gasPrice == null) {\n                            tx.gasPrice = feeData.gasPrice;\n                        }\n                        // Explicitly set untyped transaction to legacy\n                        tx.type = 0;\n                    }\n                    else {\n                        // getFeeData has failed us.\n                        logger.throwError(\"failed to get consistent fee data\", Logger.errors.UNSUPPORTED_OPERATION, {\n                            operation: \"signer.getFeeData\"\n                        });\n                    }\n                }\n                else if (tx.type === 2) {\n                    // Explicitly using EIP-1559\n                    // Populate missing fee data\n                    if (tx.maxFeePerGas == null) {\n                        tx.maxFeePerGas = feeData.maxFeePerGas;\n                    }\n                    if (tx.maxPriorityFeePerGas == null) {\n                        tx.maxPriorityFeePerGas = feeData.maxPriorityFeePerGas;\n                    }\n                }\n            }\n            if (tx.nonce == null) {\n                tx.nonce = this.getTransactionCount(\"pending\");\n            }\n            if (tx.gasLimit == null) {\n                tx.gasLimit = this.estimateGas(tx).catch((error) => {\n                    if (forwardErrors.indexOf(error.code) >= 0) {\n                        throw error;\n                    }\n                    return logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n                        error: error,\n                        tx: tx\n                    });\n                });\n            }\n            if (tx.chainId == null) {\n                tx.chainId = this.getChainId();\n            }\n            else {\n                tx.chainId = Promise.all([\n                    Promise.resolve(tx.chainId),\n                    this.getChainId()\n                ]).then((results) => {\n                    if (results[1] !== 0 && results[0] !== results[1]) {\n                        logger.throwArgumentError(\"chainId address mismatch\", \"transaction\", transaction);\n                    }\n                    return results[0];\n                });\n            }\n            return yield resolveProperties(tx);\n        });\n    }\n    ///////////////////\n    // Sub-classes SHOULD leave these alone\n    _checkProvider(operation) {\n        if (!this.provider) {\n            logger.throwError(\"missing provider\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: (operation || \"_checkProvider\")\n            });\n        }\n    }\n    static isSigner(value) {\n        return !!(value && value._isSigner);\n    }\n}\nexport class VoidSigner extends Signer {\n    constructor(address, provider) {\n        super();\n        defineReadOnly(this, \"address\", address);\n        defineReadOnly(this, \"provider\", provider || null);\n    }\n    getAddress() {\n        return Promise.resolve(this.address);\n    }\n    _fail(message, operation) {\n        return Promise.resolve().then(() => {\n            logger.throwError(message, Logger.errors.UNSUPPORTED_OPERATION, { operation: operation });\n        });\n    }\n    signMessage(message) {\n        return this._fail(\"VoidSigner cannot sign messages\", \"signMessage\");\n    }\n    signTransaction(transaction) {\n        return this._fail(\"VoidSigner cannot sign transactions\", \"signTransaction\");\n    }\n    _signTypedData(domain, types, value) {\n        return this._fail(\"VoidSigner cannot sign typed data\", \"signTypedData\");\n    }\n    connect(provider) {\n        return new VoidSigner(this.address, provider);\n    }\n}\n//# sourceMappingURL=index.js.map","export const version = \"abstract-signer/5.7.0\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Signer } from \"@ethersproject/abstract-signer\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { hexlify, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { _TypedDataEncoder } from \"@ethersproject/hash\";\nimport { checkProperties, deepCopy, defineReadOnly, getStatic, resolveProperties, shallowCopy } from \"@ethersproject/properties\";\nimport { toUtf8Bytes } from \"@ethersproject/strings\";\nimport { accessListify } from \"@ethersproject/transactions\";\nimport { fetchJson, poll } from \"@ethersproject/web\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { BaseProvider } from \"./base-provider\";\nconst errorGas = [\"call\", \"estimateGas\"];\nfunction spelunk(value, requireData) {\n    if (value == null) {\n        return null;\n    }\n    // These *are* the droids we're looking for.\n    if (typeof (value.message) === \"string\" && value.message.match(\"reverted\")) {\n        const data = isHexString(value.data) ? value.data : null;\n        if (!requireData || data) {\n            return { message: value.message, data };\n        }\n    }\n    // Spelunk further...\n    if (typeof (value) === \"object\") {\n        for (const key in value) {\n            const result = spelunk(value[key], requireData);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n    // Might be a JSON string we can further descend...\n    if (typeof (value) === \"string\") {\n        try {\n            return spelunk(JSON.parse(value), requireData);\n        }\n        catch (error) { }\n    }\n    return null;\n}\nfunction checkError(method, error, params) {\n    const transaction = params.transaction || params.signedTransaction;\n    // Undo the \"convenience\" some nodes are attempting to prevent backwards\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\n    if (method === \"call\") {\n        const result = spelunk(error, true);\n        if (result) {\n            return result.data;\n        }\n        // Nothing descriptive..\n        logger.throwError(\"missing revert data in call exception; Transaction reverted without a reason string\", Logger.errors.CALL_EXCEPTION, {\n            data: \"0x\", transaction, error\n        });\n    }\n    if (method === \"estimateGas\") {\n        // Try to find something, with a preference on SERVER_ERROR body\n        let result = spelunk(error.body, false);\n        if (result == null) {\n            result = spelunk(error, false);\n        }\n        // Found \"reverted\", this is a CALL_EXCEPTION\n        if (result) {\n            logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n                reason: result.message, method, transaction, error\n            });\n        }\n    }\n    // @TODO: Should we spelunk for message too?\n    let message = error.message;\n    if (error.code === Logger.errors.SERVER_ERROR && error.error && typeof (error.error.message) === \"string\") {\n        message = error.error.message;\n    }\n    else if (typeof (error.body) === \"string\") {\n        message = error.body;\n    }\n    else if (typeof (error.responseText) === \"string\") {\n        message = error.responseText;\n    }\n    message = (message || \"\").toLowerCase();\n    // \"insufficient funds for gas * price + value + cost(data)\"\n    if (message.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)) {\n        logger.throwError(\"insufficient funds for intrinsic transaction cost\", Logger.errors.INSUFFICIENT_FUNDS, {\n            error, method, transaction\n        });\n    }\n    // \"nonce too low\"\n    if (message.match(/nonce (is )?too low/i)) {\n        logger.throwError(\"nonce has already been used\", Logger.errors.NONCE_EXPIRED, {\n            error, method, transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/replacement transaction underpriced|transaction gas price.*too low/i)) {\n        logger.throwError(\"replacement fee too low\", Logger.errors.REPLACEMENT_UNDERPRICED, {\n            error, method, transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/only replay-protected/i)) {\n        logger.throwError(\"legacy pre-eip-155 transactions not supported\", Logger.errors.UNSUPPORTED_OPERATION, {\n            error, method, transaction\n        });\n    }\n    if (errorGas.indexOf(method) >= 0 && message.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)) {\n        logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n            error, method, transaction\n        });\n    }\n    throw error;\n}\nfunction timer(timeout) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, timeout);\n    });\n}\nfunction getResult(payload) {\n    if (payload.error) {\n        // @TODO: not any\n        const error = new Error(payload.error.message);\n        error.code = payload.error.code;\n        error.data = payload.error.data;\n        throw error;\n    }\n    return payload.result;\n}\nfunction getLowerCase(value) {\n    if (value) {\n        return value.toLowerCase();\n    }\n    return value;\n}\nconst _constructorGuard = {};\nexport class JsonRpcSigner extends Signer {\n    constructor(constructorGuard, provider, addressOrIndex) {\n        super();\n        if (constructorGuard !== _constructorGuard) {\n            throw new Error(\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\");\n        }\n        defineReadOnly(this, \"provider\", provider);\n        if (addressOrIndex == null) {\n            addressOrIndex = 0;\n        }\n        if (typeof (addressOrIndex) === \"string\") {\n            defineReadOnly(this, \"_address\", this.provider.formatter.address(addressOrIndex));\n            defineReadOnly(this, \"_index\", null);\n        }\n        else if (typeof (addressOrIndex) === \"number\") {\n            defineReadOnly(this, \"_index\", addressOrIndex);\n            defineReadOnly(this, \"_address\", null);\n        }\n        else {\n            logger.throwArgumentError(\"invalid address or index\", \"addressOrIndex\", addressOrIndex);\n        }\n    }\n    connect(provider) {\n        return logger.throwError(\"cannot alter JSON-RPC Signer connection\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"connect\"\n        });\n    }\n    connectUnchecked() {\n        return new UncheckedJsonRpcSigner(_constructorGuard, this.provider, this._address || this._index);\n    }\n    getAddress() {\n        if (this._address) {\n            return Promise.resolve(this._address);\n        }\n        return this.provider.send(\"eth_accounts\", []).then((accounts) => {\n            if (accounts.length <= this._index) {\n                logger.throwError(\"unknown account #\" + this._index, Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: \"getAddress\"\n                });\n            }\n            return this.provider.formatter.address(accounts[this._index]);\n        });\n    }\n    sendUncheckedTransaction(transaction) {\n        transaction = shallowCopy(transaction);\n        const fromAddress = this.getAddress().then((address) => {\n            if (address) {\n                address = address.toLowerCase();\n            }\n            return address;\n        });\n        // The JSON-RPC for eth_sendTransaction uses 90000 gas; if the user\n        // wishes to use this, it is easy to specify explicitly, otherwise\n        // we look it up for them.\n        if (transaction.gasLimit == null) {\n            const estimate = shallowCopy(transaction);\n            estimate.from = fromAddress;\n            transaction.gasLimit = this.provider.estimateGas(estimate);\n        }\n        if (transaction.to != null) {\n            transaction.to = Promise.resolve(transaction.to).then((to) => __awaiter(this, void 0, void 0, function* () {\n                if (to == null) {\n                    return null;\n                }\n                const address = yield this.provider.resolveName(to);\n                if (address == null) {\n                    logger.throwArgumentError(\"provided ENS name resolves to null\", \"tx.to\", to);\n                }\n                return address;\n            }));\n        }\n        return resolveProperties({\n            tx: resolveProperties(transaction),\n            sender: fromAddress\n        }).then(({ tx, sender }) => {\n            if (tx.from != null) {\n                if (tx.from.toLowerCase() !== sender) {\n                    logger.throwArgumentError(\"from address mismatch\", \"transaction\", transaction);\n                }\n            }\n            else {\n                tx.from = sender;\n            }\n            const hexTx = this.provider.constructor.hexlifyTransaction(tx, { from: true });\n            return this.provider.send(\"eth_sendTransaction\", [hexTx]).then((hash) => {\n                return hash;\n            }, (error) => {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected transaction\", Logger.errors.ACTION_REJECTED, {\n                        action: \"sendTransaction\",\n                        transaction: tx\n                    });\n                }\n                return checkError(\"sendTransaction\", error, hexTx);\n            });\n        });\n    }\n    signTransaction(transaction) {\n        return logger.throwError(\"signing transactions is unsupported\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"signTransaction\"\n        });\n    }\n    sendTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // This cannot be mined any earlier than any recent block\n            const blockNumber = yield this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval);\n            // Send the transaction\n            const hash = yield this.sendUncheckedTransaction(transaction);\n            try {\n                // Unfortunately, JSON-RPC only provides and opaque transaction hash\n                // for a response, and we need the actual transaction, so we poll\n                // for it; it should show up very quickly\n                return yield poll(() => __awaiter(this, void 0, void 0, function* () {\n                    const tx = yield this.provider.getTransaction(hash);\n                    if (tx === null) {\n                        return undefined;\n                    }\n                    return this.provider._wrapTransaction(tx, hash, blockNumber);\n                }), { oncePoll: this.provider });\n            }\n            catch (error) {\n                error.transactionHash = hash;\n                throw error;\n            }\n        });\n    }\n    signMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = ((typeof (message) === \"string\") ? toUtf8Bytes(message) : message);\n            const address = yield this.getAddress();\n            try {\n                return yield this.provider.send(\"personal_sign\", [hexlify(data), address.toLowerCase()]);\n            }\n            catch (error) {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected signing\", Logger.errors.ACTION_REJECTED, {\n                        action: \"signMessage\",\n                        from: address,\n                        messageData: message\n                    });\n                }\n                throw error;\n            }\n        });\n    }\n    _legacySignMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = ((typeof (message) === \"string\") ? toUtf8Bytes(message) : message);\n            const address = yield this.getAddress();\n            try {\n                // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\n                return yield this.provider.send(\"eth_sign\", [address.toLowerCase(), hexlify(data)]);\n            }\n            catch (error) {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected signing\", Logger.errors.ACTION_REJECTED, {\n                        action: \"_legacySignMessage\",\n                        from: address,\n                        messageData: message\n                    });\n                }\n                throw error;\n            }\n        });\n    }\n    _signTypedData(domain, types, value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Populate any ENS names (in-place)\n            const populated = yield _TypedDataEncoder.resolveNames(domain, types, value, (name) => {\n                return this.provider.resolveName(name);\n            });\n            const address = yield this.getAddress();\n            try {\n                return yield this.provider.send(\"eth_signTypedData_v4\", [\n                    address.toLowerCase(),\n                    JSON.stringify(_TypedDataEncoder.getPayload(populated.domain, types, populated.value))\n                ]);\n            }\n            catch (error) {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected signing\", Logger.errors.ACTION_REJECTED, {\n                        action: \"_signTypedData\",\n                        from: address,\n                        messageData: { domain: populated.domain, types, value: populated.value }\n                    });\n                }\n                throw error;\n            }\n        });\n    }\n    unlock(password) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const provider = this.provider;\n            const address = yield this.getAddress();\n            return provider.send(\"personal_unlockAccount\", [address.toLowerCase(), password, null]);\n        });\n    }\n}\nclass UncheckedJsonRpcSigner extends JsonRpcSigner {\n    sendTransaction(transaction) {\n        return this.sendUncheckedTransaction(transaction).then((hash) => {\n            return {\n                hash: hash,\n                nonce: null,\n                gasLimit: null,\n                gasPrice: null,\n                data: null,\n                value: null,\n                chainId: null,\n                confirmations: 0,\n                from: null,\n                wait: (confirmations) => { return this.provider.waitForTransaction(hash, confirmations); }\n            };\n        });\n    }\n}\nconst allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, value: true,\n    type: true, accessList: true,\n    maxFeePerGas: true, maxPriorityFeePerGas: true\n};\nexport class JsonRpcProvider extends BaseProvider {\n    constructor(url, network) {\n        let networkOrReady = network;\n        // The network is unknown, query the JSON-RPC for it\n        if (networkOrReady == null) {\n            networkOrReady = new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    this.detectNetwork().then((network) => {\n                        resolve(network);\n                    }, (error) => {\n                        reject(error);\n                    });\n                }, 0);\n            });\n        }\n        super(networkOrReady);\n        // Default URL\n        if (!url) {\n            url = getStatic(this.constructor, \"defaultUrl\")();\n        }\n        if (typeof (url) === \"string\") {\n            defineReadOnly(this, \"connection\", Object.freeze({\n                url: url\n            }));\n        }\n        else {\n            defineReadOnly(this, \"connection\", Object.freeze(shallowCopy(url)));\n        }\n        this._nextId = 42;\n    }\n    get _cache() {\n        if (this._eventLoopCache == null) {\n            this._eventLoopCache = {};\n        }\n        return this._eventLoopCache;\n    }\n    static defaultUrl() {\n        return \"http:/\\/localhost:8545\";\n    }\n    detectNetwork() {\n        if (!this._cache[\"detectNetwork\"]) {\n            this._cache[\"detectNetwork\"] = this._uncachedDetectNetwork();\n            // Clear this cache at the beginning of the next event loop\n            setTimeout(() => {\n                this._cache[\"detectNetwork\"] = null;\n            }, 0);\n        }\n        return this._cache[\"detectNetwork\"];\n    }\n    _uncachedDetectNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield timer(0);\n            let chainId = null;\n            try {\n                chainId = yield this.send(\"eth_chainId\", []);\n            }\n            catch (error) {\n                try {\n                    chainId = yield this.send(\"net_version\", []);\n                }\n                catch (error) { }\n            }\n            if (chainId != null) {\n                const getNetwork = getStatic(this.constructor, \"getNetwork\");\n                try {\n                    return getNetwork(BigNumber.from(chainId).toNumber());\n                }\n                catch (error) {\n                    return logger.throwError(\"could not detect network\", Logger.errors.NETWORK_ERROR, {\n                        chainId: chainId,\n                        event: \"invalidNetwork\",\n                        serverError: error\n                    });\n                }\n            }\n            return logger.throwError(\"could not detect network\", Logger.errors.NETWORK_ERROR, {\n                event: \"noNetwork\"\n            });\n        });\n    }\n    getSigner(addressOrIndex) {\n        return new JsonRpcSigner(_constructorGuard, this, addressOrIndex);\n    }\n    getUncheckedSigner(addressOrIndex) {\n        return this.getSigner(addressOrIndex).connectUnchecked();\n    }\n    listAccounts() {\n        return this.send(\"eth_accounts\", []).then((accounts) => {\n            return accounts.map((a) => this.formatter.address(a));\n        });\n    }\n    send(method, params) {\n        const request = {\n            method: method,\n            params: params,\n            id: (this._nextId++),\n            jsonrpc: \"2.0\"\n        };\n        this.emit(\"debug\", {\n            action: \"request\",\n            request: deepCopy(request),\n            provider: this\n        });\n        // We can expand this in the future to any call, but for now these\n        // are the biggest wins and do not require any serializing parameters.\n        const cache = ([\"eth_chainId\", \"eth_blockNumber\"].indexOf(method) >= 0);\n        if (cache && this._cache[method]) {\n            return this._cache[method];\n        }\n        const result = fetchJson(this.connection, JSON.stringify(request), getResult).then((result) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                request: request,\n                response: result,\n                provider: this\n            });\n            return result;\n        }, (error) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                error: error,\n                request: request,\n                provider: this\n            });\n            throw error;\n        });\n        // Cache the fetch, but clear it on the next event loop\n        if (cache) {\n            this._cache[method] = result;\n            setTimeout(() => {\n                this._cache[method] = null;\n            }, 0);\n        }\n        return result;\n    }\n    prepareRequest(method, params) {\n        switch (method) {\n            case \"getBlockNumber\":\n                return [\"eth_blockNumber\", []];\n            case \"getGasPrice\":\n                return [\"eth_gasPrice\", []];\n            case \"getBalance\":\n                return [\"eth_getBalance\", [getLowerCase(params.address), params.blockTag]];\n            case \"getTransactionCount\":\n                return [\"eth_getTransactionCount\", [getLowerCase(params.address), params.blockTag]];\n            case \"getCode\":\n                return [\"eth_getCode\", [getLowerCase(params.address), params.blockTag]];\n            case \"getStorageAt\":\n                return [\"eth_getStorageAt\", [getLowerCase(params.address), hexZeroPad(params.position, 32), params.blockTag]];\n            case \"sendTransaction\":\n                return [\"eth_sendRawTransaction\", [params.signedTransaction]];\n            case \"getBlock\":\n                if (params.blockTag) {\n                    return [\"eth_getBlockByNumber\", [params.blockTag, !!params.includeTransactions]];\n                }\n                else if (params.blockHash) {\n                    return [\"eth_getBlockByHash\", [params.blockHash, !!params.includeTransactions]];\n                }\n                return null;\n            case \"getTransaction\":\n                return [\"eth_getTransactionByHash\", [params.transactionHash]];\n            case \"getTransactionReceipt\":\n                return [\"eth_getTransactionReceipt\", [params.transactionHash]];\n            case \"call\": {\n                const hexlifyTransaction = getStatic(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_call\", [hexlifyTransaction(params.transaction, { from: true }), params.blockTag]];\n            }\n            case \"estimateGas\": {\n                const hexlifyTransaction = getStatic(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_estimateGas\", [hexlifyTransaction(params.transaction, { from: true })]];\n            }\n            case \"getLogs\":\n                if (params.filter && params.filter.address != null) {\n                    params.filter.address = getLowerCase(params.filter.address);\n                }\n                return [\"eth_getLogs\", [params.filter]];\n            default:\n                break;\n        }\n        return null;\n    }\n    perform(method, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Legacy networks do not like the type field being passed along (which\n            // is fair), so we delete type if it is 0 and a non-EIP-1559 network\n            if (method === \"call\" || method === \"estimateGas\") {\n                const tx = params.transaction;\n                if (tx && tx.type != null && BigNumber.from(tx.type).isZero()) {\n                    // If there are no EIP-1559 properties, it might be non-EIP-1559\n                    if (tx.maxFeePerGas == null && tx.maxPriorityFeePerGas == null) {\n                        const feeData = yield this.getFeeData();\n                        if (feeData.maxFeePerGas == null && feeData.maxPriorityFeePerGas == null) {\n                            // Network doesn't know about EIP-1559 (and hence type)\n                            params = shallowCopy(params);\n                            params.transaction = shallowCopy(tx);\n                            delete params.transaction.type;\n                        }\n                    }\n                }\n            }\n            const args = this.prepareRequest(method, params);\n            if (args == null) {\n                logger.throwError(method + \" not implemented\", Logger.errors.NOT_IMPLEMENTED, { operation: method });\n            }\n            try {\n                return yield this.send(args[0], args[1]);\n            }\n            catch (error) {\n                return checkError(method, error, params);\n            }\n        });\n    }\n    _startEvent(event) {\n        if (event.tag === \"pending\") {\n            this._startPending();\n        }\n        super._startEvent(event);\n    }\n    _startPending() {\n        if (this._pendingFilter != null) {\n            return;\n        }\n        const self = this;\n        const pendingFilter = this.send(\"eth_newPendingTransactionFilter\", []);\n        this._pendingFilter = pendingFilter;\n        pendingFilter.then(function (filterId) {\n            function poll() {\n                self.send(\"eth_getFilterChanges\", [filterId]).then(function (hashes) {\n                    if (self._pendingFilter != pendingFilter) {\n                        return null;\n                    }\n                    let seq = Promise.resolve();\n                    hashes.forEach(function (hash) {\n                        // @TODO: This should be garbage collected at some point... How? When?\n                        self._emitted[\"t:\" + hash.toLowerCase()] = \"pending\";\n                        seq = seq.then(function () {\n                            return self.getTransaction(hash).then(function (tx) {\n                                self.emit(\"pending\", tx);\n                                return null;\n                            });\n                        });\n                    });\n                    return seq.then(function () {\n                        return timer(1000);\n                    });\n                }).then(function () {\n                    if (self._pendingFilter != pendingFilter) {\n                        self.send(\"eth_uninstallFilter\", [filterId]);\n                        return;\n                    }\n                    setTimeout(function () { poll(); }, 0);\n                    return null;\n                }).catch((error) => { });\n            }\n            poll();\n            return filterId;\n        }).catch((error) => { });\n    }\n    _stopEvent(event) {\n        if (event.tag === \"pending\" && this.listenerCount(\"pending\") === 0) {\n            this._pendingFilter = null;\n        }\n        super._stopEvent(event);\n    }\n    // Convert an ethers.js transaction into a JSON-RPC transaction\n    //  - gasLimit => gas\n    //  - All values hexlified\n    //  - All numeric values zero-striped\n    //  - All addresses are lowercased\n    // NOTE: This allows a TransactionRequest, but all values should be resolved\n    //       before this is called\n    // @TODO: This will likely be removed in future versions and prepareRequest\n    //        will be the preferred method for this.\n    static hexlifyTransaction(transaction, allowExtra) {\n        // Check only allowed properties are given\n        const allowed = shallowCopy(allowedTransactionKeys);\n        if (allowExtra) {\n            for (const key in allowExtra) {\n                if (allowExtra[key]) {\n                    allowed[key] = true;\n                }\n            }\n        }\n        checkProperties(transaction, allowed);\n        const result = {};\n        // JSON-RPC now requires numeric values to be \"quantity\" values\n        [\"chainId\", \"gasLimit\", \"gasPrice\", \"type\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"nonce\", \"value\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            const value = hexValue(BigNumber.from(transaction[key]));\n            if (key === \"gasLimit\") {\n                key = \"gas\";\n            }\n            result[key] = value;\n        });\n        [\"from\", \"to\", \"data\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            result[key] = hexlify(transaction[key]);\n        });\n        if (transaction.accessList) {\n            result[\"accessList\"] = accessListify(transaction.accessList);\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=json-rpc-provider.js.map","import { ethers } from 'ethers'\nimport RouterAbi from '../assets/abi/Router.json'\nimport PoolAbi from '../assets/abi/Pool.json'\nimport TokenInfoAbi from '../assets/abi/TokensInfo.json'\nimport UniV3FactoryAbi from '../assets/abi/UniV3Factory.json'\nimport { useConfigs } from '../state/config/useConfigs'\nimport { JsonRpcProvider } from '@ethersproject/providers'\n\nexport const routerAbi = [{ inputs: [{ internalType: 'address', name: '_factory', type: 'address' }, { internalType: 'address', name: '_WETH', type: 'address' }], stateMutability: 'nonpayable', type: 'constructor' }, { inputs: [], name: 'WETH', outputs: [{ internalType: 'address', name: '', type: 'address' }], stateMutability: 'view', type: 'function' }, { inputs: [{ internalType: 'address', name: 'tokenA', type: 'address' }, { internalType: 'address', name: 'tokenB', type: 'address' }, { internalType: 'uint256', name: 'amountADesired', type: 'uint256' }, { internalType: 'uint256', name: 'amountBDesired', type: 'uint256' }, { internalType: 'uint256', name: 'amountAMin', type: 'uint256' }, { internalType: 'uint256', name: 'amountBMin', type: 'uint256' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'addLiquidity', outputs: [{ internalType: 'uint256', name: 'amountA', type: 'uint256' }, { internalType: 'uint256', name: 'amountB', type: 'uint256' }, { internalType: 'uint256', name: 'liquidity', type: 'uint256' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'address', name: 'token', type: 'address' }, { internalType: 'uint256', name: 'amountTokenDesired', type: 'uint256' }, { internalType: 'uint256', name: 'amountTokenMin', type: 'uint256' }, { internalType: 'uint256', name: 'amountETHMin', type: 'uint256' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'addLiquidityETH', outputs: [{ internalType: 'uint256', name: 'amountToken', type: 'uint256' }, { internalType: 'uint256', name: 'amountETH', type: 'uint256' }, { internalType: 'uint256', name: 'liquidity', type: 'uint256' }], stateMutability: 'payable', type: 'function' }, { inputs: [], name: 'factory', outputs: [{ internalType: 'address', name: '', type: 'address' }], stateMutability: 'view', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountOut', type: 'uint256' }, { internalType: 'uint256', name: 'reserveIn', type: 'uint256' }, { internalType: 'uint256', name: 'reserveOut', type: 'uint256' }], name: 'getAmountIn', outputs: [{ internalType: 'uint256', name: 'amountIn', type: 'uint256' }], stateMutability: 'pure', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountIn', type: 'uint256' }, { internalType: 'uint256', name: 'reserveIn', type: 'uint256' }, { internalType: 'uint256', name: 'reserveOut', type: 'uint256' }], name: 'getAmountOut', outputs: [{ internalType: 'uint256', name: 'amountOut', type: 'uint256' }], stateMutability: 'pure', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountOut', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }], name: 'getAmountsIn', outputs: [{ internalType: 'uint256[]', name: 'amounts', type: 'uint256[]' }], stateMutability: 'view', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountIn', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }], name: 'getAmountsOut', outputs: [{ internalType: 'uint256[]', name: 'amounts', type: 'uint256[]' }], stateMutability: 'view', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountA', type: 'uint256' }, { internalType: 'uint256', name: 'reserveA', type: 'uint256' }, { internalType: 'uint256', name: 'reserveB', type: 'uint256' }], name: 'quote', outputs: [{ internalType: 'uint256', name: 'amountB', type: 'uint256' }], stateMutability: 'pure', type: 'function' }, { inputs: [{ internalType: 'address', name: 'tokenA', type: 'address' }, { internalType: 'address', name: 'tokenB', type: 'address' }, { internalType: 'uint256', name: 'liquidity', type: 'uint256' }, { internalType: 'uint256', name: 'amountAMin', type: 'uint256' }, { internalType: 'uint256', name: 'amountBMin', type: 'uint256' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'removeLiquidity', outputs: [{ internalType: 'uint256', name: 'amountA', type: 'uint256' }, { internalType: 'uint256', name: 'amountB', type: 'uint256' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'address', name: 'token', type: 'address' }, { internalType: 'uint256', name: 'liquidity', type: 'uint256' }, { internalType: 'uint256', name: 'amountTokenMin', type: 'uint256' }, { internalType: 'uint256', name: 'amountETHMin', type: 'uint256' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'removeLiquidityETH', outputs: [{ internalType: 'uint256', name: 'amountToken', type: 'uint256' }, { internalType: 'uint256', name: 'amountETH', type: 'uint256' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'address', name: 'token', type: 'address' }, { internalType: 'uint256', name: 'liquidity', type: 'uint256' }, { internalType: 'uint256', name: 'amountTokenMin', type: 'uint256' }, { internalType: 'uint256', name: 'amountETHMin', type: 'uint256' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'removeLiquidityETHSupportingFeeOnTransferTokens', outputs: [{ internalType: 'uint256', name: 'amountETH', type: 'uint256' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'address', name: 'token', type: 'address' }, { internalType: 'uint256', name: 'liquidity', type: 'uint256' }, { internalType: 'uint256', name: 'amountTokenMin', type: 'uint256' }, { internalType: 'uint256', name: 'amountETHMin', type: 'uint256' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }, { internalType: 'bool', name: 'approveMax', type: 'bool' }, { internalType: 'uint8', name: 'v', type: 'uint8' }, { internalType: 'bytes32', name: 'r', type: 'bytes32' }, { internalType: 'bytes32', name: 's', type: 'bytes32' }], name: 'removeLiquidityETHWithPermit', outputs: [{ internalType: 'uint256', name: 'amountToken', type: 'uint256' }, { internalType: 'uint256', name: 'amountETH', type: 'uint256' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'address', name: 'token', type: 'address' }, { internalType: 'uint256', name: 'liquidity', type: 'uint256' }, { internalType: 'uint256', name: 'amountTokenMin', type: 'uint256' }, { internalType: 'uint256', name: 'amountETHMin', type: 'uint256' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }, { internalType: 'bool', name: 'approveMax', type: 'bool' }, { internalType: 'uint8', name: 'v', type: 'uint8' }, { internalType: 'bytes32', name: 'r', type: 'bytes32' }, { internalType: 'bytes32', name: 's', type: 'bytes32' }], name: 'removeLiquidityETHWithPermitSupportingFeeOnTransferTokens', outputs: [{ internalType: 'uint256', name: 'amountETH', type: 'uint256' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'address', name: 'tokenA', type: 'address' }, { internalType: 'address', name: 'tokenB', type: 'address' }, { internalType: 'uint256', name: 'liquidity', type: 'uint256' }, { internalType: 'uint256', name: 'amountAMin', type: 'uint256' }, { internalType: 'uint256', name: 'amountBMin', type: 'uint256' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }, { internalType: 'bool', name: 'approveMax', type: 'bool' }, { internalType: 'uint8', name: 'v', type: 'uint8' }, { internalType: 'bytes32', name: 'r', type: 'bytes32' }, { internalType: 'bytes32', name: 's', type: 'bytes32' }], name: 'removeLiquidityWithPermit', outputs: [{ internalType: 'uint256', name: 'amountA', type: 'uint256' }, { internalType: 'uint256', name: 'amountB', type: 'uint256' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountOut', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'swapETHForExactTokens', outputs: [{ internalType: 'uint256[]', name: 'amounts', type: 'uint256[]' }], stateMutability: 'payable', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountOutMin', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'swapExactETHForTokens', outputs: [{ internalType: 'uint256[]', name: 'amounts', type: 'uint256[]' }], stateMutability: 'payable', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountOutMin', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'swapExactETHForTokensSupportingFeeOnTransferTokens', outputs: [], stateMutability: 'payable', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountIn', type: 'uint256' }, { internalType: 'uint256', name: 'amountOutMin', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'swapExactTokensForETH', outputs: [{ internalType: 'uint256[]', name: 'amounts', type: 'uint256[]' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountIn', type: 'uint256' }, { internalType: 'uint256', name: 'amountOutMin', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'swapExactTokensForETHSupportingFeeOnTransferTokens', outputs: [], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountIn', type: 'uint256' }, { internalType: 'uint256', name: 'amountOutMin', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'swapExactTokensForTokens', outputs: [{ internalType: 'uint256[]', name: 'amounts', type: 'uint256[]' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountIn', type: 'uint256' }, { internalType: 'uint256', name: 'amountOutMin', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'swapExactTokensForTokensSupportingFeeOnTransferTokens', outputs: [], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountOut', type: 'uint256' }, { internalType: 'uint256', name: 'amountInMax', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'swapTokensForExactETH', outputs: [{ internalType: 'uint256[]', name: 'amounts', type: 'uint256[]' }], stateMutability: 'nonpayable', type: 'function' }, { inputs: [{ internalType: 'uint256', name: 'amountOut', type: 'uint256' }, { internalType: 'uint256', name: 'amountInMax', type: 'uint256' }, { internalType: 'address[]', name: 'path', type: 'address[]' }, { internalType: 'address', name: 'to', type: 'address' }, { internalType: 'uint256', name: 'deadline', type: 'uint256' }], name: 'swapTokensForExactTokens', outputs: [{ internalType: 'uint256[]', name: 'amounts', type: 'uint256[]' }], stateMutability: 'nonpayable', type: 'function' }, { stateMutability: 'payable', type: 'receive' }]\n\nexport const useContract = () => {\n  const { configs } = useConfigs()\n  const getContract = (\n    abi: any,\n    address: string,\n    signer?: ethers.Signer | ethers.providers.Provider\n  ) => {\n    const signerOrProvider = signer || new JsonRpcProvider(configs.rpcUrl)\n    return new ethers.Contract(address, abi, signerOrProvider)\n  }\n\n  const getRouterContract = (\n    signer?: ethers.Signer | ethers.providers.Provider\n  ) => {\n    return getContract(RouterAbi, configs.addresses.router, signer)\n  }\n\n  const getPoolContract = (\n    poolAddress: string,\n    signer?: ethers.Signer | ethers.providers.Provider\n  ) => {\n    return getContract(PoolAbi, poolAddress, signer)\n  }\n\n  const getTokenInfoContract = () => {\n    return getContract(TokenInfoAbi, configs.addresses.tokensInfo)\n  }\n\n  const getUniV3FactoryContract = () => {\n    return getContract(UniV3FactoryAbi, configs.addresses.uniV3Factory)\n  }\n\n  return {\n    getRouterContract,\n    getPoolContract,\n    getTokenInfoContract,\n    getUniV3FactoryContract\n  }\n}\n","import { useConfigs } from '../../config/useConfigs'\nimport { addPoolGroupsWithChain, addPoolsWithChain } from '../reducer'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { State } from '../../types'\nimport { addTokensReduce } from '../../token/reducer'\nimport { useSwapHistory } from '../../wallet/hooks/useSwapHistory'\n\nexport const useListPool = () => {\n  const { poolGroups, pools } = useSelector((state: State) => {\n    return {\n      poolGroups: state.pools.poolGroups,\n      pools: state.pools.pools\n    }\n  })\n  const { chainId, ddlEngine } = useConfigs()\n  const dispatch = useDispatch()\n  const { updateSwapTxsHandle } = useSwapHistory()\n\n  const initListPool = async (account: string) => {\n    if (ddlEngine) {\n      ddlEngine.RESOURCE.getResourceCached(account).then((data: any) => {\n        dispatch(addTokensReduce({ tokens: data.tokens, chainId }))\n        dispatch(addPoolGroupsWithChain({ poolGroups: data.poolGroups, chainId }))\n        dispatch(addPoolsWithChain({ pools: data.pools, chainId }))\n        updateSwapTxsHandle(account, data.swapLogs)\n      })\n      ddlEngine.RESOURCE.getNewResource(account).then((data: any) => {\n        dispatch(addTokensReduce({ tokens: data.tokens, chainId }))\n        dispatch(addPoolGroupsWithChain({ poolGroups: data.poolGroups, chainId }))\n        dispatch(addPoolsWithChain({ pools: data.pools, chainId }))\n        updateSwapTxsHandle(account, data.swapLogs)\n      })\n    }\n  }\n\n  return {\n    initListPool,\n    updateSwapTxsHandle,\n    poolGroups: poolGroups[chainId],\n    pools: pools[chainId]\n  }\n}\n","import { useDispatch, useSelector } from 'react-redux'\nimport { updateFormatedSwapTxs, updateSwapTxs } from '../reducer'\n// eslint-disable-next-line no-unused-vars\nimport { State } from '../../types'\nimport { useWeb3React } from '../../customWeb3React/hook'\nimport { useEffect } from 'react'\nimport { useCurrentPool } from '../../currentPool/hooks/useCurrentPool'\nimport { useConfigs } from '../../config/useConfigs'\nimport _ from 'lodash'\n\nexport const useSwapHistory = () => {\n  const { swapLogs, formartedSwapLogs } = useSelector((state: State) => {\n    return {\n      swapLogs: state.wallet.swapLogs,\n      formartedSwapLogs: state.wallet.formartedSwapLogs\n    }\n  })\n  const { account } = useWeb3React()\n  const dispatch = useDispatch()\n\n  const addMultiSwapData = (swapLogs: any, account: string) => {\n    dispatch(updateSwapTxs({ account, swapLogs }))\n  }\n\n  const updateSwapTxsHandle = (account: string, data: any) => {\n    dispatch(updateSwapTxs({ account, swapLogs: _.cloneDeep(data) }))\n  }\n\n  return {\n    updateSwapTxsHandle,\n    addMultiSwapData,\n    swapLogs: swapLogs[account],\n    formartedSwapLogs\n  }\n}\n\n// export const useSwapHistoryFormated = () => {\n//   const { swapLogs: sls } = useSwapHistory()\n//   const { powers, states, poolAddress } = useCurrentPool()\n//   const { ddlEngine } = useConfigs()\n//   const dispatch = useDispatch()\n\n//   useEffect(() => {\n//     if (ddlEngine?.CURRENT_POOL.poolAddress) {\n//       const swapTxs = ddlEngine?.HISTORY.formatSwapHistory({\n//         logs: sls,\n//         poolAddress: poolAddress,\n//         states: states,\n//         powers: powers\n//       })\n//       dispatch(updateFormatedSwapTxs({ swapTxs }))\n//     }\n//   }, [sls, ddlEngine?.CURRENT_POOL, states])\n// }\n","import { useDispatch, useSelector } from 'react-redux'\nimport { State } from '../../types'\nimport { useListPool } from '../../pools/hooks/useListPool'\nimport { useConfigs } from '../../config/useConfigs'\nimport { setCandleChartIsLoadingReduce, setChartTimeFocusReduce, setCurrentPoolInfo } from '../reducer'\n\nexport const useCurrentPool = () => {\n  const { pools } = useListPool()\n  const { configs, ddlEngine } = useConfigs()\n  const dispatch = useDispatch()\n\n  const {\n    cTokenPrice,\n    cToken,\n    logicAddress,\n    dTokens,\n    powers,\n    states,\n    baseId,\n    quoteId,\n    baseToken,\n    quoteToken,\n    basePrice,\n    changedIn24h,\n    poolAddress,\n    chartIsOutDate,\n    candleChartIsLoading,\n    chartTimeFocus,\n    chartResolutionIsUpdated\n  } = useSelector((state: State) => {\n    return {\n      cTokenPrice: state.currentPool.cTokenPrice,\n      cToken: state.currentPool.cToken,\n      logicAddress: state.currentPool.logicAddress,\n      dTokens: state.currentPool.dTokens,\n      powers: state.currentPool.powers,\n      states: state.currentPool.states,\n      baseToken: state.currentPool.baseToken,\n      quoteToken: state.currentPool.quoteToken,\n      basePrice: state.currentPool.basePrice,\n      baseId: state.currentPool.baseId,\n      quoteId: state.currentPool.quoteId,\n      changedIn24h: state.currentPool.changedIn24h,\n      poolAddress: state.currentPool.poolAddress,\n      chartIsOutDate: state.currentPool.chartIsOutDate,\n      candleChartIsLoading: state.currentPool.candleChartIsLoading,\n      chartTimeFocus: state.currentPool.chartTimeFocus,\n      chartResolutionIsUpdated: state.currentPool.chartResolutionIsUpdated\n    }\n  })\n\n  const updateCurrentPool = async (poolAddress: string) => {\n    const pool = pools[poolAddress]\n    const { cPrice } = pool\n\n    if (ddlEngine) {\n      ddlEngine.setCurrentPool({\n        ...pools[poolAddress],\n        logic: pools[poolAddress].logic,\n        cTokenPrice: pools[poolAddress].cTokenPrice\n      })\n    }\n\n    dispatch(setCurrentPoolInfo({\n      ...pool,\n      cTokenPrice: cPrice,\n      logicAddress: pool.logic\n    }))\n  }\n\n  const getTokenByPower = (power: number | string) => {\n    if (power === 'C') {\n      return cToken\n    } else if (power === 'B') {\n      return baseToken\n    } else if (power === 'Q') {\n      return quoteToken\n    } else if (power === 'N') { // native token\n      return configs.addresses.nativeToken\n    }\n    const index = powers.findIndex((p) => p === Number(power))\n    return dTokens[index]\n  }\n  const detectChangeType = (address: string) => {\n    if (address === baseToken || address === configs.addresses.nativeToken) {\n      return 'B'\n    } else if (address === quoteToken) {\n      return 'Q'\n    } else {\n      return 'C'\n    }\n  }\n\n  const setCandleChartIsLoading = (status: boolean) => {\n    dispatch(setCandleChartIsLoadingReduce({ status }))\n  }\n\n  const setChartTimeFocus = (time: number) => {\n    dispatch(setChartTimeFocusReduce({ time }))\n  }\n\n  return {\n    setChartTimeFocus,\n    detectChangeType,\n    getTokenByPower,\n    updateCurrentPool,\n    setCandleChartIsLoading,\n    candleChartIsLoading,\n    basePrice,\n    changedIn24h,\n    cTokenPrice,\n    baseToken,\n    quoteToken,\n    powers,\n    cToken,\n    baseId,\n    quoteId,\n    logicAddress,\n    dTokens,\n    states,\n    poolAddress,\n    chartIsOutDate,\n    chartTimeFocus,\n    chartResolutionIsUpdated\n  }\n}\n","import { useDispatch, useSelector } from 'react-redux'\nimport {\n  updateBalanceAndAllowancesReduce\n} from '../reducer'\nimport { AllowancesType, BalancesType } from '../type'\nimport { useWeb3React } from '../../customWeb3React/hook'\nimport { useConfigs } from '../../config/useConfigs'\nimport { ethers } from 'ethers'\nimport ERC20Abi from '../../../assets/abi/IERC20.json'\nimport { LARGE_VALUE, POOL_IDS } from '../../../utils/constant'\nimport { toast } from 'react-toastify'\nimport {\n  bn,\n  decodeErc1155Address,\n  isErc1155Address,\n  parseCallStaticError\n} from '../../../utils/helpers'\nimport { messageAndViewOnBsc } from '../../../Components/MessageAndViewOnBsc'\nimport { useContract } from '../../../hooks/useContract'\nimport { useCurrentPool } from '../../currentPool/hooks/useCurrentPool'\n\nexport const useWalletBalance = () => {\n  const { getPoolContract } = useContract()\n  const { powers, poolAddress } = useCurrentPool()\n  const { balances, accFetchBalance, routerAllowances } = useSelector((state: any) => {\n    return {\n      balances: state.wallet.balances,\n      routerAllowances: state.wallet.routerAllowances,\n      accFetchBalance: state.wallet.accFetchBalance\n    }\n  })\n  const { configs, chainId, ddlEngine } = useConfigs()\n  const { library, account } = useWeb3React()\n\n  const dispatch = useDispatch()\n\n  const updateBalanceAndAllowances = ({\n    balances,\n    routerAllowances\n  }: {\n    balances: BalancesType,\n    routerAllowances: AllowancesType\n  }) => {\n    dispatch(\n      updateBalanceAndAllowancesReduce({\n        account,\n        balances,\n        routerAllowances\n      })\n    )\n  }\n\n  const approveRouter = async ({\n    tokenAddress\n  }: { tokenAddress: string }) => {\n    if (account && library) {\n      try {\n        const signer = library.getSigner()\n        let hash = ''\n        if (tokenAddress === poolAddress || isErc1155Address(tokenAddress)) {\n          const poolAddress = decodeErc1155Address(tokenAddress).address\n          const contract = getPoolContract(poolAddress, signer)\n          const txRes = await contract.setApprovalForAll(configs.addresses.router, true)\n          await txRes.wait(1)\n          hash = txRes.hash\n\n          const routerAllowances = {\n            [tokenAddress]: bn(LARGE_VALUE),\n            [tokenAddress + '-' + POOL_IDS.cp]: bn(LARGE_VALUE)\n          }\n          powers.forEach((power, key) => {\n            routerAllowances[poolAddress + '-' + key] = bn(LARGE_VALUE)\n          })\n\n          updateBalanceAndAllowances({\n            balances: {},\n            routerAllowances\n          })\n        } else {\n          const contract = new ethers.Contract(tokenAddress, ERC20Abi, signer)\n          const txRes = await contract.approve(configs.addresses.router, LARGE_VALUE)\n          await txRes.wait(1)\n          hash = txRes.hash\n          updateBalanceAndAllowances({ balances: {}, routerAllowances: { [tokenAddress]: bn(LARGE_VALUE) } })\n        }\n        toast.success(\n          messageAndViewOnBsc({\n            title: 'Approve success',\n            hash\n          })\n        )\n      } catch (e) {\n        toast.error(parseCallStaticError(e))\n      }\n    } else {\n      toast.error('Please connect the wallet')\n    }\n  }\n\n  const fetchBalanceAndAllowance = async (tokensArr: string[]) => {\n    if (!ddlEngine) return\n    const { balances, allowances } = await ddlEngine.BNA.getBalanceAndAllowance({\n      account,\n      tokens: tokensArr,\n      rpcUrl: configs.rpcUrl,\n      chainId: chainId\n    })\n    updateBalanceAndAllowances({\n      balances,\n      routerAllowances: {\n        ...allowances,\n        [configs.addresses.nativeToken]: bn(LARGE_VALUE)\n      }\n    })\n  }\n\n  return {\n    accFetchBalance,\n    routerAllowances,\n    balances,\n    fetchBalanceAndAllowance,\n    approveRouter\n  }\n}\n","import React from 'react'\nimport { store } from '../../state'\n\nexport const messageAndViewOnBsc = ({\n  title = '',\n  message = '',\n  hash = ''\n}: {\n  title: string\n  message?: string\n  hash?: string\n}) => {\n  const state = store.getState()\n  const configs = state.configs.configs\n  return (\n    <div>\n      <h4>{title}</h4>\n      {message && <p className='mt-1'>{message}</p>}\n      {hash && (\n        <p className='mt-1'>\n          <a\n            href={`${configs.explorer}/tx/${hash}`}\n            className='bsc-link'\n            target='_blank'\n            rel='noreferrer'\n          >\n            View on {configs.scanName}\n          </a>\n        </p>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport './style.scss'\n\nexport const Card = (\n  props: React.HTMLAttributes<HTMLDivElement> & { children: any }\n) => {\n  return (\n    <div {...props} className={`card ${props.className}`}>\n      {props.children}\n    </div>\n  )\n}\n","import React from 'react'\n\ntype IconType = React.HTMLAttributes<HTMLOrSVGElement> & {\n  fill?: string\n}\n\nexport const IconArrowDown = (props: IconType) => {\n  return (\n    <svg\n      width='24'\n      height='24'\n      viewBox='0 0 24 24'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n      {...props}\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M15.7348 14.0909C16.1094 14.4968 16.0841 15.1294 15.6783 15.504L12.1783 18.7348C11.7953 19.0884 11.2048 19.0884 10.8218 18.7348L7.32172 15.504C6.9159 15.1294 6.89059 14.4968 7.26519 14.091C7.63979 13.6851 8.27245 13.6598 8.67827 14.0344L10.5 15.716L10.5 6C10.5 5.44772 10.9477 5 11.5 5C12.0523 5 12.5 5.44771 12.5 6L12.5 15.716L14.3217 14.0344C14.7275 13.6598 15.3602 13.6851 15.7348 14.0909Z'\n        fill={props.fill ? props.fill : '#808191'}\n      />\n    </svg>\n  )\n}\n\nexport const IconArrowRight = (props: IconType) => {\n  return (\n    <svg\n      width='24'\n      height='24'\n      viewBox='0 0 24 24'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n      {...props}\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M14.0909 7.26521C14.4968 6.8906 15.1294 6.9159 15.504 7.32172L18.7348 10.8217C19.0884 11.2047 19.0884 11.7952 18.7348 12.1782L15.504 15.6783C15.1294 16.0841 14.4968 16.1094 14.091 15.7348C13.6851 15.3602 13.6598 14.7276 14.0344 14.3217L15.716 12.5L6 12.5C5.44771 12.5 5 12.0523 5 11.5C5 10.9477 5.44771 10.5 6 10.5L15.716 10.5L14.0344 8.67829C13.6598 8.27247 13.6851 7.63981 14.0909 7.26521Z'\n        fill={props.fill ? props.fill : 'white'}\n      />\n    </svg>\n  )\n}\n\nexport const IconArrowLeft = (props: IconType) => {\n  return (\n    <svg\n      width='24'\n      height='24'\n      viewBox='0 0 24 24'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M9.90906 16.7348C9.50324 17.1094 8.87058 17.0841 8.49597 16.6783L5.2652 13.1783C4.9116 12.7953 4.9116 12.2048 5.26519 11.8218L8.49597 8.32172C8.87057 7.91589 9.50323 7.89059 9.90905 8.26519C10.3149 8.63979 10.3402 9.27245 9.96558 9.67827L8.28397 11.5L18 11.5C18.5523 11.5 19 11.9477 19 12.5C19 13.0523 18.5523 13.5 18 13.5L8.284 13.5L9.96557 15.3217C10.3402 15.7275 10.3149 16.3602 9.90906 16.7348Z'\n        fill={props.fill ? props.fill : 'white'}\n      />\n    </svg>\n  )\n}\n\nexport const IconOptionLeft = (props: IconType) => {\n  return (\n    <svg\n      width='24'\n      height='24'\n      viewBox='0 0 24 24'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n      {...props}\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M2 16C1.44772 16 1 16.4477 1 17C1 17.5523 1.44772 18 2 18H13C13.5523 18 14 17.5523 14 17C14 16.4477 13.5523 16 13 16H2ZM19 16C18.4477 16 18 16.4477 18 17C18 17.5523 18.4477 18 19 18H22C22.5523 18 23 17.5523 23 17C23 16.4477 22.5523 16 22 16H19Z'\n        fill='#808191'\n      />\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M16 21C18.2091 21 20 19.2091 20 17C20 14.7909 18.2091 13 16 13C13.7909 13 12 14.7909 12 17C12 19.2091 13.7909 21 16 21Z'\n        fill='#808191'\n      />\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M2 6C1.44772 6 1 6.44772 1 7C1 7.55228 1.44772 8 2 8H5C5.55228 8 6 7.55228 6 7C6 6.44772 5.55228 6 5 6H2ZM11 6C10.4477 6 10 6.44772 10 7C10 7.55228 10.4477 8 11 8H22C22.5523 8 23 7.55228 23 7C23 6.44772 22.5523 6 22 6H11Z'\n        fill='#808191'\n      />\n      <path\n        d='M8 11C10.2091 11 12 9.20914 12 7C12 4.79086 10.2091 3 8 3C5.79086 3 4 4.79086 4 7C4 9.20914 5.79086 11 8 11Z'\n        fill={props.fill ? props.fill : '#808191'}\n      />\n    </svg>\n  )\n}\n\nexport const CustomTokenIcon = (props: any) => {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      width={props.size ? props.size + 'px' : '24px'}\n      height={props.size ? props.size + 'px' : '24px'}\n      viewBox='0 0 24 24'\n      fill='none'\n      stroke='#000'\n      strokeWidth='2'\n      strokeLinecap='round'\n      strokeLinejoin='round'\n      className='sc-fZwumE evMpaO'\n    >\n      <circle cx='12' cy='12' r='10' />\n      <path d='M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3' />\n      <line x1='12' y1='17' x2='12.01' y2='17' />\n    </svg>\n  )\n}\n\nexport const SearchIcon = (props: any) => {\n  return (\n    <svg\n      width={props.size ? props.size : '20'}\n      height={props.size ? props.size : '20'}\n      viewBox='0 0 20 20'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M12.4215 13.6C11.2925 14.4775 9.87401 15.0001 8.33342 15.0001C4.65152 15.0001 1.66675 12.0153 1.66675 8.33342C1.66675 4.65152 4.65152 1.66675 8.33342 1.66675C12.0153 1.66675 15.0001 4.65152 15.0001 8.33342C15.0001 9.87401 14.4775 11.2925 13.6 12.4215L18.0893 16.9108C18.4148 17.2363 18.4148 17.7639 18.0893 18.0893C17.7639 18.4148 17.2363 18.4148 16.9108 18.0893L12.4215 13.6ZM13.3334 8.33342C13.3334 11.0948 11.0948 13.3334 8.33342 13.3334C5.57199 13.3334 3.33341 11.0948 3.33341 8.33342C3.33341 5.57199 5.57199 3.33341 8.33342 3.33341C11.0948 3.33341 13.3334 5.57199 13.3334 8.33342Z'\n        fill='#808191'\n      />\n    </svg>\n  )\n}\n\nexport const XIcon = (props: any) => {\n  return (\n    <svg\n      width={props.size ? props.size : '10'}\n      height={props.size ? props.size : '10'}\n      viewBox='0 0 10 10'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M9.4714 9.47136C9.21105 9.73171 8.78894 9.73171 8.52859 9.47136L5 5.94277L1.4714 9.47136C1.21105 9.73171 0.788942 9.73171 0.528593 9.47136C0.268243 9.21101 0.268243 8.7889 0.528593 8.52855L4.05719 4.99996L0.528593 1.47136C0.268243 1.21101 0.268243 0.788904 0.528593 0.528555C0.788942 0.268205 1.21105 0.268205 1.4714 0.528555L5 4.05715L8.52859 0.528555C8.78894 0.268205 9.21105 0.268205 9.4714 0.528555C9.73175 0.788904 9.73175 1.21101 9.4714 1.47136L5.94281 4.99996L9.4714 8.52855C9.73175 8.7889 9.73175 9.21101 9.4714 9.47136Z'\n        fill='#FF7A68'\n      />\n    </svg>\n  )\n}\n\nexport const DropDownIcon = (props: any) => {\n  return (\n    <svg\n      width={props.size ? props.size : '10'}\n      height={props.size ? props.size : '10'}\n      viewBox='0 0 10 6'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M9.20711 0.792893C8.81658 0.402369 8.18342 0.402369 7.79289 0.792893L5 3.58579L2.20711 0.792893C1.81658 0.402369 1.18342 0.402369 0.792894 0.792893C0.402369 1.18342 0.402369 1.81658 0.792894 2.20711L4.29289 5.70711C4.68342 6.09763 5.31658 6.09763 5.70711 5.70711L9.20711 2.20711C9.59763 1.81658 9.59763 1.18342 9.20711 0.792893Z'\n        fill='white'\n      />\n    </svg>\n  )\n}\n\nexport const PlusIcon = (props: any) => {\n  return (\n    <svg\n      width={props.size ? props.size : '24'}\n      height={props.size ? props.size : '24'}\n      viewBox='0 0 24 24'\n      fill='none'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        fillRule='evenodd'\n        clipRule='evenodd'\n        d='M11 17C11 17.5523 11.4477 18 12 18C12.5523 18 13 17.5523 13 17V13H17C17.5523 13 18 12.5523 18 12C18 11.4477 17.5523 11 17 11H13L13 7C13 6.44771 12.5523 6 12 6C11.4477 6 11 6.44771 11 7L11 11L7 11C6.44771 11 6 11.4477 6 12C6 12.5523 6.44771 13 7 13L11 13V17Z'\n        fill='#01A7FA'\n      />\n    </svg>\n  )\n}\n\nexport const SwapIcon = (props: any) => {\n  return (\n    <svg\n      width={props.size ? props.size : '24'}\n      height={props.size ? props.size : '24'}\n      viewBox='0 0 24 24' id='swap'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <g data-name='Layer 2'>\n        <path\n          d='M4 9h13l-1.6 1.2a1 1 0 0 0-.2 1.4 1 1 0 0 0 .8.4 1 1 0 0 0 .6-.2l4-3a1 1 0 0 0 0-1.59l-3.86-3a1 1 0 0 0-1.23 1.58L17.08 7H4a1 1 0 0 0 0 2zm16 7H7l1.6-1.2a1 1 0 0 0-1.2-1.6l-4 3a1 1 0 0 0 0 1.59l3.86 3a1 1 0 0 0 .61.21 1 1 0 0 0 .79-.39 1 1 0 0 0-.17-1.4L6.92 18H20a1 1 0 0 0 0-2z'\n          data-name='swap'\n          fill='#01A7FA'\n        />\n      </g>\n    </svg>\n  )\n}\n\nexport const NoDataIcon = (props: any) => {\n  return (\n    <svg xmlns='http://www.w3.org/2000/svg'\n         width={props.size ? props.size : '56'}\n         height={props.size ? props.size : '56'}\n         viewBox='0 0 24 24'\n         fill='none'\n         stroke='#FFFFFF'\n      strokeWidth='2' strokeLinecap='round' strokeLinejoin='round'>\n      <polyline points='22 12 16 12 14 15 10 15 8 12 2 12' />\n      <path\n        d='M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z' />\n    </svg>\n  )\n}\n","import React from 'react'\nimport './style.scss'\n\ntype ButtonType = React.HTMLAttributes<HTMLButtonElement> & {\n  children: any\n  background?: string\n  disabled?: boolean\n}\n\nexport const Button = (props: ButtonType) => {\n  return (\n    <button {...props} className={'derivable-button ' + props.className}>\n      {props.children}\n    </button>\n  )\n}\n\nexport const ButtonBuy = (props: ButtonType) => {\n  return (\n    <Button {...props} className={'buy ' + props.className}>\n      {props.children}\n    </Button>\n  )\n}\n\nexport const ButtonBorder = (props: ButtonType & { fill?: string }) => {\n  return (\n    <Button\n      {...props}\n      style={{\n        borderColor: props.fill ? props.fill : '#01A7FA',\n        color: props.fill ? props.fill : '#01A7FA',\n        ...props.style\n      }}\n      className={'border ' + props.className}\n    >\n      {props.children}\n    </Button>\n  )\n}\n\nexport const ButtonSell = (props: ButtonType) => {\n  return (\n    <Button {...props} className={'sell ' + props.className}>\n      {props.children}\n    </Button>\n  )\n}\n\nexport const ButtonGrey = (props: ButtonType) => {\n  return (\n    <Button {...props} className={'grey ' + props.className}>\n      {props.children}\n    </Button>\n  )\n}\n\nexport const ButtonExecute = (props: ButtonType) => {\n  return (\n    <Button {...props} className={'execute ' + props.className}>\n      {props.children}\n    </Button>\n  )\n}\n\nexport const ButtonReset = (props: ButtonType) => {\n  return (\n    <Button {...props} className={'reset ' + props.className}>\n      {props.children}\n    </Button>\n  )\n}\n\nexport const ButtonAdd = (props: ButtonType) => {\n  return (\n    <Button {...props} className={'add ' + props.className}>\n      {props.children}\n    </Button>\n  )\n}\n","import React from 'react'\nimport './style.scss'\n\ntype TextType = React.HTMLAttributes<HTMLSpanElement> & { children: any, fontSize?: number, fontWeight?: number }\n\nexport const Text = (props: TextType) => {\n  return (\n    <span\n      {...props}\n      className={'derivable-text ' + props.className}\n      style={{\n        fontSize: props.fontSize,\n        fontWeight: props.fontWeight\n      }}\n    >\n      {props.children}\n    </span>\n  )\n}\n\nexport const TextBuy = (props: TextType) => {\n  return (\n    <Text {...props} className={'text-buy ' + props.className}>\n      {props.children}\n    </Text>\n  )\n}\n\nexport const TextSell = (props: TextType) => {\n  return (\n    <Text {...props} className={'text-sell ' + props.className}>\n      {props.children}\n    </Text>\n  )\n}\n\nexport const TextGrey = (props: TextType) => {\n  return (\n    <Text {...props} className={'text-grey ' + props.className}>\n      {props.children}\n    </Text>\n  )\n}\n\nexport const TextGreen = (props: TextType) => {\n  return (\n    <Text {...props} className={'text-green ' + props.className}>\n      {props.children}\n    </Text>\n  )\n}\n\nexport const TextPink = (props: TextType) => {\n  return (\n    <Text {...props} className={'text-pink ' + props.className}>\n      {props.children}\n    </Text>\n  )\n}\n\nexport const TextBlue = (props: TextType) => {\n  return (\n    <Text {...props} className={'text-blue ' + props.className}>\n      {props.children}\n    </Text>\n  )\n}\n\nexport const TextLink = (props: TextType & { href?: string }) => {\n  return (\n    <Text\n      {...props}\n      className={'text-link ' + props.className}\n      onClick={(e) => {\n        window.open(props.href)\n        if (props.onClick) {\n          props.onClick(e)\n        }\n      }}\n    >\n      {props.children}\n    </Text>\n  )\n}\n","import React, { useState } from 'react'\nimport './style.scss'\nimport { InputProps } from 'reactstrap'\n\ntype InputType = InputProps & {\n  inputWrapProps?: React.HTMLAttributes<HTMLDivElement>\n  prefix?: any\n  suffix?: any\n}\n\nexport const Input = (props: InputType) => {\n  const { inputWrapProps, ...rest } = props\n  const [isFocusing, setIsFocusing] = useState<boolean>(false)\n  return (\n    <div\n      {...rest}\n      className={`derivable-input-wrap ${isFocusing && 'focus'} ${inputWrapProps?.className} `}\n    >\n      {rest.prefix && (\n        <div className='derivable-input__prefix'>{rest.prefix}</div>\n      )}\n      <input\n        type='text'\n        {...rest}\n        onFocus={(e) => {\n          setIsFocusing(true)\n          if (rest.onFocus) {\n            rest.onFocus(e)\n          }\n        }}\n        onBlur={(e) => {\n          setIsFocusing(false)\n          if (rest.onBlur) {\n            rest.onBlur(e)\n          }\n        }}\n        className={`derivable-input ${rest.className} `}\n      />\n      {rest.suffix && (\n        <div className='derivable-input__suffix'>{rest.suffix}</div>\n      )}\n    </div>\n  )\n}\n","import React, { useRef } from 'react'\nimport './style.scss'\n\nexport const SkeletonLoader = (props: React.HTMLAttributes<HTMLDivElement> & {loading: boolean}) => {\n  const { loading, ...rest } = props\n  const contentRef = useRef(null)\n  return <div\n    style={{\n      // @ts-ignore\n      height: contentRef.current?.clientHeight || 18\n    }}\n    className={`skeleton-loader ${props.className}`}\n    {...rest}\n  >\n    {\n      loading && <div className='skeleton-loader__bone' />\n    }\n    <div className={`${loading && 'content-hidden'}`} ref={contentRef}>\n      {props.children}\n    </div>\n  </div>\n}\n","import { useConfigs } from './useConfigs'\n\nexport const useHelper = () => {\n  const { configs, chainId } = useConfigs()\n\n  const convertNativeAddressToWrapAddress = (address: string) => {\n    if (!address) return address\n\n    return address?.toLowerCase() === configs.addresses?.nativeToken?.toLowerCase()\n      ? configs.addresses?.wrapToken\n      : address\n  }\n\n  const getTokenIconUrl = (address: string) => {\n    if (chainId === 42161) {\n      return `https://cdn.arken.finance/token/arbitrum/${convertNativeAddressToWrapAddress(\n        address || ''\n      )?.toLowerCase()}.png`\n    }\n    return `https://farm.army/bsc/token/${convertNativeAddressToWrapAddress(\n      address || ''\n    )?.toLowerCase()}.webp`\n  }\n\n  return { convertNativeAddressToWrapAddress, getTokenIconUrl }\n}\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { CustomTokenIcon } from '../Icon'\nimport { useHelper } from '../../../state/config/useHelper'\nimport './style.scss'\n\nexport const TokenIcon = (props: {\n  src?: string\n  tokenAddress?: string\n  size?: number\n}) => {\n  const { tokenAddress, ...rest } = props\n  const { getTokenIconUrl } = useHelper()\n  const [isError, setIsError] = useState<boolean>(!props.src)\n\n  const onError = () => {\n    setIsError(true)\n  }\n\n  useEffect(() => {\n    setIsError(false)\n  }, [props.src])\n\n  const src = useMemo(() => {\n    if (props.src) return props.src\n    if (!tokenAddress) return ''\n    return getTokenIconUrl(tokenAddress)\n  }, [props])\n\n  if (isError || !src) {\n    return <CustomTokenIcon size={props.size || 50} {...props} />\n  } else {\n    return (\n      <img\n        onError={onError}\n        style={{\n          width: props.size || 50,\n          height: props.size || 50,\n          borderRadius: '50%'\n        }}\n        {...rest}\n        src={src}\n      />\n    )\n  }\n}\n","import React, { Fragment, useMemo } from 'react'\nimport { TokenType } from '../../../state/token/type'\nimport { useCurrentPool } from '../../../state/currentPool/hooks/useCurrentPool'\nimport { useListTokens } from '../../../state/token/hook'\nimport { TextBuy, TextSell } from '../Text'\n\nexport const TokenSymbol = ({ token }: {token: TokenType}) => {\n  const { baseToken, cToken, quoteToken } = useCurrentPool()\n  const { tokens } = useListTokens()\n  const result = useMemo(() => {\n    const symbol = token?.symbol\n    if (symbol && symbol.includes('^') && symbol.split('^').length === 2) {\n      const arr = symbol.split('^')\n      const power = arr[1]\n      let baseSymbol = tokens[baseToken]?.symbol ?? 'BNB'\n      if (baseSymbol.startsWith('W')) {\n        baseSymbol = baseSymbol.substring(1)\n      }\n      return <React.Fragment>\n        <span className='font-size-14 upper-case'>{baseSymbol}</span>\n        <sup className='font-size-12'>{power}</sup>\n      </React.Fragment>\n    }\n    // else if (token?.address === cToken) {\n    //   return <span className='font-size-14'>{symbol}_{tokens[baseToken]?.symbol}_{tokens[quoteToken]?.symbol}</span>\n    // }\n    return <span className='font-size-14'>{symbol}</span>\n  }, [token, baseToken])\n\n  return <React.Fragment>{result}</React.Fragment>\n}\n","import { BigNumber, ethers } from 'ethers'\nimport { formatUnits } from 'ethers/lib/utils'\nimport { bn } from './helpers'\n\nexport const formatNumber = (\n  number: number,\n  minPrecision = 2,\n  maxPrecision = 2\n) => {\n  const options = {\n    minimumFractionDigits: minPrecision,\n    maximumFractionDigits: maxPrecision\n  }\n  return number.toLocaleString(undefined, options)\n}\n\n/**\n * Method to format the display of wei given an ethers.BigNumber object\n * Note: does NOT round\n */\nexport const formatBigNumber = (\n  number: ethers.BigNumber,\n  displayDecimals = 18,\n  decimals = 18\n) => {\n  const remainder = number.mod(\n    ethers.BigNumber.from(10).pow(decimals - displayDecimals)\n  )\n  return formatUnits(number.sub(remainder), decimals)\n}\n\n/**\n * Method to format the display of wei given an ethers.BigNumber object with toFixed\n * Note: rounds\n */\nexport const formatBigNumberToFixed = (\n  number: ethers.BigNumber,\n  displayDecimals = 18,\n  decimals = 18\n) => {\n  const formattedString = formatUnits(number, decimals)\n  return (+formattedString).toFixed(displayDecimals)\n}\n\n/**\n * Formats a FixedNumber like BigNumber\n * i.e. Formats 9763410526137450427.1196 into 9.763 (3 display decimals)\n */\nexport const formatFixedNumber = (\n  number: ethers.FixedNumber,\n  displayDecimals = 18,\n  decimals = 18\n) => {\n  // Remove decimal\n  const [leftSide] = number.toString().split('.')\n  return formatBigNumber(\n    ethers.BigNumber.from(leftSide),\n    displayDecimals,\n    decimals\n  )\n}\n\nexport const formatLocalisedCompactNumber = (number: number): string => {\n  const codeFromStorage = 'en-US'\n  return new Intl.NumberFormat(codeFromStorage, {\n    // notation: 'compact',\n    // @ts-ignore\n    compactDisplay: 'long',\n    maximumSignificantDigits: 18\n  }).format(number)\n}\n\nexport const formatWeiToDisplayNumber = (\n  wei: string | number | BigNumber,\n  displayDecimals = 4,\n  decimal = 18\n) => {\n  if (bn(wei).isZero()) {\n    return ''\n  }\n  const fixedNumber = formatBigNumberToFixed(\n    ethers.BigNumber.from(wei),\n    displayDecimals,\n    decimal\n  )\n  return formatLocalisedCompactNumber(Number(fixedNumber))\n}\n\nexport default formatLocalisedCompactNumber\n","import React from 'react'\nimport './style.scss'\n\nconst defaultProps = {\n  borderWidth: '1px',\n  background: 'transparent'\n}\n\nexport const Box = (\n  props: React.HTMLAttributes<HTMLSpanElement> & {\n    children: any\n    background?: string\n    borderColor?: 'default' | 'buy' | 'sell' | 'blue' | string\n    borderWidth?: string | number\n    borderRadius?: string\n  }\n) => {\n  const propsWithDefault = {\n    ...defaultProps,\n    ...props\n  }\n\n  return (\n    <div className='derivable-box__wrap'>\n      {\n        propsWithDefault.title &&\n        <div className='derivable-box__title'>{propsWithDefault.title}</div>\n      }\n\n      <div\n        {...propsWithDefault}\n        className={`derivable-box ${propsWithDefault.className} ${propsWithDefault.borderColor ? ('border-' + propsWithDefault.borderColor) : ''} `}\n        style={{\n          ...propsWithDefault.style,\n          background: propsWithDefault.background || 'transparent',\n          borderRadius: propsWithDefault.borderRadius\n        }}\n      >\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { BigNumber } from 'ethers'\nimport { useConfigs } from '../state/config/useConfigs'\nimport { Box } from './ui/Box'\nimport { useNativePrice } from '../hooks/useTokenPrice'\nimport { formatWeiToDisplayNumber } from '../utils/formatBalance'\nimport { numberToWei, weiToNumber } from '../utils/helpers'\nimport { Text, TextGrey } from './ui/Text'\n\nexport const TxFee = ({ gasUsed } : {gasUsed: BigNumber}) => {\n  const { chainId } = useConfigs()\n  const { data: nativePrice } = useNativePrice()\n\n  return <Box borderColor='default' className='swap-info-box mt-1 mb-1 p-1'>\n    <InfoRow className='mb-1'>\n      <TextGrey>Gas Used</TextGrey>\n      <span>\n        <Text>{formatWeiToDisplayNumber(gasUsed, 0, 0)} Gas</Text>\n      </span>\n    </InfoRow>\n    <InfoRow>\n      <TextGrey>Transaction Fee</TextGrey>\n      <span>\n        <Text>\n          {weiToNumber(gasUsed.mul(0.1 * 10 ** 9), 18, 5)}\n          <TextGrey> {chainId === 56 ? 'BNB' : 'ETH'} </TextGrey>\n          (${weiToNumber(gasUsed.mul(0.1 * 10 ** 9).mul(numberToWei(nativePrice)), 36, 2)})\n        </Text>\n      </span>\n    </InfoRow>\n  </Box>\n}\n\nconst InfoRow = (props: any) => {\n  return (\n    <div\n      className={\n        'd-flex jc-space-between info-row font-size-12 ' + props.className\n      }\n    >\n      {props.children}\n    </div>\n  )\n}\n","export const useNativePrice = () => {\n  // const { ddlEngine } = useConfigs()\n  // return useSWR({ ddlEngine }, ({ ddlEngine }) => {\n  //   if (ddlEngine) {\n  //     return ddlEngine.PRICE.getNativePrice()\n  //   }\n  //   return undefined\n  // })\n  return { data: 1900 }\n}\n","import { useMemo } from 'react'\nimport {\n  bn, cutDecimal,\n  decodeErc1155Address,\n  isErc1155Address,\n  numberToWei,\n  weiToNumber\n} from '../utils/helpers'\nimport { useConfigs } from '../state/config/useConfigs'\nimport { useListTokens } from '../state/token/hook'\nimport { useListPool } from '../state/pools/hooks/useListPool'\nimport { useHelper } from '../state/config/useHelper'\nimport { useTokenPrice } from '../state/pools/hooks/useTokenPrice'\nimport { POOL_IDS } from '../utils/constant'\nimport { parseSqrtX96 } from 'derivable-tools/dist/utils/helper'\n\nexport const useTokenValue = ({\n  amount,\n  tokenAddress\n}: {\n  amount?: string,\n  tokenAddress?: string\n}) => {\n  const { prices } = useTokenPrice()\n  const { configs } = useConfigs()\n  const { tokens } = useListTokens()\n  const { pools } = useListPool()\n  const { convertNativeAddressToWrapAddress } = useHelper()\n\n  const getTokenValue = (_tokenAddress: string, _amount: string) => {\n    let value = '0'\n    const address = convertNativeAddressToWrapAddress(_tokenAddress)\n\n    if (isErc1155Address(address)) {\n      const { address: poolAddress, id } = decodeErc1155Address(address)\n      const pool = pools[poolAddress]\n      if (pool && pool.states) {\n        const rX = Number(id) === POOL_IDS.A\n          ? pool.states.rA\n          : Number(id) === POOL_IDS.B ? pool.states.rB : pool.states.rB\n\n        const sX = Number(id) === POOL_IDS.A\n          ? pool.states.sA\n          : Number(id) === POOL_IDS.B ? pool.states.sB : pool.states.sB\n\n        const tokenPrice = parseSqrtX96(\n          prices[pool.TOKEN_R]?.mul(rX)?.div(sX).mul(numberToWei(1, 9)) || bn(0),\n          tokens[address] || {},\n          tokens[configs.stableCoins[0]] || {}\n        )\n\n        value = weiToNumber(\n          bn(numberToWei(_amount)).mul(numberToWei(tokenPrice))\n          , 54)\n      }\n    } else {\n      console.log(prices, address)\n      const tokenPrice = prices[address] && prices[address].gt(0) ? parseSqrtX96(\n        prices[address]?.mul(numberToWei(1, 9)) || bn(0),\n        tokens[address] || {},\n        tokens[configs.stableCoins[0]] || {}\n      ) : numberToWei(1, 36)\n\n      value = weiToNumber(\n        bn(numberToWei(_amount)).mul(numberToWei(tokenPrice))\n        , 54)\n    }\n    return cutDecimal(value, 18)\n  }\n\n  const value = useMemo(() => {\n    if (!amount || !tokenAddress) return 0\n    return getTokenValue(tokenAddress, amount)\n  }, [amount, tokenAddress, prices])\n\n  return {\n    value,\n    getTokenValue\n  }\n}\n","import { useDispatch, useSelector } from 'react-redux'\nimport { State } from '../../types'\nimport { useListTokens } from '../../token/hook'\nimport { useEffect } from 'react'\nimport { addTokenPriceWithChain } from '../reducer'\nimport { useConfigs } from '../../config/useConfigs'\nimport { isAddress } from 'ethers/lib/utils'\nimport { NATIVE_ADDRESS } from '../../../utils/constant'\nimport _ from 'lodash'\n\nexport const useTokenPrice = () => {\n  const { chainId } = useConfigs()\n  const { prices } = useSelector((state: State) => {\n    return {\n      prices: state.pools.prices\n    }\n  })\n\n  return {\n    prices: prices[chainId]\n  }\n}\n\nexport const useFetchTokenPrice = () => {\n  const { tokens } = useListTokens()\n  const { chainId, configs, ddlEngine } = useConfigs()\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    fetchPrice()\n  }, [ddlEngine, tokens, chainId])\n\n  const fetchPrice = async () => {\n    const tokenAddress = _.uniq(\n      [\n        ...Object.keys(tokens),\n        configs.addresses.wrapToken\n      ].filter((a) => {\n        return isAddress(a) && a !== NATIVE_ADDRESS\n      })\n    )\n\n    if (ddlEngine && tokenAddress.length > 0) {\n      ddlEngine.PRICE.getTokenPrices(tokenAddress)\n        .then((data: any) => {\n          dispatch(addTokenPriceWithChain({\n            prices: data,\n            chainId\n          }))\n        })\n    }\n  }\n}\n","import { useMemo } from 'react'\nimport { NATIVE_ADDRESS, POOL_IDS, ZERO_ADDRESS } from '../utils/constant'\nimport { useTokenValue } from './useTokenValue'\nimport { bn, numberToWei, weiToNumber } from '../utils/helpers'\nimport { useListTokens } from '../state/token/hook'\nimport { useListPool } from '../state/pools/hooks/useListPool'\nimport { PoolType } from '../state/types'\nimport _ from 'lodash'\n\nconst barColors = ['#01A7FA', '#FF98E5', '#4FBF67', '#3DBAA2']\n\nexport const useGenerateLeverageData = (pairAddr: string, power: string, amountIn: string) => {\n  const { tokens } = useListTokens()\n  const { getTokenValue } = useTokenValue({})\n  const { poolGroups } = useListPool()\n\n  const pools: PoolType = poolGroups[pairAddr]?.pools || {}\n\n  const oldLeverageData = useMemo(() => {\n    const result = {}\n    if (Object.values(pools).length > 0) {\n      Object.values(pools).forEach((pool) => {\n        const size = bn(numberToWei(getTokenValue(\n          pool.TOKEN_R,\n          weiToNumber(pool.states.R, tokens[pool.TOKEN_R]?.decimal)\n        )))\n\n        const power = Math.abs(pool.k.toNumber() / 2)\n\n        if (!result[power]) {\n          result[power] = {\n            x: power,\n            xDisplay: (power) + 'x',\n            totalSize: size,\n            bars: [\n              {\n                x: power,\n                token: pool.poolAddress + '-' + POOL_IDS.C,\n                size,\n                color: barColors[0]\n              }\n            ]\n          }\n        } else {\n          const bars = result[power].bars\n          bars.push({\n            x: power,\n            token: pool.poolAddress + '-' + POOL_IDS.C,\n            size,\n            color: barColors[bars.length]\n          })\n          result[power].bars = bars\n          result[power].totalSize = result[power].totalSize.add(size)\n        }\n      })\n    }\n\n    return result\n  }, [pools])\n\n  return useMemo(() => {\n    const result = _.cloneDeep(oldLeverageData)\n\n    if (amountIn && Number(power) > 0) {\n      const size = bn(numberToWei(getTokenValue(\n        NATIVE_ADDRESS,\n        amountIn\n      )))\n\n      if (oldLeverageData[power]) {\n        result[power].bars.push({\n          x: power,\n          token: ZERO_ADDRESS + '-' + POOL_IDS.C,\n          size,\n          color: '#ffffff'\n        })\n        result[power].totalSize = result[power].totalSize.add(size)\n      } else {\n        result[power] = {\n          x: power,\n          xDisplay: (power) + 'x',\n          totalSize: size,\n          bars: [\n            {\n              x: power,\n              token: ZERO_ADDRESS + '-' + POOL_IDS.C,\n              size,\n              color: '#ffffff'\n            }\n          ]\n        }\n      }\n    }\n\n    let maxTotalSize = bn(0)\n    for (const i in result) {\n      if (result[i].totalSize.gt(maxTotalSize)) {\n        maxTotalSize = result[i].totalSize\n      }\n    }\n\n    let data = Object.values(result)\n    data = data.map((leverage: any) => {\n      const bars = leverage.bars.map((bar: any) => {\n        return {\n          ...bar,\n          reserve: bar.size,\n          size: bar.size.mul(10000).div(maxTotalSize).toNumber() / 100\n          // size: 50 + leverage.x\n        }\n      })\n\n      return {\n        ...leverage,\n        bars: bars.sort((a: any, b: any) => b.size - a.size)\n      }\n    })\n\n    return data\n  }, [amountIn, power, oldLeverageData])\n}\n","import React, { useMemo, useState } from 'react'\nimport LeverageSlider from 'leverage-slider/dist/component'\nimport { bn, formatFloat } from '../../utils/helpers'\nimport './style.scss'\nimport { Input } from '../ui/Input'\nimport { SkeletonLoader } from '../ui/SkeletonLoader'\nimport { TokenIcon } from '../ui/TokenIcon'\nimport { TokenSymbol } from '../ui/TokenSymbol'\nimport { useListTokens } from '../../state/token/hook'\nimport { Text, TextBlue } from '../ui/Text'\nimport { useWalletBalance } from '../../state/wallet/hooks/useBalances'\nimport { NATIVE_ADDRESS, ZERO_ADDRESS } from '../../utils/constant'\nimport formatLocalisedCompactNumber, { formatWeiToDisplayNumber } from '../../utils/formatBalance'\nimport { TxFee } from '../TxFee'\nimport { ButtonExecute } from '../ui/Button'\nimport { useWeb3React } from '../../state/customWeb3React/hook'\nimport { useGenerateLeverageData } from '../../hooks/useGenerateLeverageData'\nimport { NoDataIcon } from '../ui/Icon'\nimport { Box } from '../ui/Box'\nimport { useTokenValue } from '../../hooks/useTokenValue'\n\nexport const PoolCreateInfo = ({ pairAddr, power }: { pairAddr: string, power: string }) => {\n  const [amountIn, setAmountIn] = useState<any>()\n  const [barData, setBarData] = useState<any>({ x: 0 })\n  const { tokens } = useListTokens()\n  const { balances } = useWalletBalance()\n  const [recipient, setRecipient] = useState<string>(ZERO_ADDRESS)\n  const [visibleRecipient, setVisibleRecipient] = useState<boolean>(false)\n  const inputTokenAddress = NATIVE_ADDRESS\n  const { account } = useWeb3React()\n  const data = useGenerateLeverageData(pairAddr, power, amountIn)\n\n  const { value } = useTokenValue({\n    amount: amountIn,\n    tokenAddress: NATIVE_ADDRESS\n  })\n\n  useMemo(() => {\n    if (account) {\n      setRecipient(account)\n    }\n  }, [account])\n\n  return (\n    <div className='pool-create-info'>\n      <div className='amount-input-box'>\n        <div className='amount-input-box__head'>\n          <SkeletonLoader loading={!tokens[Object.keys(tokens)[0]]}>\n            <span\n              className='current-token'\n              onClick={(address) => {\n                // setVisibleSelectTokenModal(true)\n                // setTokenTypeToSelect('input')\n              }}\n            >\n              <TokenIcon size={24} tokenAddress={inputTokenAddress} />\n              <Text><TokenSymbol token={tokens[inputTokenAddress]} /></Text>\n            </span>\n          </SkeletonLoader>\n          <SkeletonLoader loading={balances[inputTokenAddress]}>\n            <Text\n              className='amount-input-box__head--balance'\n              onClick={() => {\n                // setAmountIn(weiToNumber(balances[inputTokenAddress], tokens[inputTokenAddress]?.decimal || 18))\n              }}\n            >Balance: {balances && balances[inputTokenAddress]\n                ? formatWeiToDisplayNumber(\n                  balances[inputTokenAddress],\n                  4,\n                tokens[inputTokenAddress]?.decimal || 18\n                )\n                : 0\n              }\n            </Text>\n          </SkeletonLoader>\n        </div>\n        <Input\n          placeholder='0.0'\n          // suffix={Number(valueIn) > 0 ? <TextGrey>${formatLocalisedCompactNumber(formatFloat(valueIn))}</TextGrey> : ''}\n          className='fs-24'\n          // @ts-ignore\n          value={amountIn}\n          onChange={(e) => {\n            // @ts-ignore\n            if (Number(e.target.value) >= 0) {\n              setAmountIn((e.target as HTMLInputElement).value)\n            }\n          }}\n        />\n      </div>\n\n      <Box\n        borderColor='blue'\n        className='estimate-box swap-info-box mt-2 mb-2'\n      >\n        <TextBlue className='estimate-box__title liquidity'>\n          Liquidity {barData?.x}x\n        </TextBlue>\n        <InfoRow>\n          <span>\n              Value\n          </span>\n          <span className={`delta-box ${!amountIn && 'no-data'}`}>\n            <div className='text-left'>\n              <Text>0</Text>\n            </div>\n            {\n              amountIn && <React.Fragment>\n                <div className='icon-plus'><Text>+</Text></div>\n                <div className='text-right'>\n                  <Text>\n                    {formatLocalisedCompactNumber(formatFloat(value))}\n                  </Text>\n                </div>\n              </React.Fragment>\n            }\n          </span>\n        </InfoRow>\n        <InfoRow>\n          <span>\n              Expiration\n          </span>\n          <div className={`delta-box ${!amountIn && 'no-data'}`}>\n            <div className='text-left'>\n              <Text>0</Text>\n            </div>\n            {\n              amountIn && (<React.Fragment>\n                <div className='plus-icon'><Text>+</Text></div>\n                <div className='text-right'><Text>1s</Text></div>\n              </React.Fragment>)\n            }\n          </div>\n        </InfoRow>\n      </Box>\n\n      {\n        (data && data.length > 0)\n          ? <LeverageSlider\n            setBarData={setBarData}\n            barData={barData}\n            leverageData={data}\n            height={100}\n          />\n          : <div className='no-leverage-chart-box'>\n            <NoDataIcon />\n            <Text> Leverage chart here </Text>\n          </div>\n      }\n\n      <div className='config-item mt-2 mb-1'>\n        <div className='recipient-box'>\n          <TextBlue fontSize={14} fontWeight={600}>\n            Recipient\n          </TextBlue>\n          <TextBlue\n            className='btn-toggle'\n            fontSize={14} fontWeight={600}\n            onClick={() => {\n              setVisibleRecipient(!visibleRecipient)\n            }}\n          >\n            {visibleRecipient ? '-' : '+'}\n          </TextBlue>\n        </div>\n        {visibleRecipient &&\n        <Input\n          inputWrapProps={{\n            className: 'config-input'\n          }}\n          value={recipient}\n          placeholder='0x...'\n          onChange={(e) => {\n          // @ts-ignore\n            setRecipient((e.target as HTMLInputElement).value)\n          }}\n        />\n        }\n      </div>\n\n      <TxFee gasUsed={bn(1000000)} />\n      <ButtonExecute\n        className='create-pool-button w-100 mt-1'\n      >\n        Create pool\n      </ButtonExecute>\n    </div>\n  )\n}\n\nconst InfoRow = (props: any) => {\n  return (\n    <div\n      className={\n        'd-flex jc-space-between info-row font-size-12 ' + props.className\n      }\n    >\n      {props.children}\n    </div>\n  )\n}\n","import React, { useEffect } from 'react'\nimport './style.scss'\n\nexport interface modalInterface {\n  setVisible: any\n  visible: any\n  children: any\n  width?: any\n  minWidth?: any\n  title?: any\n}\n\nexport const Modal = ({\n  width,\n  minWidth,\n  setVisible,\n  visible,\n  children,\n  title\n}: modalInterface) => {\n  // const { enableScroll, disableScroll } = useDisableScroll()\n  useEffect(() => {\n    window.addEventListener('keyup', (e: any) => {\n      if (e.which === 27) {\n        setVisible(false)\n      }\n    })\n  }, [])\n\n  // useEffect(() => {\n  //   if (visible) {\n  //     disableScroll()\n  //   } else {\n  //     enableScroll()\n  //   }\n  // }, [visible])\n\n  return (\n    <div className={`swap-modal  ${visible ? 'show' : ''}`}>\n      <div className='overlay' onClick={() => setVisible(false)} />\n      <div\n        className='modal'\n        style={{ width: width || '40rem', minWidth: minWidth || '40rem' }}\n      >\n        <div className='btn-close-wrap'>\n          <span className='title'>{title || ''}</span>\n          <span className='btn-close' onClick={() => setVisible(false)}>\n            {/* <ExitIcon /> */}X\n          </span>\n        </div>\n        {visible && <div className='modal-content'>{children}</div>}\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Modal } from '../ui/Modal'\nimport { Box } from '../ui/Box'\nimport { TokenIcon } from '../ui/TokenIcon'\nimport { useWalletBalance } from '../../state/wallet/hooks/useBalances'\nimport { TokenSymbol } from '../ui/TokenSymbol'\nimport { Text } from '../ui/Text'\nimport './style.scss'\nimport { formatWeiToDisplayNumber } from '../../utils/formatBalance'\nimport isEqual from 'react-fast-compare'\nimport { TokenType } from '../../state/token/type'\nimport { Input } from '../ui/Input'\nimport { useContract } from '../../hooks/useContract'\nimport { utils } from 'ethers'\nimport { useListTokens } from '../../state/token/hook'\n\nconst Component = ({\n  visible,\n  setVisible,\n  iniTokens,\n  onSelectToken\n}: {\n  visible: boolean,\n  setVisible: any,\n  iniTokens: TokenType[],\n  onSelectToken: any,\n}) => {\n  const { balances } = useWalletBalance()\n  const [tokenAddress, setTokenAddress] = useState<string>('')\n  const { getTokenInfoContract } = useContract()\n  const { tokens, addTokenToList } = useListTokens()\n  const tokensArr = Object.values(tokens)\n\n  useEffect(() => {\n    fetchTokenInfo()\n  }, [tokenAddress])\n\n  const fetchTokenInfo = async () => {\n    try {\n      if (!utils.isAddress(tokenAddress)) {\n        return\n      }\n      const contract = getTokenInfoContract()\n      const res = await contract.getTokenInfo([tokenAddress])\n\n      addTokenToList({\n        address: utils.getAddress(tokenAddress),\n        decimal: res[0].decimals,\n        symbol: res[0].symbol,\n        name: res[0].name\n      })\n      console.log(res)\n    } catch (e) {\n    }\n  }\n\n  return <Modal\n    setVisible={setVisible}\n    visible={visible}\n    title='Select token'\n  >\n    <div>\n      <Input\n        value={tokenAddress}\n        onChange={(e) => {\n          setTokenAddress(e.target.value)\n        }}\n      />\n    </div>\n\n    <div className='select-token-modal'>\n      {\n        tokensArr.map((token: any, key: number) => {\n          const fee: string | any = ''\n          const symbol = <TokenSymbol token={token} />\n          return <Box\n            key={key}\n            className='option'\n            onClick={() => {\n              onSelectToken(token)\n              setVisible(false)\n            }}\n          >\n            <div className='jc-space-between align-item-center'>\n              <div className='option__icon-and-name'>\n                <TokenIcon size={24} tokenAddress={token.address} />\n                <Text>{symbol}</Text>\n                {fee}\n              </div>\n              <span>\n                {balances && balances[token.address]\n                  ? formatWeiToDisplayNumber(\n                    balances[token.address],\n                    4,\n                    token?.decimal || 18\n                  )\n                  : 0}\n              </span>\n            </div>\n          </Box>\n        })\n      }\n    </div>\n  </Modal>\n}\n\nexport const SelectTokenModal = React.memo(Component, (prevProps, nextProps) =>\n  isEqual(prevProps, nextProps)\n)\n","import React, { useEffect, useState } from 'react'\nimport { Text, TextBlue } from '../ui/Text'\nimport { Input } from '../ui/Input'\nimport { ButtonGrey } from '../ui/Button'\nimport { SwapIcon } from '../ui/Icon'\nimport { useConfigs } from '../../state/config/useConfigs'\nimport { ZERO_ADDRESS } from '../../utils/constant'\nimport { bn } from '../../utils/helpers'\nimport { Box } from '../ui/Box'\nimport './style.scss'\nimport { SelectTokenModal } from '../SelectTokenModal'\nimport { useListTokens } from '../../state/token/hook'\nimport { useContract } from '../../hooks/useContract'\nimport { utils } from 'ethers'\n\nexport const OracleConfigBox = ({\n  power,\n  setPower,\n  pairAddr,\n  setPairAddr\n}: {\n  power: string,\n  setPower: any,\n  pairAddr: string,\n  setPairAddr: any\n}) => {\n  const { ddlEngine } = useConfigs()\n  const [pairInfo, setPairInfo] = useState<string[]>([])\n  const [quoteTokenIndex, setQuoteTokenIndex] = useState<string>('0')\n  const [windowTimeSuggest, setWindowTimeSuggest] = useState<string[]>([])\n  const [mark, setMark] = useState<string>('')\n  const [markSuggest, setMarkSuggest] = useState<string[]>([])\n  const [initTime, setInitTime] = useState<string>('')\n  const [initTimeSuggest, setInitTimeSuggest] = useState<string[]>([])\n  const [windowTime, setWindowTime] = useState<string>('')\n  const [token0, setToken0] = useState<any>({})\n  const [token1, setToken1] = useState<any>({})\n  const [fee, setFee] = useState<any>(0)\n  const { tokens } = useListTokens()\n  const [visibleSelectTokenModal, setVisibleSelectTokenModal] = useState<boolean>(false)\n  const [selectingToken, setSelectingToken] = useState<'token0' | 'token1' | ''>('')\n  const { getUniV3FactoryContract } = useContract()\n\n  const suggestConfigs = (qTIndex: string, qTDecimal: string) => {\n    // const filterExistPoolData = Object.entries(pools).filter(([key]) => {\n    //   return key.includes(pairAddr.substring(2).toLowerCase())\n    // })\n    const filterExistPoolData: any = []\n    const wTimeArr = []\n    const markArr = []\n    const iTimeArr = []\n    for (let index = 0; index < filterExistPoolData.length; index++) {\n      const poolData = filterExistPoolData[index][1]\n      const oracle = poolData.ORACLE\n      if ((qTIndex === '0' && oracle.includes('0x0')) || (qTIndex === '1' && oracle.includes('0x8'))) {\n        wTimeArr.push(bn(oracle).shr(192).toNumber().toString())\n        if (parseInt(qTDecimal) === 6) {\n          markArr.push(Math.pow(poolData.MARK.mul(1e6).shr(128).toNumber(), 2).toString())\n        } else {\n          markArr.push(Math.pow(poolData.MARK.shr(128).toNumber(), 2).toString())\n        }\n        iTimeArr.push(poolData.INIT_TIME.toNumber().toString())\n      }\n    }\n    setWindowTime(wTimeArr[0])\n    setWindowTimeSuggest(wTimeArr)\n    setMark(markArr[0])\n    setMarkSuggest(markArr)\n    setInitTime(iTimeArr[0])\n    setInitTimeSuggest(iTimeArr)\n  }\n\n  useEffect(() => {\n    if (token0 && token1 && fee) {\n      console.log(token0, token1, fee)\n      getPairAddress()\n    }\n  }, [token0, token1, fee])\n\n  useEffect(() => {\n    fetchPairInfo()\n  }, [pairAddr])\n\n  const getPairAddress = async () => {\n    try {\n      const contract = getUniV3FactoryContract()\n      const res = await contract.getPool(token0.address, token1.address, fee)\n      console.log(res)\n      if (res !== pairAddr) {\n        setPairAddr(utils.getAddress(res))\n      }\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const fetchPairInfo = async () => {\n    if (ddlEngine && pairAddr && pairAddr !== ZERO_ADDRESS) {\n      try {\n        const res = await ddlEngine.UNIV3PAIR.getPairInfo({\n          pairAddress: pairAddr\n        })\n        setToken0(formatTokenType(res.token0))\n        setToken1(formatTokenType(res.token1))\n        setFee(res.fee.toNumber)\n        // setPairInfo1({ pair: pairAddr, ...res })\n        // console.log(res)\n        // if (res.token0.symbol.toLowerCase().includes('us') || res.token0.symbol.toLowerCase().includes('dai')) {\n        //   setPairInfo([\n        //     res.token1.symbol + '/' + res.token0.symbol,\n        //     res.token0.symbol + '/' + res.token1.symbol\n        //   ])\n        //   setQuoteTokenIndex('0')\n        //   suggestConfigs('0', res.token0.decimals)\n        // } else {\n        //   setPairInfo([\n        //     res.token0.symbol + '/' + res.token1.symbol,\n        //     res.token1.symbol + '/' + res.token0.symbol\n        //   ])\n        //   setQuoteTokenIndex('1')\n        //   suggestConfigs('1', res.token1.decimals)\n        // }\n      } catch (error) {\n        console.log(error)\n        setPairInfo(['Can not get UniswapV3 Pair Info'])\n      }\n    }\n  }\n\n  return <React.Fragment>\n    <Box\n      className='oracle-config-box mt-1 mb-2'\n      borderColor='blue'\n    >\n      <TextBlue className='oracle-config__title'>\n        UniswapV3 Pair\n      </TextBlue>\n      <div className='ddl-pool-page__content--pool-config'>\n        <div className='config-item'>\n          {/* <TextBlue fontSize={14} fontWeight={600} /> */}\n          <Input\n            inputWrapProps={{\n              className: 'config-input'\n            }}\n            value={pairAddr}\n            placeholder='0x...'\n            onChange={(e) => {\n              // @ts-ignore\n              setPairAddr((e.target as HTMLInputElement).value)\n            }}\n          />\n        </div>\n      </div>\n      <div className='oracle-config__select-token-box'>\n        <ButtonGrey\n          onClick={() => {\n            setSelectingToken('token0')\n            setVisibleSelectTokenModal(true)\n          }}\n        >{(quoteTokenIndex === '0' ? token0?.symbol : token1?.symbol) || 'Select token'}</ButtonGrey>\n        <span\n          onClick={() => {\n            setQuoteTokenIndex(quoteTokenIndex === '0' ? '1' : '0')\n          }}\n        ><SwapIcon /></span>\n        <ButtonGrey\n          onClick={() => {\n            setSelectingToken('token1')\n            setVisibleSelectTokenModal(true)\n          }}\n        >{(quoteTokenIndex === '0' ? token1?.symbol : token0?.symbol) || 'Select token'}</ButtonGrey>\n      </div>\n      <div className='oracle-config__select-fee-box'>\n        <ButtonGrey className={`btn-select-fee ${fee === 100 && 'active'}`} onClick={() => setFee(100)}>0.01%</ButtonGrey>\n        <ButtonGrey className={`btn-select-fee ${fee === 300 && 'active'}`} onClick={() => setFee(300)}>0.03%</ButtonGrey>\n        <ButtonGrey className={`btn-select-fee ${fee === 500 && 'active'}`} onClick={() => setFee(500)}>0.05%</ButtonGrey>\n        <ButtonGrey className={`btn-select-fee ${fee === 1000 && 'active'}`} onClick={() => setFee(1000)}>0.1%</ButtonGrey>\n      </div>\n    </Box>\n\n    <Box\n      borderColor='blue'\n      className='oracle-config-box mt-1 mb-1'\n    >\n      <TextBlue className='oracle-config__title'>\n      Permanent Config\n      </TextBlue>\n\n      <div className='config-item'>\n        <Text fontSize={14} fontWeight={600}>\n          Window time (s)\n        </Text>\n        <Input\n          inputWrapProps={{\n            className: `config-input ${windowTimeSuggest.includes(windowTime) ? '' : 'warning-input'}`\n          }}\n          type='number'\n          placeholder='0'\n          value={windowTime}\n          onChange={(e) => {\n            // @ts-ignore\n            if (Number(e.target.value) >= 0) {\n              setWindowTime((e.target as HTMLInputElement).value)\n            }\n          }}\n        />\n      </div>\n      <div className='ddl-pool-page__content--pool-config mt-18px'>\n        <div className='config-item'>\n          <Text fontSize={14} fontWeight={600}>\n            Power\n          </Text>\n          <Input\n            inputWrapProps={{\n              className: 'config-input'\n            }}\n            type='number'\n            placeholder='0.0'\n            value={power}\n            onChange={(e) => {\n              // @ts-ignore\n              if (Number(e.target.value) >= 0) {\n                setPower((e.target as HTMLInputElement).value)\n              }\n            }}\n            onBlur={(e) => {\n              if (Number(e.target.value) >= 0) {\n                const powerRounded = Math.round(Number(e.target.value) * 2) / 2\n                setPower(powerRounded.toString())\n              }\n            }}\n          />\n        </div>\n      </div>\n      <SelectTokenModal\n        visible={visibleSelectTokenModal}\n        setVisible={setVisibleSelectTokenModal}\n        iniTokens={Object.values(tokens)}\n        onSelectToken={(token: any) => {\n          console.log(selectingToken)\n          if (selectingToken === 'token0') {\n            setToken0(token)\n          } else {\n            setToken1(token)\n          }\n        }}\n      />\n    </Box>\n  </React.Fragment>\n}\n\nconst formatTokenType = (token: any) => {\n  return {\n    address: utils.getAddress(token.adr),\n    decimal: token.decimals,\n    symbol: token.symbol,\n    name: token.name\n  }\n}\n","import React, { useState } from 'react'\nimport { Text, TextBlue } from '../ui/Text'\nimport { Input } from '../ui/Input'\nimport { Box } from '../ui/Box'\nimport './style.scss'\n\nexport const ChangeableConfigBox = () => {\n  const [dailyFundingRate, setDailyFundingRate] = useState<string>('0')\n\n  return <Box\n    borderColor='blue'\n    className='changeable-config-box mt-2'\n  >\n    <TextBlue className='changeable-config__title'>\n      Changeable Config\n    </TextBlue>\n    <div className='config-item'>\n      <Text fontSize={14} fontWeight={600}>\n        Daily funding rate (%)\n      </Text>\n      <Input\n        inputWrapProps={{\n          className: 'config-input'\n        }}\n        type='number'\n        placeholder='0'\n        onChange={(e) => {\n          // @ts-ignore\n          if (Number(e.target.value) >= 0) {\n            setDailyFundingRate((e.target as HTMLInputElement).value)\n          }\n        }}\n      />\n    </div>\n\n    <div className='config-item mt-18px'>\n      <Text fontSize={14} fontWeight={600}>\n        Maturity\n      </Text>\n      <Input\n        inputWrapProps={{\n          className: 'config-input'\n        }}\n        type='number'\n        placeholder='0'\n        onChange={(e) => {\n          // @ts-ignore\n          if (Number(e.target.value) >= 0) {\n            setDailyFundingRate((e.target as HTMLInputElement).value)\n          }\n        }}\n      />\n    </div>\n\n    <div className='config-item mt-18px'>\n      <Text fontSize={14} fontWeight={600}>\n        Premium rate\n      </Text>\n      <Input\n        inputWrapProps={{\n          className: 'config-input'\n        }}\n        type='number'\n        placeholder='0'\n        onChange={(e) => {\n          // @ts-ignore\n          if (Number(e.target.value) >= 0) {\n            setDailyFundingRate((e.target as HTMLInputElement).value)\n          }\n        }}\n      />\n    </div>\n\n    <div className='config-item mt-18px'>\n      <Text fontSize={14} fontWeight={600}>\n        Lock discount rate\n      </Text>\n      <Input\n        inputWrapProps={{\n          className: 'config-input'\n        }}\n        type='number'\n        placeholder='0'\n        onChange={(e) => {\n          // @ts-ignore\n          if (Number(e.target.value) >= 0) {\n            setDailyFundingRate((e.target as HTMLInputElement).value)\n          }\n        }}\n      />\n    </div>\n  </Box>\n}\n","import React, { useState, useMemo } from 'react'\nimport './style.scss'\nimport 'react-tabs/style/react-tabs.css'\nimport { ZERO_ADDRESS } from '../../utils/constant'\nimport { Card } from '../../Components/ui/Card'\nimport { IconArrowLeft } from '../../Components/ui/Icon'\nimport {\n  ButtonGrey\n} from '../../Components/ui/Button'\nimport { useWeb3React } from '../../state/customWeb3React/hook'\nimport { useWalletBalance } from '../../state/wallet/hooks/useBalances'\nimport { useListTokens } from '../../state/token/hook'\nimport { useListPool } from '../../state/pools/hooks/useListPool'\nimport { useConfigs } from '../../state/config/useConfigs'\nimport { Text } from '../../Components/ui/Text'\nimport { bn } from '../../utils/helpers'\nimport { PoolCreateInfo } from '../../Components/PoolCreateInfo'\nimport { OracleConfigBox } from '../../Components/OracleConfigBox'\nimport { ChangeableConfigBox } from '../../Components/ChangeableConfigBox'\n\nexport const CreatePool = () => {\n  const { account } = useWeb3React()\n  const [quoteTokenDecimal, setQuoteTokenDecimal] = useState<string>('0')\n  const [windowTime, setWindowTime] = useState<string>('')\n  const [windowTimeSuggest, setWindowTimeSuggest] = useState<string[]>([])\n  const [mark, setMark] = useState<string>('')\n  const [markSuggest, setMarkSuggest] = useState<string[]>([])\n  const [initTime, setInitTime] = useState<string>('')\n  const [initTimeSuggest, setInitTimeSuggest] = useState<string[]>([])\n  const [recipient, setRecipient] = useState<string>(ZERO_ADDRESS)\n  const { configs } = useConfigs()\n  const baseTokenAddress = configs.addresses?.nativeToken\n  const [pairAddr, setPairAddr] = useState<string>('')\n  const [power, setPower] = useState<string>('')\n\n  useMemo(() => {\n    if (account) {\n      setRecipient(account)\n    }\n  }, [account])\n\n  const twoDecimal = (a: any) =>\n    (a.toString().match(/e/)\n      ? Number(a.toString().match(/[^e]*/)[0])\n      : a\n    ).toFixed(0)\n\n  const suggestConfigs = (qTIndex: string, qTDecimal: string) => {\n    // const filterExistPoolData = Object.entries(pools).filter(([key]) => {\n    //   return key.includes(pairAddr.substring(2).toLowerCase())\n    // })\n    const filterExistPoolData: any = []\n    const wTimeArr = []\n    const markArr = []\n    const iTimeArr = []\n    for (let index = 0; index < filterExistPoolData.length; index++) {\n      const poolData = filterExistPoolData[index][1]\n      const oracle = poolData.ORACLE\n      if ((qTIndex === '0' && oracle.includes('0x0')) || (qTIndex === '1' && oracle.includes('0x8'))) {\n        wTimeArr.push(bn(oracle).shr(192).toNumber().toString())\n        if (parseInt(qTDecimal) === 6) {\n          markArr.push(Math.pow(poolData.MARK.mul(1e6).shr(128).toNumber(), 2).toString())\n        } else {\n          markArr.push(Math.pow(poolData.MARK.shr(128).toNumber(), 2).toString())\n        }\n        iTimeArr.push(poolData.INIT_TIME.toNumber().toString())\n      }\n    }\n    setQuoteTokenDecimal(qTDecimal)\n    setWindowTime(wTimeArr[0])\n    setWindowTimeSuggest(wTimeArr)\n    setMark(markArr[0])\n    setMarkSuggest(markArr)\n    setInitTime(iTimeArr[0])\n    setInitTimeSuggest(iTimeArr)\n  }\n\n  return (\n    <div className='ddl-pool-page'>\n      <Card className='ddl-pool-page__config-card'>\n        <div className='ddl-pool-page__head'>\n          <ButtonGrey className='ddl-pool-page__head--back-btn'>\n            <IconArrowLeft />\n          </ButtonGrey>\n          <Text fontWeight={700} fontSize={18}>Create pool</Text>\n        </div>\n\n        <div className='ddl-pool-page__content'>\n          <div className='ddl-pool-page__content--left'>\n            <OracleConfigBox\n              pairAddr={pairAddr}\n              setPairAddr={setPairAddr}\n              power={power}\n              setPower={setPower}\n            />\n            <ChangeableConfigBox />\n          </div>\n          <div className='ddl-pool-page__content--right'>\n            <PoolCreateInfo\n              pairAddr={pairAddr}\n              power={power}\n            />\n          </div>\n        </div>\n      </Card>\n      {/* <PoolCreateInfo /> */}\n    </div>\n  )\n}\n","import React, { useEffect, useRef } from 'react'\nimport './style.scss'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { matchPath } from 'react-router-dom'\nimport { useListTokens } from '../../state/token/hook'\nimport { useWalletBalance } from '../../state/wallet/hooks/useBalances'\nimport { useWeb3React } from '../../state/customWeb3React/hook'\nimport { ToastContainer } from 'react-toastify'\nimport { useConfigs } from '../../state/config/useConfigs'\nimport { useListPool } from '../../state/pools/hooks/useListPool'\nimport { TIME_TO_REFRESH_STATE } from '../../utils/constant'\nimport { CreatePool } from '../../pages/CreatePool'\nimport { useFetchTokenPrice } from '../../state/pools/hooks/useTokenPrice'\n\nexport const App = () => {\n  const { tokens } = useListTokens()\n  const { fetchBalanceAndAllowance } = useWalletBalance()\n  const { account } = useWeb3React()\n  const { ddlEngine, chainId, location } = useConfigs()\n  const chainIdRef = useRef(null)\n  const { initListPool } = useListPool()\n  useFetchTokenPrice()\n\n  useEffect(() => {\n    if (!ddlEngine) return\n    initListPool(account)\n    const intervalId = setInterval(() => {\n      initListPool(account)\n    }, TIME_TO_REFRESH_STATE)\n    return () => clearInterval(intervalId)\n  }, [chainId, account, ddlEngine])\n\n  useEffect(() => {\n    if (account && Object.keys(tokens).length > 0) {\n      fetchBalanceAndAllowance(Object.keys(tokens))\n    }\n  }, [account, tokens])\n\n  const renderAppContent = () => {\n    switch (true) {\n      case isMatchWithPath('/pools/create'):\n        return <CreatePool />\n      default:\n        return <CreatePool />\n    }\n  }\n\n  const isMatchWithPath = (path: string) => {\n    return !!matchPath(location.pathname, {\n      path,\n      exact: true,\n      strict: false\n    })\n  }\n\n  return (\n    <div className='exposure-interface app'>\n      <input type='hidden' value={chainId} ref={chainIdRef} />\n      {renderAppContent()}\n      <ToastContainer\n        position='top-right'\n        autoClose={5000}\n        rtl={false}\n        closeOnClick={false}\n        draggable\n        theme='dark'\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { store } from './state'\nimport { InitConfig } from './InitConfig'\nimport { App } from './Components/App'\nimport './styles/main.scss'\nimport { SWRConfig } from 'swr/_internal'\n\nexport default ({\n  chainId,\n  theme,\n  useWeb3React,\n  useSubPage,\n  xStorageClient,\n  language,\n  useLocation,\n  useHistory,\n  showConnectWalletModal,\n  env\n}: {\n  chainId: number\n  theme: string\n  useWeb3React: any\n  language?: any\n  xStorageClient: any\n  useSubPage: any\n  useLocation: any\n  showConnectWalletModal: () => {}\n  env?: 'production' | 'development'\n  useHistory?: any\n}) => {\n  return (\n    <Provider store={store}>\n      <SWRConfig\n        value={{\n          dedupingInterval: 200, // will override the parent value since the value is primitive\n          fallback: { a: 2, c: 2 } // will merge with the parent value since the value is a mergeable object\n        }}\n      >\n        <InitConfig\n          useLocation={useLocation}\n          useHistory={useHistory}\n          chainId={chainId}\n          theme={theme}\n          useWeb3React={useWeb3React}\n          useSubPage={useSubPage}\n          xStorageClient={xStorageClient}\n          language={language}\n          showConnectWalletModal={showConnectWalletModal}\n          env={env}\n        >\n          <App />\n        </InitConfig>\n      </SWRConfig>\n    </Provider>\n  )\n}\n","import { isValidElement } from 'react';\n\nimport { Id } from '../types';\n\nexport function isNum(v: any): v is Number {\n  return typeof v === 'number' && !isNaN(v);\n}\n\nexport function isBool(v: any): v is Boolean {\n  return typeof v === 'boolean';\n}\n\nexport function isStr(v: any): v is String {\n  return typeof v === 'string';\n}\n\nexport function isFn(v: any): v is Function {\n  return typeof v === 'function';\n}\n\nexport function parseClassName(v: any) {\n  return isStr(v) || isFn(v) ? v : null;\n}\n\nexport function isToastIdValid(toastId?: Id) {\n  return toastId === 0 || toastId;\n}\n\nexport function getAutoCloseDelay(\n  toastAutoClose?: false | number,\n  containerAutoClose?: false | number\n) {\n  return toastAutoClose === false ||\n    (isNum(toastAutoClose) && toastAutoClose > 0)\n    ? toastAutoClose\n    : containerAutoClose;\n}\n\nexport const canUseDom = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nexport function canBeRendered<T>(content: T): boolean {\n  return (\n    isValidElement(content) || isStr(content) || isFn(content) || isNum(content)\n  );\n}\n","import { ToastPosition, TypeOptions } from '../types';\n\ntype KeyOfPosition =\n  | 'TOP_LEFT'\n  | 'TOP_RIGHT'\n  | 'TOP_CENTER'\n  | 'BOTTOM_LEFT'\n  | 'BOTTOM_RIGHT'\n  | 'BOTTOM_CENTER';\n\ntype KeyOfType = 'INFO' | 'SUCCESS' | 'WARNING' | 'ERROR' | 'DEFAULT';\n\nexport const POSITION: { [key in KeyOfPosition]: ToastPosition } = {\n  TOP_LEFT: 'top-left',\n  TOP_RIGHT: 'top-right',\n  TOP_CENTER: 'top-center',\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_RIGHT: 'bottom-right',\n  BOTTOM_CENTER: 'bottom-center'\n};\n\nexport const TYPE: { [key in KeyOfType]: TypeOptions } = {\n  INFO: 'info',\n  SUCCESS: 'success',\n  WARNING: 'warning',\n  ERROR: 'error',\n  DEFAULT: 'default'\n};\n\nexport const enum Default {\n  COLLAPSE_DURATION = 300,\n  DEBOUNCE_DURATION = 50,\n  CSS_NAMESPACE = 'Toastify',\n  DRAGGABLE_PERCENT = 80\n}\n\nexport const enum Direction {\n  X = 'x',\n  Y = 'y'\n}\n\nexport const enum SyntheticEvent {\n  ENTRANCE_ANIMATION_END = 'd'\n}\n","import { Default } from './constant';\n\n/**\n * Used to collapse toast after exit animation\n */\nexport function collapseToast(\n  node: HTMLElement,\n  done: () => void,\n  duration = Default.COLLAPSE_DURATION\n) {\n  const { scrollHeight, style } = node;\n\n  requestAnimationFrame(() => {\n    style.minHeight = 'initial';\n    style.height = scrollHeight + 'px';\n    style.transition = `all ${duration}ms`;\n\n    requestAnimationFrame(() => {\n      style.height = '0';\n      style.padding = '0';\n      style.margin = '0';\n      setTimeout(done, duration as number);\n    });\n  });\n}\n","import React, { useEffect, useLayoutEffect, useRef } from 'react';\n\nimport { collapseToast } from './collapseToast';\nimport { Default, SyntheticEvent } from './constant';\n\nimport { ToastTransitionProps } from '../types';\n\nexport interface CSSTransitionProps {\n  /**\n   * Css class to apply when toast enter\n   */\n  enter: string;\n\n  /**\n   * Css class to apply when toast leave\n   */\n  exit: string;\n\n  /**\n   * Append current toast position to the classname.\n   * If multiple classes are provided, only the last one will get the position\n   * For instance `myclass--top-center`...\n   * `Default: false`\n   */\n  appendPosition?: boolean;\n\n  /**\n   * Collapse toast smoothly when exit animation end\n   * `Default: true`\n   */\n  collapse?: boolean;\n\n  /**\n   * Collapse transition duration\n   * `Default: 300`\n   */\n  collapseDuration?: number;\n}\n\nconst enum AnimationStep {\n  Enter,\n  Exit\n}\n\n/**\n * Css animation that just work.\n * You could use animate.css for instance\n *\n *\n * ```\n * cssTransition({\n *   enter: \"animate__animated animate__bounceIn\",\n *   exit: \"animate__animated animate__bounceOut\"\n * })\n * ```\n *\n */\nexport function cssTransition({\n  enter,\n  exit,\n  appendPosition = false,\n  collapse = true,\n  collapseDuration = Default.COLLAPSE_DURATION\n}: CSSTransitionProps) {\n  return function ToastTransition({\n    children,\n    position,\n    preventExitTransition,\n    done,\n    nodeRef,\n    isIn\n  }: ToastTransitionProps) {\n    const enterClassName = appendPosition ? `${enter}--${position}` : enter;\n    const exitClassName = appendPosition ? `${exit}--${position}` : exit;\n    const baseClassName = useRef<string>();\n    const animationStep = useRef(AnimationStep.Enter);\n\n    useLayoutEffect(() => {\n      onEnter();\n    }, []);\n\n    useEffect(() => {\n      if (!isIn) preventExitTransition ? onExited() : onExit();\n    }, [isIn]);\n\n    function onEnter() {\n      const node = nodeRef.current!;\n      baseClassName.current = node.className;\n      node.className += ` ${enterClassName}`;\n      node.addEventListener('animationend', onEntered);\n      node.addEventListener('animationcancel', onEntered);\n    }\n\n    function onEntered(e: AnimationEvent) {\n      if (e.target !== nodeRef.current) return;\n\n      const node = nodeRef.current!;\n      node.dispatchEvent(new Event(SyntheticEvent.ENTRANCE_ANIMATION_END));\n      node.removeEventListener('animationend', onEntered);\n      node.removeEventListener('animationcancel', onEntered);\n      if (animationStep.current === AnimationStep.Enter) {\n        node.className = baseClassName.current!;\n      }\n    }\n\n    function onExit() {\n      animationStep.current = AnimationStep.Exit;\n      const node = nodeRef.current!;\n\n      node.className += ` ${exitClassName}`;\n      node.addEventListener('animationend', onExited);\n    }\n\n    function onExited() {\n      const node = nodeRef.current!;\n\n      node.removeEventListener('animationend', onExited);\n      collapse ? collapseToast(node, done, collapseDuration) : done();\n    }\n\n    return <>{children}</>;\n  };\n}\n","import {\n  Id,\n  ToastContent,\n  ClearWaitingQueueParams,\n  NotValidatedToastProps\n} from '../types';\nimport { ContainerInstance } from '../hooks';\n\nexport const enum Event {\n  Show,\n  Clear,\n  DidMount,\n  WillUnmount,\n  Change,\n  ClearWaitingQueue\n}\n\ntype OnShowCallback = (\n  content: ToastContent,\n  options: NotValidatedToastProps\n) => void;\ntype OnClearCallback = (id?: Id) => void;\ntype OnClearWaitingQueue = (params: ClearWaitingQueueParams) => void;\ntype OnDidMountCallback = (containerInstance: ContainerInstance) => void;\ntype OnWillUnmountCallback = OnDidMountCallback;\nexport type OnChangeCallback = (\n  toast: number,\n  containerId?: number | string\n) => void;\ntype Callback =\n  | OnShowCallback\n  | OnClearCallback\n  | OnClearWaitingQueue\n  | OnDidMountCallback\n  | OnWillUnmountCallback\n  | OnChangeCallback;\ntype TimeoutId = ReturnType<typeof setTimeout>;\n\nexport interface EventManager {\n  list: Map<Event, Callback[]>;\n  emitQueue: Map<Event, TimeoutId[]>;\n  on(event: Event.Show, callback: OnShowCallback): EventManager;\n  on(event: Event.Clear, callback: OnClearCallback): EventManager;\n  on(\n    event: Event.ClearWaitingQueue,\n    callback: OnClearWaitingQueue\n  ): EventManager;\n  on(event: Event.DidMount, callback: OnDidMountCallback): EventManager;\n  on(event: Event.WillUnmount, callback: OnWillUnmountCallback): EventManager;\n  on(event: Event.Change, callback: OnChangeCallback): EventManager;\n  off(event: Event, callback?: Callback): EventManager;\n  cancelEmit(event: Event): EventManager;\n  emit(\n    event: Event.Show,\n    content: React.ReactNode,\n    options: NotValidatedToastProps\n  ): void;\n  emit(event: Event.Clear, id?: string | number): void;\n  emit(event: Event.ClearWaitingQueue, params: ClearWaitingQueueParams): void;\n  emit(event: Event.DidMount, containerInstance: ContainerInstance): void;\n  emit(event: Event.WillUnmount, containerInstance: ContainerInstance): void;\n  emit(event: Event.Change, toast: number, containerId?: number | string): void;\n}\n\nexport const eventManager: EventManager = {\n  list: new Map(),\n  emitQueue: new Map(),\n\n  on(event: Event, callback: Callback) {\n    this.list.has(event) || this.list.set(event, []);\n    this.list.get(event)!.push(callback);\n    return this;\n  },\n\n  off(event, callback) {\n    if (callback) {\n      const cb = this.list.get(event)!.filter(cb => cb !== callback);\n      this.list.set(event, cb);\n      return this;\n    }\n    this.list.delete(event);\n    return this;\n  },\n\n  cancelEmit(event) {\n    const timers = this.emitQueue.get(event);\n    if (timers) {\n      timers.forEach(clearTimeout);\n      this.emitQueue.delete(event);\n    }\n\n    return this;\n  },\n\n  /**\n   * Enqueue the event at the end of the call stack\n   * Doing so let the user call toast as follow:\n   * toast('1')\n   * toast('2')\n   * toast('3')\n   * Without setTimemout the code above will not work\n   */\n  emit(event: Event, ...args: any[]) {\n    this.list.has(event) &&\n      this.list.get(event)!.forEach((callback: Callback) => {\n        const timer: TimeoutId = setTimeout(() => {\n          // @ts-ignore\n          callback(...args);\n        }, 0);\n\n        this.emitQueue.has(event) || this.emitQueue.set(event, []);\n        this.emitQueue.get(event)!.push(timer);\n      });\n  }\n};\n","import {\n  useEffect,\n  useRef,\n  useReducer,\n  cloneElement,\n  isValidElement,\n  useState\n} from 'react';\nimport {\n  parseClassName,\n  canBeRendered,\n  isBool,\n  isFn,\n  isNum,\n  isStr,\n  isToastIdValid,\n  getAutoCloseDelay\n} from '../utils';\nimport { eventManager, Event } from '../core/eventManager';\n\nimport {\n  Id,\n  ToastContainerProps,\n  ToastProps,\n  ToastContent,\n  Toast,\n  ToastPosition,\n  ClearWaitingQueueParams,\n  NotValidatedToastProps,\n  ToastTransition\n} from '../types';\n\ninterface QueuedToast {\n  toastContent: ToastContent;\n  toastProps: ToastProps;\n  staleId?: Id;\n}\n\nexport interface ContainerInstance {\n  toastKey: number;\n  displayedToast: number;\n  props: ToastContainerProps;\n  containerId?: Id | null;\n  isToastActive: (toastId: Id) => boolean;\n  getToast: (id: Id) => Toast | null | undefined;\n  queue: QueuedToast[];\n  count: number;\n}\n\nexport function useToastContainer(props: ToastContainerProps) {\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n  const [toastIds, setToastIds] = useState<Id[]>([]);\n  const containerRef = useRef(null);\n  const toastToRender = useRef(new Map<Id, Toast>()).current;\n  const isToastActive = (id: Id) => toastIds.indexOf(id) !== -1;\n  const instance = useRef<ContainerInstance>({\n    toastKey: 1,\n    displayedToast: 0,\n    count: 0,\n    queue: [],\n    props,\n    containerId: null,\n    isToastActive,\n    getToast: id => toastToRender.get(id)\n  }).current;\n\n  useEffect(() => {\n    instance.containerId = props.containerId;\n    eventManager\n      .cancelEmit(Event.WillUnmount)\n      .on(Event.Show, buildToast)\n      .on(Event.Clear, toastId => containerRef.current && removeToast(toastId))\n      .on(Event.ClearWaitingQueue, clearWaitingQueue)\n      .emit(Event.DidMount, instance);\n\n    return () => eventManager.emit(Event.WillUnmount, instance);\n  }, []);\n\n  useEffect(() => {\n    instance.isToastActive = isToastActive;\n    instance.displayedToast = toastIds.length;\n    eventManager.emit(Event.Change, toastIds.length, props.containerId);\n  }, [toastIds]);\n\n  useEffect(() => {\n    instance.props = props;\n  });\n\n  function clearWaitingQueue({ containerId }: ClearWaitingQueueParams) {\n    const { limit } = instance.props;\n    if (limit && (!containerId || instance.containerId === containerId)) {\n      instance.count -= instance.queue.length;\n      instance.queue = [];\n    }\n  }\n\n  function removeToast(toastId?: Id) {\n    setToastIds(state =>\n      isToastIdValid(toastId) ? state.filter(id => id !== toastId) : []\n    );\n  }\n\n  function dequeueToast() {\n    const {\n      toastContent,\n      toastProps,\n      staleId\n    } = instance.queue.shift() as QueuedToast;\n    appendToast(toastContent, toastProps, staleId);\n  }\n\n  /**\n   * check if a container is attached to the dom\n   * check for multi-container, build only if associated\n   * check for duplicate toastId if no update\n   */\n  function isNotValid(options: NotValidatedToastProps) {\n    return (\n      !containerRef.current ||\n      (instance.props.enableMultiContainer &&\n        options.containerId !== instance.props.containerId) ||\n      (toastToRender.has(options.toastId) && options.updateId == null)\n    );\n  }\n\n  // this function and all the function called inside needs to rely on refs\n  function buildToast(\n    content: ToastContent,\n    { delay, staleId, ...options }: NotValidatedToastProps\n  ) {\n    if (!canBeRendered(content) || isNotValid(options)) return;\n\n    const { toastId, updateId, data } = options;\n    const { props } = instance;\n    const closeToast = () => removeToast(toastId);\n    const isNotAnUpdate = updateId == null;\n\n    if (isNotAnUpdate) instance.count++;\n\n    const toastProps: ToastProps = {\n      toastId,\n      updateId,\n      isLoading: options.isLoading,\n      theme: options.theme || props.theme!,\n      icon: options.icon != null ? options.icon : props.icon,\n      isIn: false,\n      key: options.key || instance.toastKey++,\n      type: options.type!,\n      closeToast: closeToast,\n      closeButton: options.closeButton,\n      rtl: props.rtl,\n      position: options.position || (props.position as ToastPosition),\n      transition: options.transition || (props.transition as ToastTransition),\n      className: parseClassName(options.className || props.toastClassName),\n      bodyClassName: parseClassName(\n        options.bodyClassName || props.bodyClassName\n      ),\n      style: options.style || props.toastStyle,\n      bodyStyle: options.bodyStyle || props.bodyStyle,\n      onClick: options.onClick || props.onClick,\n      pauseOnHover: isBool(options.pauseOnHover)\n        ? options.pauseOnHover\n        : props.pauseOnHover,\n      pauseOnFocusLoss: isBool(options.pauseOnFocusLoss)\n        ? options.pauseOnFocusLoss\n        : props.pauseOnFocusLoss,\n      draggable: isBool(options.draggable)\n        ? options.draggable\n        : props.draggable,\n      draggablePercent:\n        options.draggablePercent || (props.draggablePercent as number),\n      draggableDirection:\n        options.draggableDirection || props.draggableDirection,\n      closeOnClick: isBool(options.closeOnClick)\n        ? options.closeOnClick\n        : props.closeOnClick,\n      progressClassName: parseClassName(\n        options.progressClassName || props.progressClassName\n      ),\n      progressStyle: options.progressStyle || props.progressStyle,\n      autoClose: options.isLoading\n        ? false\n        : getAutoCloseDelay(options.autoClose, props.autoClose),\n      hideProgressBar: isBool(options.hideProgressBar)\n        ? options.hideProgressBar\n        : props.hideProgressBar,\n      progress: options.progress,\n      role: options.role || props.role,\n      deleteToast() {\n        toastToRender.delete(toastId);\n        const queueLen = instance.queue.length;\n        instance.count = isToastIdValid(toastId)\n          ? instance.count - 1\n          : instance.count - instance.displayedToast;\n\n        if (instance.count < 0) instance.count = 0;\n\n        if (queueLen > 0) {\n          const freeSlot = isToastIdValid(toastId) ? 1 : instance.props.limit!;\n\n          if (queueLen === 1 || freeSlot === 1) {\n            instance.displayedToast++;\n            dequeueToast();\n          } else {\n            const toDequeue = freeSlot > queueLen ? queueLen : freeSlot;\n            instance.displayedToast = toDequeue;\n\n            for (let i = 0; i < toDequeue; i++) dequeueToast();\n          }\n        } else {\n          forceUpdate();\n        }\n      }\n    };\n\n    if (isFn(options.onOpen)) toastProps.onOpen = options.onOpen;\n    if (isFn(options.onClose)) toastProps.onClose = options.onClose;\n\n    toastProps.closeButton = props.closeButton;\n\n    if (options.closeButton === false || canBeRendered(options.closeButton)) {\n      toastProps.closeButton = options.closeButton;\n    } else if (options.closeButton === true) {\n      toastProps.closeButton = canBeRendered(props.closeButton)\n        ? props.closeButton\n        : true;\n    }\n\n    let toastContent = content;\n\n    if (isValidElement(content) && !isStr(content.type)) {\n      toastContent = cloneElement(content, {\n        closeToast,\n        toastProps,\n        data\n      });\n    } else if (isFn(content)) {\n      toastContent = content({ closeToast, toastProps, data });\n    }\n\n    // not handling limit + delay by design. Waiting for user feedback first\n    if (\n      props.limit &&\n      props.limit > 0 &&\n      instance.count > props.limit &&\n      isNotAnUpdate\n    ) {\n      instance.queue.push({ toastContent, toastProps, staleId });\n    } else if (isNum(delay) && (delay as number) > 0) {\n      setTimeout(() => {\n        appendToast(toastContent, toastProps, staleId);\n      }, delay);\n    } else {\n      appendToast(toastContent, toastProps, staleId);\n    }\n  }\n\n  function appendToast(\n    content: ToastContent,\n    toastProps: ToastProps,\n    staleId?: Id\n  ) {\n    const { toastId } = toastProps;\n\n    if (staleId) toastToRender.delete(staleId);\n\n    toastToRender.set(toastId, {\n      content,\n      props: toastProps\n    });\n    setToastIds(state => [...state, toastId].filter(id => id !== staleId));\n  }\n\n  function getToastToRender<T>(\n    cb: (position: ToastPosition, toastList: Toast[]) => T\n  ) {\n    const toRender = new Map<ToastPosition, Toast[]>();\n    const collection = Array.from(toastToRender.values());\n\n    if (props.newestOnTop) collection.reverse();\n\n    collection.forEach(toast => {\n      const { position } = toast.props;\n      toRender.has(position) || toRender.set(position, []);\n      toRender.get(position)!.push(toast);\n    });\n\n    return Array.from(toRender, p => cb(p[0], p[1]));\n  }\n\n  return {\n    getToastToRender,\n    containerRef,\n    isToastActive\n  };\n}\n","import {\n  useState,\n  useRef,\n  useEffect,\n  isValidElement,\n  DOMAttributes\n} from 'react';\n\nimport { isFn, Default, Direction, SyntheticEvent } from '../utils';\nimport { ToastProps } from '../types';\n\ninterface Draggable {\n  start: number;\n  x: number;\n  y: number;\n  delta: number;\n  removalDistance: number;\n  canCloseOnClick: boolean;\n  canDrag: boolean;\n  boundingRect: DOMRect | null;\n  didMove: boolean;\n}\n\ntype DragEvent = MouseEvent & TouchEvent;\n\nfunction getX(e: DragEvent) {\n  return e.targetTouches && e.targetTouches.length >= 1\n    ? e.targetTouches[0].clientX\n    : e.clientX;\n}\n\nfunction getY(e: DragEvent) {\n  return e.targetTouches && e.targetTouches.length >= 1\n    ? e.targetTouches[0].clientY\n    : e.clientY;\n}\n\nexport function useToast(props: ToastProps) {\n  const [isRunning, setIsRunning] = useState(false);\n  const [preventExitTransition, setPreventExitTransition] = useState(false);\n  const toastRef = useRef<HTMLDivElement>(null);\n  const drag = useRef<Draggable>({\n    start: 0,\n    x: 0,\n    y: 0,\n    delta: 0,\n    removalDistance: 0,\n    canCloseOnClick: true,\n    canDrag: false,\n    boundingRect: null,\n    didMove: false\n  }).current;\n  const syncProps = useRef(props);\n  const { autoClose, pauseOnHover, closeToast, onClick, closeOnClick } = props;\n\n  useEffect(() => {\n    syncProps.current = props;\n  });\n\n  useEffect(() => {\n    if (toastRef.current)\n      toastRef.current.addEventListener(\n        SyntheticEvent.ENTRANCE_ANIMATION_END,\n        playToast,\n        { once: true }\n      );\n\n    if (isFn(props.onOpen))\n      props.onOpen(isValidElement(props.children) && props.children.props);\n\n    return () => {\n      const props = syncProps.current;\n      if (isFn(props.onClose))\n        props.onClose(isValidElement(props.children) && props.children.props);\n    };\n  }, []);\n\n  useEffect(() => {\n    props.pauseOnFocusLoss && bindFocusEvents();\n    return () => {\n      props.pauseOnFocusLoss && unbindFocusEvents();\n    };\n  }, [props.pauseOnFocusLoss]);\n\n  function onDragStart(\n    e: React.MouseEvent<HTMLElement, MouseEvent> | React.TouchEvent<HTMLElement>\n  ) {\n    if (props.draggable) {\n      bindDragEvents();\n      const toast = toastRef.current!;\n      drag.canCloseOnClick = true;\n      drag.canDrag = true;\n      drag.boundingRect = toast.getBoundingClientRect();\n      toast.style.transition = '';\n      drag.x = getX(e.nativeEvent as DragEvent);\n      drag.y = getY(e.nativeEvent as DragEvent);\n\n      if (props.draggableDirection === Direction.X) {\n        drag.start = drag.x;\n        drag.removalDistance =\n          toast.offsetWidth * (props.draggablePercent / 100);\n      } else {\n        drag.start = drag.y;\n        drag.removalDistance =\n          toast.offsetHeight *\n          (props.draggablePercent === Default.DRAGGABLE_PERCENT\n            ? props.draggablePercent * 1.5\n            : props.draggablePercent / 100);\n      }\n    }\n  }\n\n  function onDragTransitionEnd() {\n    if (drag.boundingRect) {\n      const { top, bottom, left, right } = drag.boundingRect;\n\n      if (\n        props.pauseOnHover &&\n        drag.x >= left &&\n        drag.x <= right &&\n        drag.y >= top &&\n        drag.y <= bottom\n      ) {\n        pauseToast();\n      } else {\n        playToast();\n      }\n    }\n  }\n\n  function playToast() {\n    setIsRunning(true);\n  }\n\n  function pauseToast() {\n    setIsRunning(false);\n  }\n\n  function bindFocusEvents() {\n    if (!document.hasFocus()) pauseToast();\n\n    window.addEventListener('focus', playToast);\n    window.addEventListener('blur', pauseToast);\n  }\n\n  function unbindFocusEvents() {\n    window.removeEventListener('focus', playToast);\n    window.removeEventListener('blur', pauseToast);\n  }\n\n  function bindDragEvents() {\n    drag.didMove = false;\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragEnd);\n\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragEnd);\n  }\n\n  function unbindDragEvents() {\n    document.removeEventListener('mousemove', onDragMove);\n    document.removeEventListener('mouseup', onDragEnd);\n\n    document.removeEventListener('touchmove', onDragMove);\n    document.removeEventListener('touchend', onDragEnd);\n  }\n\n  function onDragMove(e: MouseEvent | TouchEvent) {\n    const toast = toastRef.current!;\n    if (drag.canDrag && toast) {\n      drag.didMove = true;\n      if (isRunning) pauseToast();\n      drag.x = getX(e as DragEvent);\n      drag.y = getY(e as DragEvent);\n      if (props.draggableDirection === Direction.X) {\n        drag.delta = drag.x - drag.start;\n      } else {\n        drag.delta = drag.y - drag.start;\n      }\n\n      // prevent false positif during a toast click\n      if (drag.start !== drag.x) drag.canCloseOnClick = false;\n      toast.style.transform = `translate${props.draggableDirection}(${drag.delta}px)`;\n      toast.style.opacity = `${1 -\n        Math.abs(drag.delta / drag.removalDistance)}`;\n    }\n  }\n\n  function onDragEnd() {\n    unbindDragEvents();\n    const toast = toastRef.current!;\n    if (drag.canDrag && drag.didMove && toast) {\n      drag.canDrag = false;\n      if (Math.abs(drag.delta) > drag.removalDistance) {\n        setPreventExitTransition(true);\n        props.closeToast();\n        return;\n      }\n      toast.style.transition = 'transform 0.2s, opacity 0.2s';\n      toast.style.transform = `translate${props.draggableDirection}(0)`;\n      toast.style.opacity = '1';\n    }\n  }\n\n  const eventHandlers: DOMAttributes<HTMLElement> = {\n    onMouseDown: onDragStart,\n    onTouchStart: onDragStart,\n    onMouseUp: onDragTransitionEnd,\n    onTouchEnd: onDragTransitionEnd\n  };\n\n  if (autoClose && pauseOnHover) {\n    eventHandlers.onMouseEnter = pauseToast;\n    eventHandlers.onMouseLeave = playToast;\n  }\n\n  // prevent toast from closing when user drags the toast\n  if (closeOnClick) {\n    eventHandlers.onClick = (e: React.MouseEvent) => {\n      onClick && onClick(e);\n      drag.canCloseOnClick && closeToast();\n    };\n  }\n\n  return {\n    playToast,\n    pauseToast,\n    isRunning,\n    preventExitTransition,\n    toastRef,\n    eventHandlers\n  };\n}\n","import * as React from 'react';\nimport { Default } from '../utils';\nimport { Theme, TypeOptions } from '../types';\n\nexport interface CloseButtonProps {\n  closeToast: (e: React.MouseEvent<HTMLElement>) => void;\n  type: TypeOptions;\n  ariaLabel?: string;\n  theme: Theme;\n}\n\nexport function CloseButton({\n  closeToast,\n  theme,\n  ariaLabel = 'close'\n}: CloseButtonProps) {\n  return (\n    <button\n      className={`${Default.CSS_NAMESPACE}__close-button ${Default.CSS_NAMESPACE}__close-button--${theme}`}\n      type=\"button\"\n      onClick={e => {\n        e.stopPropagation();\n        closeToast(e);\n      }}\n      aria-label={ariaLabel}\n    >\n      <svg aria-hidden=\"true\" viewBox=\"0 0 14 16\">\n        <path\n          fillRule=\"evenodd\"\n          d=\"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z\"\n        />\n      </svg>\n    </button>\n  );\n}\n","import * as React from 'react';\nimport cx from 'clsx';\n\nimport { TYPE, Default, isFn } from './../utils';\nimport { TypeOptions, ToastClassName, Theme } from '../types';\n\nexport interface ProgressBarProps {\n  /**\n   * The animation delay which determine when to close the toast\n   */\n  delay: number;\n\n  /**\n   * Whether or not the animation is running or paused\n   */\n  isRunning: boolean;\n\n  /**\n   * Func to close the current toast\n   */\n  closeToast: () => void;\n\n  /**\n   * Optional type : info, success ...\n   */\n  type: TypeOptions;\n\n  /**\n   * The theme that is currently used\n   */\n  theme: Theme;\n\n  /**\n   * Hide or not the progress bar\n   */\n  hide?: boolean;\n\n  /**\n   * Optionnal className\n   */\n  className?: ToastClassName;\n\n  /**\n   * Optionnal inline style\n   */\n  style?: React.CSSProperties;\n\n  /**\n   * Tell wether or not controlled progress bar is used\n   */\n  controlledProgress?: boolean;\n\n  /**\n   * Controlled progress value\n   */\n  progress?: number | string;\n\n  /**\n   * Support rtl content\n   */\n  rtl?: boolean;\n\n  /**\n   * Tell if the component is visible on screen or not\n   */\n  isIn?: boolean;\n}\n\nexport function ProgressBar({\n  delay,\n  isRunning,\n  closeToast,\n  type,\n  hide,\n  className,\n  style: userStyle,\n  controlledProgress,\n  progress,\n  rtl,\n  isIn,\n  theme\n}: ProgressBarProps) {\n  const style: React.CSSProperties = {\n    ...userStyle,\n    animationDuration: `${delay}ms`,\n    animationPlayState: isRunning ? 'running' : 'paused',\n    opacity: hide ? 0 : 1\n  };\n\n  if (controlledProgress) style.transform = `scaleX(${progress})`;\n  const defaultClassName = cx(\n    `${Default.CSS_NAMESPACE}__progress-bar`,\n    controlledProgress\n      ? `${Default.CSS_NAMESPACE}__progress-bar--controlled`\n      : `${Default.CSS_NAMESPACE}__progress-bar--animated`,\n    `${Default.CSS_NAMESPACE}__progress-bar-theme--${theme}`,\n    `${Default.CSS_NAMESPACE}__progress-bar--${type}`,\n    {\n      [`${Default.CSS_NAMESPACE}__progress-bar--rtl`]: rtl\n    }\n  );\n  const classNames = isFn(className)\n    ? className({\n        rtl,\n        type,\n        defaultClassName\n      })\n    : cx(defaultClassName, className);\n\n  // 🧐 controlledProgress is derived from progress\n  // so if controlledProgress is set\n  // it means that this is also the case for progress\n  const animationEvent = {\n    [controlledProgress && progress! >= 1\n      ? 'onTransitionEnd'\n      : 'onAnimationEnd']:\n      controlledProgress && progress! < 1\n        ? null\n        : () => {\n            isIn && closeToast();\n          }\n  };\n\n  // TODO: add aria-valuenow, aria-valuemax, aria-valuemin\n\n  return (\n    <div\n      role=\"progressbar\"\n      aria-hidden={hide ? 'true' : 'false'}\n      aria-label=\"notification timer\"\n      className={classNames}\n      style={style}\n      {...animationEvent}\n    />\n  );\n}\n\nProgressBar.defaultProps = {\n  type: TYPE.DEFAULT,\n  hide: false\n};\n","import * as React from 'react';\n\nimport { Theme, TypeOptions } from '../types';\nimport { Default } from '../utils';\n\n/**\n * Used when providing custom icon\n */\nexport interface IconProps {\n  theme: Theme;\n  type: TypeOptions;\n}\n\nexport type BuiltInIconProps = React.SVGProps<SVGSVGElement> & IconProps;\n\nconst Svg: React.FC<BuiltInIconProps> = ({ theme, type, ...rest }) => (\n  <svg\n    viewBox=\"0 0 24 24\"\n    width=\"100%\"\n    height=\"100%\"\n    fill={\n      theme === 'colored'\n        ? 'currentColor'\n        : `var(--toastify-icon-color-${type})`\n    }\n    {...rest}\n  />\n);\n\nfunction Warning(props: BuiltInIconProps) {\n  return (\n    <Svg {...props}>\n      <path d=\"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z\" />\n    </Svg>\n  );\n}\n\nfunction Info(props: BuiltInIconProps) {\n  return (\n    <Svg {...props}>\n      <path d=\"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z\" />\n    </Svg>\n  );\n}\n\nfunction Success(props: BuiltInIconProps) {\n  return (\n    <Svg {...props}>\n      <path d=\"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z\" />\n    </Svg>\n  );\n}\n\nfunction Error(props: BuiltInIconProps) {\n  return (\n    <Svg {...props}>\n      <path d=\"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z\" />\n    </Svg>\n  );\n}\n\nfunction Spinner() {\n  return <div className={`${Default.CSS_NAMESPACE}__spinner`} />;\n}\n\nexport const Icons = {\n  info: Info,\n  warning: Warning,\n  success: Success,\n  error: Error,\n  spinner: Spinner\n};\n","import * as React from 'react';\nimport cx from 'clsx';\n\nimport { ProgressBar } from './ProgressBar';\nimport { Icons } from './Icons';\nimport { ToastProps } from '../types';\nimport { Default, isFn, isStr } from '../utils';\nimport { useToast } from '../hooks';\n\nexport const Toast: React.FC<ToastProps> = props => {\n  const {\n    isRunning,\n    preventExitTransition,\n    toastRef,\n    eventHandlers\n  } = useToast(props);\n  const {\n    closeButton,\n    children,\n    autoClose,\n    onClick,\n    type,\n    hideProgressBar,\n    closeToast,\n    transition: Transition,\n    position,\n    className,\n    style,\n    bodyClassName,\n    bodyStyle,\n    progressClassName,\n    progressStyle,\n    updateId,\n    role,\n    progress,\n    rtl,\n    toastId,\n    deleteToast,\n    isIn,\n    isLoading,\n    icon,\n    theme\n  } = props;\n  const defaultClassName = cx(\n    `${Default.CSS_NAMESPACE}__toast`,\n    `${Default.CSS_NAMESPACE}__toast-theme--${theme}`,\n    `${Default.CSS_NAMESPACE}__toast--${type}`,\n    {\n      [`${Default.CSS_NAMESPACE}__toast--rtl`]: rtl\n    }\n  );\n  const cssClasses = isFn(className)\n    ? className({\n        rtl,\n        position,\n        type,\n        defaultClassName\n      })\n    : cx(defaultClassName, className);\n  const isProgressControlled = !!progress;\n  const maybeIcon = Icons[type as keyof typeof Icons];\n  const iconProps = { theme, type };\n  let Icon: React.ReactNode = maybeIcon && maybeIcon(iconProps);\n\n  if (icon === false) {\n    Icon = void 0;\n  } else if (isFn(icon)) {\n    Icon = icon(iconProps);\n  } else if (React.isValidElement(icon)) {\n    Icon = React.cloneElement(icon, iconProps);\n  } else if (isStr(icon)) {\n    Icon = icon;\n  } else if (isLoading) {\n    Icon = Icons.spinner();\n  }\n\n  function renderCloseButton(closeButton: any) {\n    if (!closeButton) return;\n\n    const props = { closeToast, type, theme };\n\n    if (isFn(closeButton)) return closeButton(props);\n\n    if (React.isValidElement(closeButton))\n      return React.cloneElement(closeButton, props);\n  }\n\n  return (\n    <Transition\n      isIn={isIn}\n      done={deleteToast}\n      position={position}\n      preventExitTransition={preventExitTransition}\n      nodeRef={toastRef}\n    >\n      <div\n        id={toastId as string}\n        onClick={onClick}\n        className={cssClasses}\n        {...eventHandlers}\n        style={style}\n        ref={toastRef}\n      >\n        <div\n          {...(isIn && { role: role })}\n          className={\n            isFn(bodyClassName)\n              ? bodyClassName({ type })\n              : cx(`${Default.CSS_NAMESPACE}__toast-body`, bodyClassName)\n          }\n          style={bodyStyle}\n        >\n          {Icon && (\n            <div\n              className={cx(`${Default.CSS_NAMESPACE}__toast-icon`, {\n                [`${Default.CSS_NAMESPACE}--animate-icon ${Default.CSS_NAMESPACE}__zoom-enter`]: !isLoading\n              })}\n            >\n              {Icon}\n            </div>\n          )}\n          <div>{children}</div>\n        </div>\n        {renderCloseButton(closeButton)}\n        {(autoClose || isProgressControlled) && (\n          <ProgressBar\n            {...(updateId && !isProgressControlled\n              ? { key: `pb-${updateId}` }\n              : {})}\n            rtl={rtl}\n            theme={theme}\n            delay={autoClose as number}\n            isRunning={isRunning}\n            isIn={isIn}\n            closeToast={closeToast}\n            hide={hideProgressBar}\n            type={type}\n            style={progressStyle}\n            className={progressClassName}\n            controlledProgress={isProgressControlled}\n            progress={progress}\n          />\n        )}\n      </div>\n    </Transition>\n  );\n};\n","import { Default, cssTransition } from '../utils';\n\nconst Bounce = cssTransition({\n  enter: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__bounce-enter`,\n  exit: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__bounce-exit`,\n  appendPosition: true\n});\n\nconst Slide = cssTransition({\n  enter: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__slide-enter`,\n  exit: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__slide-exit`,\n  appendPosition: true\n});\n\nconst Zoom = cssTransition({\n  enter: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__zoom-enter`,\n  exit: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__zoom-exit`\n});\n\nconst Flip = cssTransition({\n  enter: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__flip-enter`,\n  exit: `${Default.CSS_NAMESPACE}--animate ${Default.CSS_NAMESPACE}__flip-exit`\n});\n\nexport { Bounce, Slide, Zoom, Flip };\n","import * as React from 'react';\nimport cx from 'clsx';\n\nimport { Toast } from './Toast';\nimport { CloseButton } from './CloseButton';\nimport { Bounce } from './Transitions';\nimport { POSITION, Direction, Default, parseClassName, isFn } from '../utils';\nimport { useToastContainer } from '../hooks';\nimport { ToastContainerProps, ToastPosition } from '../types';\n\nexport const ToastContainer: React.FC<ToastContainerProps> = props => {\n  const { getToastToRender, containerRef, isToastActive } = useToastContainer(\n    props\n  );\n  const { className, style, rtl, containerId } = props;\n\n  function getClassName(position: ToastPosition) {\n    const defaultClassName = cx(\n      `${Default.CSS_NAMESPACE}__toast-container`,\n      `${Default.CSS_NAMESPACE}__toast-container--${position}`,\n      { [`${Default.CSS_NAMESPACE}__toast-container--rtl`]: rtl }\n    );\n    return isFn(className)\n      ? className({\n          position,\n          rtl,\n          defaultClassName\n        })\n      : cx(defaultClassName, parseClassName(className));\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className={Default.CSS_NAMESPACE as string}\n      id={containerId as string}\n    >\n      {getToastToRender((position, toastList) => {\n        const containerStyle: React.CSSProperties = !toastList.length\n          ? { ...style, pointerEvents: 'none' }\n          : { ...style };\n\n        return (\n          <div\n            className={getClassName(position)}\n            style={containerStyle}\n            key={`container-${position}`}\n          >\n            {toastList.map(({ content, props: toastProps }) => {\n              return (\n                <Toast\n                  {...toastProps}\n                  isIn={isToastActive(toastProps.toastId)}\n                  key={`toast-${toastProps.key}`}\n                  closeButton={\n                    toastProps.closeButton === true\n                      ? CloseButton\n                      : toastProps.closeButton\n                  }\n                >\n                  {content}\n                </Toast>\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nToastContainer.defaultProps = {\n  position: POSITION.TOP_RIGHT as ToastPosition,\n  transition: Bounce,\n  rtl: false,\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeButton: CloseButton,\n  pauseOnHover: true,\n  pauseOnFocusLoss: true,\n  closeOnClick: true,\n  newestOnTop: false,\n  draggable: true,\n  draggablePercent: Default.DRAGGABLE_PERCENT as number,\n  draggableDirection: Direction.X,\n  role: 'alert',\n  theme: 'light'\n};\n","import * as React from 'react';\nimport { render } from 'react-dom';\n\nimport { POSITION, TYPE, canUseDom, isStr, isNum, isFn } from '../utils';\nimport { eventManager, OnChangeCallback, Event } from './eventManager';\nimport {\n  ToastContent,\n  ToastOptions,\n  ToastProps,\n  Id,\n  ToastContainerProps,\n  UpdateOptions,\n  ClearWaitingQueueParams,\n  NotValidatedToastProps,\n  TypeOptions\n} from '../types';\nimport { ContainerInstance } from '../hooks';\nimport { ToastContainer } from '../components';\n\ninterface EnqueuedToast {\n  content: ToastContent;\n  options: NotValidatedToastProps;\n}\n\nlet containers = new Map<ContainerInstance | Id, ContainerInstance>();\nlet latestInstance: ContainerInstance | Id;\nlet containerDomNode: HTMLElement;\nlet containerConfig: ToastContainerProps;\nlet queue: EnqueuedToast[] = [];\nlet lazy = false;\n\n/**\n * Get the toast by id, given it's in the DOM, otherwise returns null\n */\nfunction getToast(toastId: Id, { containerId }: ToastOptions) {\n  const container = containers.get(containerId || latestInstance);\n  if (!container) return null;\n\n  return container.getToast(toastId);\n}\n\n/**\n * Generate a random toastId\n */\nfunction generateToastId() {\n  return Math.random()\n    .toString(36)\n    .substring(2, 9);\n}\n\n/**\n * Generate a toastId or use the one provided\n */\nfunction getToastId(options?: ToastOptions) {\n  if (options && (isStr(options.toastId) || isNum(options.toastId))) {\n    return options.toastId;\n  }\n\n  return generateToastId();\n}\n\n/**\n * If the container is not mounted, the toast is enqueued and\n * the container lazy mounted\n */\nfunction dispatchToast(\n  content: ToastContent,\n  options: NotValidatedToastProps\n): Id {\n  if (containers.size > 0) {\n    eventManager.emit(Event.Show, content, options);\n  } else {\n    queue.push({ content, options });\n    if (lazy && canUseDom) {\n      lazy = false;\n      containerDomNode = document.createElement('div');\n      document.body.appendChild(containerDomNode);\n      render(<ToastContainer {...containerConfig} />, containerDomNode);\n    }\n  }\n\n  return options.toastId;\n}\n\n/**\n * Merge provided options with the defaults settings and generate the toastId\n */\nfunction mergeOptions(type: string, options?: ToastOptions) {\n  return {\n    ...options,\n    type: (options && options.type) || type,\n    toastId: getToastId(options)\n  } as NotValidatedToastProps;\n}\n\nfunction createToastByType(type: string) {\n  return (content: ToastContent, options?: ToastOptions) =>\n    dispatchToast(content, mergeOptions(type, options));\n}\n\nfunction toast(content: ToastContent, options?: ToastOptions) {\n  return dispatchToast(content, mergeOptions(TYPE.DEFAULT, options));\n}\n\ntoast.loading = (content: ToastContent, options?: ToastOptions) =>\n  dispatchToast(\n    content,\n    mergeOptions(TYPE.DEFAULT, {\n      isLoading: true,\n      autoClose: false,\n      closeOnClick: false,\n      closeButton: false,\n      draggable: false,\n      ...options\n    })\n  );\n\nexport interface ToastPromiseParams {\n  pending?: string | UpdateOptions;\n  success?: string | UpdateOptions;\n  error?: string | UpdateOptions;\n}\n\nfunction handlePromise<T>(\n  promise: Promise<T> | (() => Promise<T>),\n  { pending, error, success }: ToastPromiseParams,\n  options?: ToastOptions\n) {\n  let id: Id;\n\n  if (pending) {\n    id = isStr(pending)\n      ? toast.loading(pending, options)\n      : toast.loading(pending.render, {\n          ...options,\n          ...(pending as ToastOptions)\n        });\n  }\n\n  const resetParams = {\n    isLoading: null,\n    autoClose: null,\n    closeOnClick: null,\n    closeButton: null,\n    draggable: null\n  };\n\n  const resolver = (\n    type: TypeOptions,\n    input: string | UpdateOptions | undefined,\n    result: T\n  ) => {\n    // Remove the toast if the input has not been provided. This prevents the toast from hanging\n    // in the pending state if a success/error toast has not been provided.\n    if (input == null) {\n      toast.dismiss(id);\n      return;\n    }\n\n    const baseParams = {\n      type,\n      ...resetParams,\n      ...options,\n      data: result\n    };\n    const params = isStr(input) ? { render: input } : input;\n\n    // if the id is set we know that it's an update\n    if (id) {\n      toast.update(id, {\n        ...baseParams,\n        ...params\n      });\n    } else {\n      // using toast.promise without loading\n      toast(params.render, {\n        ...baseParams,\n        ...params\n      } as ToastOptions);\n    }\n\n    return result;\n  };\n\n  const p = isFn(promise) ? promise() : promise;\n\n  //call the resolvers only when needed\n  p.then(result => resolver('success', success, result)).catch(err =>\n    resolver('error', error, err)\n  );\n\n  return p;\n}\n\ntoast.promise = handlePromise;\ntoast.success = createToastByType(TYPE.SUCCESS);\ntoast.info = createToastByType(TYPE.INFO);\ntoast.error = createToastByType(TYPE.ERROR);\ntoast.warning = createToastByType(TYPE.WARNING);\ntoast.warn = toast.warning;\ntoast.dark = (content: ToastContent, options?: ToastOptions) =>\n  dispatchToast(\n    content,\n    mergeOptions(TYPE.DEFAULT, {\n      theme: 'dark',\n      ...options\n    })\n  );\n\n/**\n * Remove toast programmaticaly\n */\ntoast.dismiss = (id?: Id) => eventManager.emit(Event.Clear, id);\n\n/**\n * Clear waiting queue when limit is used\n */\ntoast.clearWaitingQueue = (params: ClearWaitingQueueParams = {}) =>\n  eventManager.emit(Event.ClearWaitingQueue, params);\n\n/**\n * return true if one container is displaying the toast\n */\ntoast.isActive = (id: Id) => {\n  let isToastActive = false;\n\n  containers.forEach(container => {\n    if (container.isToastActive && container.isToastActive(id)) {\n      isToastActive = true;\n    }\n  });\n\n  return isToastActive;\n};\n\ntoast.update = (toastId: Id, options: UpdateOptions = {}) => {\n  // if you call toast and toast.update directly nothing will be displayed\n  // this is why I defered the update\n  setTimeout(() => {\n    const toast = getToast(toastId, options as ToastOptions);\n    if (toast) {\n      const { props: oldOptions, content: oldContent } = toast;\n\n      const nextOptions = {\n        ...oldOptions,\n        ...options,\n        toastId: options.toastId || toastId,\n        updateId: generateToastId()\n      } as ToastProps & UpdateOptions;\n\n      if (nextOptions.toastId !== toastId) nextOptions.staleId = toastId;\n\n      const content = nextOptions.render || oldContent;\n      delete nextOptions.render;\n\n      dispatchToast(content, nextOptions);\n    }\n  }, 0);\n};\n\n/**\n * Used for controlled progress bar.\n */\ntoast.done = (id: Id) => {\n  toast.update(id, {\n    progress: 1\n  });\n};\n\n/**\n * @deprecated\n * API will change in the next major release\n *\n * Track changes. The callback get the number of toast displayed\n */\ntoast.onChange = (callback: OnChangeCallback) => {\n  if (isFn(callback)) {\n    eventManager.on(Event.Change, callback);\n  }\n  return () => {\n    isFn(callback) && eventManager.off(Event.Change, callback);\n  };\n};\n\n/**\n * @deprecated\n * will be removed in the next major release\n *\n * Configure the ToastContainer when lazy mounted\n * Prefer ToastContainer over this one\n */\ntoast.configure = (config: ToastContainerProps = {}) => {\n  lazy = true;\n  containerConfig = config;\n};\n\ntoast.POSITION = POSITION;\ntoast.TYPE = TYPE;\n\n/**\n * Wait until the ToastContainer is mounted to dispatch the toast\n * and attach isActive method\n */\neventManager\n  .on(Event.DidMount, (containerInstance: ContainerInstance) => {\n    latestInstance = containerInstance.containerId || containerInstance;\n    containers.set(latestInstance, containerInstance);\n\n    queue.forEach(item => {\n      eventManager.emit(Event.Show, item.content, item.options);\n    });\n\n    queue = [];\n  })\n  .on(Event.WillUnmount, (containerInstance: ContainerInstance) => {\n    containers.delete(containerInstance.containerId || containerInstance);\n\n    if (containers.size === 0) {\n      eventManager\n        .off(Event.Show)\n        .off(Event.Clear)\n        .off(Event.ClearWaitingQueue);\n    }\n\n    if (canUseDom && containerDomNode) {\n      document.body.removeChild(containerDomNode);\n    }\n  });\n\nexport { toast };\n","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["price_1","require","resource_1","balanceAndAllowance_1","uniV2Pair_1","history_1","swap_1","currentPool_1","createPool_1","uniV3Pair_1","setConfig_1","configs_1","Engine","account","config","chainIdProp","arguments","length","undefined","DEFAULT_CHAIN","_classCallCheck","this","Derivable","loadConfig","chainId","scanApi","rpcUrl","storage","overrideProvider","provider","signer","providerToGetLog","initServices","_createClass","key","value","UNIV2PAIR","UniV2Pair","UNIV3PAIR","UniV3Pair","BNA","BnA","RESOURCE","Resource","PRICE","Price","CURRENT_POOL","CurrentPool","HISTORY","History","Object","assign","SWAP","Swap","CREATE_POOL","CreatePool","poolData","initCurrentPoolData","exports","helper_1","ethereum_multicall_1","constant_1","BnA_json_1","__importDefault","Token_json_1","contractAddresses","addresses","_ref","tokens","_context","next","multicall","Multicall","multicallCustomContractAddress","multiCall","ethersProvider","tryAggregate","erc20Tokens","getNormalAddress","erc1155Tokens","getErc1155Token","multiCallRequest","getBnAMulticallRequest","call","_yield$multicall$call","sent","results","abrupt","parseBnAMultiRes","balances","allowances","stop","_callee","_ref2","pack","accounts","poolAddress","_step","_iterator","_createForOfIteratorHelper","s","n","done","side","push","packId","err","e","f","reference","contractAddress","bnA","abi","default","calls","methodName","methodParameters","router","token","erc20Address","data","erc20Info","erc20","callsReturnContext","returnValues","i","address","bn","erc1155BalanceInfo","erc1155","erc1155ApproveInfo","index","toString","LARGE_VALUE","hex","ethers_1","Helper_json_1","params","gasLimit","helper","getStateCalHelperContract","callStatic","createPool","poolFactory","newPoolConfigs","generateConfig","k","a","b","mark","recipient","oracle","initTime","halfLife","_context2","callStaticCreatePool","amountInit","res","wait","tx","console","log","prev","t0","_callee2","utr","logic","reserveToken","wrapToken","ethers","Contract","stateCalHelper","resource","power","cToken","baseToken","quoteToken","nativeToken","powers","findIndex","p","Number","dTokens","baseId","quoteId","POOL_IDS","native","split","Error","_this","logs","poolAddresses","keys","pools","map","encodeData","utils","defaultAbiCoder","encode","EventDataAbis","args","formatedData","decode","poolIn","poolOut","includes","tokenIn","getTokenAddressByPoolAndSide","sideIn","tokenOut","sideOut","transactionHash","timeStamp","blockNumber","filter","l","sort","pool","eq","NATIVE_ADDRESS","R","TOKEN_R","powerState","_balances","calculateCompExposure","ReserveTokenPrice_json_1","providers_1","reserveTokenPrice","JsonRpcProvider","setStateOverride","_defineProperty","code","deployedBytecode","pairDetailContract","functions","fetchMarketBatch","uniswapFactory","stableCoins","result","sqrtPriceX96","Events_json_1","TokensInfo_json_1","PoolOverride_json_1","lodash_1","utils_1","AssistedJsonRpcProvider","formatBytes32String","poolGroups","swapLogs","Promise","all","getResourceCached","getNewResource","_yield$Promise$all","_yield$Promise$all2","_slicedToArray","resultCached","newResource","concat","_toConsumableArray","getItem","ddlGenesisBlock","lastDDlBlock","LOCALSTORAGE_KEY","LAST_BLOCK_DDL_LOGS","lastWalletBlock","walletBlockCached","SWAP_BLOCK_LOGS","Math","min","ddlLogs","headBlock","setItem","cachedDdlLogs","JSON","parse","DDL_LOGS","newCachedDdlLogs","self","t","logIndex","stringify","cachedSwapLogs","SWAP_LOGS","newCacheSwapLogs","parseDdlLogs","swapLogsParsed","ddlLogsParsed","generatePoolData","_yield$this$generateP","etherscanConfig","url","maxResults","rangeThreshold","rateLimitCount","rateLimitDuration","apiKeys","lastHeadBlockCached","getLastBlockCached","accTopic","repeat","slice","topics","getTopics","filterTopics","_context4","getLogs","fromBlock","toBlock","then","_a","cacheDdlLog","_ref3","_ref4","__awaiter","_regeneratorRuntime","_callee3","_yield$this$generateP2","wrap","_context3","catch","error","_callee4","allTokens","allUniPools","logicData","forEach","name","decodePowers","getAddress","baseSymbol","parseBytes32String","quoteSymbol","priceToleranceRatio","rentRate","deleverageRate","toNumber","pair","ORACLE","loadStatesData","listTokens","listPools","uniPools","getPoolOverridedProvider","normalTokens","uniq","context","getMultiCallRequest","_context6","getPairsInfo","pairAddresses","_yield$Promise$all3","_yield$Promise$all4","pairsInfo","_this$parseMultiCallR","parseMultiCallResponse","tokensArr","poolsState","symbol","decimal","totalSupply","_loop","_i","_pools$_i","_k","quoteTokenIndex","tokenR","id","rdc","_context5","states","_this2","calcPoolInfo","MARK","gt","token1","token0","find","join","UTR","TOKEN","INIT_TIME","HALF_LIFE","twapBase","twap","spotBase","spot","getRdc","values","A","B","C","t1","delegateYield","t2","uniqBy","_callee5","_ref5","rDcLong","rDcShort","diff","sub","abs","rate","isZero","mul","div","rentRateLong","add","rentRateShort","stateOverride","request","tokensInfo","decoded","INTEREST_HL","multiCallData","abiInterface","Interface","poolStateData","formatMultiCallBignumber","encodeFunctionResult","decodeFunctionResult","_pool$states","rA","rB","rC","riskFactor","dailyInterestRate","pow","supplyDetails","rDetails","sA","sB","eventInterface","decodeLog","parseLog","appName","topic1","poolCreatedData","topic3","parseInt","events","configProp","defaultConfig","loadDefaultConfig","providers","rpcToGetLogs","DEFAULT_CONFIG","pairsV3Info","wrapUsdPair","BNB_CONFIG","TESTNET_CONFIG","ARBITRUM_CONFIG","UTR_json_1","Logic_json_1","UTROverride_json_1","Pool_json_1","Wrap_json_1","steps","stepsToSwap","step","amountOutMin","convertStepToActions","_yield$this$convertSt","contract","_contract$callStatic","exec","apply","from","amountOut","gasLeft","getTokenByPower","amountIn","getRouterContract","_contract$callStatic2","ZERO_ADDRESS","outputs","poolGroup","getPoolPoolGroup","eip","isErc1155Address","getIdByAddress","getAddressByErc1155Address","nativeAmountToWrap","metaDatas","promises","idIn","idOut","inputs","mode","populateTransaction","swap","maturity","payer","datas","actions","metaData","addressIn","addressOut","_yield$this$convertSt2","callStaticMultiSwap","rawStep","formatSwapSteps","multiSwap","logicAddress","swapType","amount","AbiCoder","PairDetail_json_1","FLAG","constractAddresses","pairAddress","_ref$flag","flag","query","details","_ref2$flag","_yield$pairDetailCont","PairV3Detail_json_1","adr","decimals","timePerBlock","cp","cw","quote","base","PoolCreated","Logic_json_2","Logic_json_3","Logic_json_4","LogicAbi","BigNumber","wei","formatUnits","number","arr","parseUnits","powersBytes","raws","match","item","type","Array","isArray","erc1155Addresses","test","floatNumber","formatFloat","weiToNumber","numberToWei","price","kind","shl","unit","shr","isObject","target","_len","sources","_key","source","shift","mergeDeep","toolkit","createSlice","initialState","active","showConnectModal","reducers","setAccount","state","action","payload","setChainId","setActive","setProvider","setShowWalletModalCallback","callback","_tokens$actions","customWeb3ReactReduce","reducer","tokens$1","useSubPage","language","env","location","useHistory","configs","explorer","scanName","initialledConfig","setConfigs","setEngine","engine","_tokens$actions$1","configReduce","initialState$2","cTokenPrice","basePrice","changedIn24h","chartIsOutDate","candleChartIsLoading","chartTimeRange","to","chartTimeFocus","chartResolutionIsUpdated","tokens$2","setChartIsOutDate","status","setCandleChartIsLoadingReduce","setCurrentPoolInfo","setChartTimeRange","timeRange","setChartTimeFocusReduce","time","setChartIntervalIsUpdated","_tokens$actions$2","currentPoolReduce","tokens$3","formartedSwapLogs","routerAllowances","resetBnA","updateSwapTxs","_","updateFormatedSwapTxs","swapTxs","differenceBy","updateBalanceAndAllowancesReduce","_extends","_tokens$actions$3","walletReduce","tokens$4","addTokensReduce","newToken","tokenReduce","initDataEachChain","initialState$5","prices","tokens$5","addPoolGroupsWithChain","addPoolsWithChain","addTokenPriceWithChain","_tokens$actions$4","poolsReduce","store","redux","createStore","combineReducers","web3React","currentPool","wallet","applyMiddleware","thunk","useWeb3React","_useSelector","reactRedux","useSelector","library","connectWallet","theGraphExchange","candleChartApi","useConfigs","ddlEngine","InitConfig","showConnectWalletModal","children","useLocation","_useWeb3React","web3ReactData","_web3ReactData","dispatch","useDispatch","React","useEffect","useInitWeb3React","engine$1","itemName","localStorage","getSigner","useInitConfig","React__default","createElement","Fragment","useListTokens","addTokenToList","Symbol","iterator","asyncIterator","_catch","body","recover","decimalToDisplay","num","indexOf","decodeErc1155Address","detectDecimalFromPrice","module","assert","val","msg","inherits","ctor","superCtor","super_","TempCtor","prototype","constructor","BN","endian","isBN","negative","words","red","_init","Buffer","wordSize","window","require$$0","parseHex4Bits","string","c","charCodeAt","parseHexByte","lowerBound","r","parseBase","str","start","end","len","move","dest","src","max","left","right","cmp","_initNumber","_initArray","replace","_parseHex","_parseBase","toArray","ceil","j","w","off","_strip","limbLen","limbPow","total","mod","word","imuln","_iaddn","copy","_move","clone","_expand","size","_normSign","for","inspect","zeros","groupSizes","groupBases","padding","out","carry","groupSize","groupBase","modrn","idivn","ret","toJSON","toBuffer","toArrayLike","smallMulTo","lo","ncarry","rword","maxJ","ArrayType","byteLength","reqLength","allocUnsafe","allocate","_toArrayLikeLE","position","_toArrayLikeBE","clz32","_countBits","_zeroBits","bitLength","hi","zeroBits","toTwos","width","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","iadd","isub","comb10MulTo","mid","o","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","bigMulTo","hncarry","jumboMulTo","mulTo","mulf","isNegNum","muln","sqr","isqr","toBitArray","q","iushln","bits","carryMask","newCarry","ishln","iushrn","hint","extended","h","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","bhi","m","qj","divmod","positive","divn","umod","divRound","dm","half","r2","andln","acc","modn","egcd","x","y","D","g","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gten","gte","ltn","lt","lten","lte","eqn","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","tmp","_tmp","K256","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","imulK","strip","input","output","outLen","mod3","one","nOne","lpow","z","inv","wnd","current","currentLen","mont","u","commonjsGlobal","_permanentCensorErrors","_censorErrors","LogLevels","debug","info","warning","_logLevel","_globalLogger","LogLevel","ErrorCode","_normalizeError","missing","form","normalize","String","fromCharCode","message","_checkNormalize","HEX","Logger","version","defineProperty","enumerable","writable","logLevel","level","toLowerCase","throwArgumentError","_log","levels","DEBUG","_len2","_key2","INFO","_len3","_key3","WARNING","makeError","errors","UNKNOWN_ERROR","messageDetails","Uint8Array","reason","NUMERIC_FAULT","fault","CALL_EXCEPTION","INSUFFICIENT_FUNDS","MISSING_NEW","NONCE_EXPIRED","REPLACEMENT_UNDERPRICED","TRANSACTION_REPLACED","UNPREDICTABLE_GAS_LIMIT","throwError","INVALID_ARGUMENT","argument","condition","UNSUPPORTED_OPERATION","operation","count","expectedCount","MISSING_ARGUMENT","UNEXPECTED_ARGUMENT","censorship","permanent","globalLogger","warn","logger","isHexable","toHexString","addSlice","array","isBytesLike","isHexString","isBytes","isInteger","v","arrayify","options","checkSafeUint53","unshift","allowMissingPrefix","substring","hexPad","items","objects","reduce","accum","offset","object","set","stripZeros","HexCharacters","hexlify","floor","hexDataLength","hexDataSlice","endOffset","hexConcat","hexValue","trimmed","hexStripZeros","hexZeroPad","splitSignature","signature","_vs","recoveryParam","yParityAndS","compact","bytes","vs","zeroPad","recId","bn$1","logger$1","_constructorGuard","MAX_SAFE","_warnedToStringRadix","constructorGuard","_hex","_isBigNumber","freeze","toBigNumber","toBN","other","throwFault","isNegative","BigInt","toHex","anyValue","thisArg","_arguments","P","generator","resolve","reject","fulfilled","rejected","logger$2","defineReadOnly","getStatic","getPrototypeOf","resolveProperties","shallowCopy","opaque","bigint","boolean","_isFrozen","isFrozen","_deepCopy","deepCopy","Description","__awaiter$1","logger$3","ForkEvent","_Description","_inherits","_super","_createSuper","_isForkEvent","Provider","checkAbstract","_yield$resolvePropert","block","gasPrice","lastBaseFeePerGas","maxFeePerGas","maxPriorityFeePerGas","getBlock","getGasPrice","baseFeePerGas","eventName","listener","on","_isProvider","logger$4","ethDefaultProvider","network","func","providerList","InfuraProvider","infura","EtherscanProvider","etherscan","AlchemyProvider","alchemy","PocketProvider","pocket","CloudflareProvider","cloudflare","AnkrProvider","ankr","FallbackProvider","quorum","renetwork","etcDefaultProvider","homestead","ensAddress","_defaultProvider","ropsten","classicMordor","networks","unspecified","mainnet","morden","testnet","rinkeby","kovan","goerli","kintsugi","sepolia","classic","classicMorden","classicTestnet","classicKotti","xdai","matic","maticmum","optimism","arbitrum","bnb","bnbt","textData","atob","btoa","BaseX","alphabet","charAt","_alphabetMap","digits","_leader","TypeError","byte","reverse","Base58","Zero","INPUT_ERROR","WINDOW","root","JS_SHA3_NO_WINDOW","WEB_WORKER","JS_SHA3_NO_NODE_JS","process","versions","node","COMMON_JS","JS_SHA3_NO_COMMON_JS","ARRAY_BUFFER","JS_SHA3_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","CSHAKE_PADDING","SHIFT","RC","BITS","SHAKE_BITS","OUTPUT_TYPES","CSHAKE_BYTEPAD","obj","JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW","isView","buffer","createOutputMethod","outputType","Keccak","update","createShakeOutputMethod","outputBits","createCshakeOutputMethod","methods","createKmacOutputMethod","createOutputMethods","method","createMethod","create","algorithms","bytepad","Kmac","methodNames","algorithm","newMethodName","blocks","reset","finalized","blockCount","byteCount","outputBlocks","extraBytes","notString","lastByteIndex","encodeString","strs","paddingBytes","finalize","arrayBuffer","Uint32Array","digest","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","b10","b11","b12","b13","b14","b15","b16","b17","b18","b19","b20","b21","b22","b23","b24","b25","b26","b27","b28","b29","b30","b31","b32","b33","b34","b35","b36","b37","b38","b39","b40","b41","b42","b43","b44","b45","b46","b47","b48","b49","keccak256","sha3","keccak_256","UnicodeNormalizationForm","Utf8ErrorReason","logger$5","ignoreFunc","badCodepoint","BAD_PREFIX","UNEXPECTED_CONTINUE","OVERRUN","Utf8ErrorFuncs","ignore","OVERLONG","getUtf8CodePoints","onError","extraLength","overlongMask","nextChar","MISSING_CONTINUE","OUT_OF_RANGE","UTF16_SURROGATE","toUtf8Bytes","checkNormalize","toUtf8String","codePoint","text","version$7","flat","depth","flatDeep","read_compressed_payload","pos","read_payload","u16","symbol_count","skip","pos_payload","read_width","read_buffer","read_bit","FULL","HALF","QRTR","MASK","register","symbols","low","range","decode_arithmetic","signed","read_ascending","read_deltas","read_member_array","lookup","vX","vN","read_counts","read_transposed","fill","read_linear_table","dx","dy","read_zero_terminated_array","ys","j_dy","read_replacement_table","VALID","Set","IGNORED","MAPPED","fromEntries","read_mapped_map","EMOJI_ROOT","sorted","read","branches","temp","valid","fe0f","save","check","read_emoji_trie","HYPHEN","UNDERSCORE","explode_cp","toUtf8CodePoints","filter_fe0f","cps","ens_normalize_post_check","label","lastIndexOf","every","ens_normalize","emoji_filter","emoji","consume_emoji_reversed","pop","has","toUpperCase","nfc","fromCodePoint","eaten","saved","stack","splice","logger$6","Zeros","checkComponent","comp","ensNameSplit","comps","last","namehash","logger$7","arrayifyInteger","unarrayifyInteger","_encode","child","encode$1","_decodeChildren","childOffset","_decode","consumed","BUFFER_OVERRUN","lengthLength","decode$1","logger$8","getChecksumAddress","chars","expanded","hashed","ibanLookup","safeDigits","log10","LN10","checksum","ibanChecksum","__awaiter$2","logger$9","NegativeOne","Zero$1","One","MaxUint256","hexTrue","hexFalse","domainFieldTypes","verifyingContract","salt","domainFieldNames","checkString","domainChecks","getBaseEncoder","boundsUpper","boundsLower","padOffset","hexPadRight","encodeType","fields","TypedDataEncoder","types","links","parents","subtypes","_loop2","uniqueNames","field","baseType","primaryTypes","checkCircular","found","subtype","primaryType","st","_types","encoder","_encoderCache","_getEncoder","subEncoder","getEncoder","encodedType","hashStruct","_visit","_ref6","domain","domainFields","EIP712Domain","hashDomain","hash","resolveName","ensCache","visit","domainValues","domainTypes","typesWithDomain","minimalisticAssert","equal","configurable","isSurrogatePair","toArray_1","enc","toHex_1","zero2","htonl","toHex32_1","zero8","join32_1","split32_1","inherits_browser","d","buf","ah","al","bh","bl","ch","cl","dh","dl","eh","el","BlockHash","pending","pendingTotal","blockSize","outSize","hmacStrength","padLength","_delta8","_delta32","BlockHash_1","join32","_update","_pad","_digest","rotr32$1","rotr32","ft_1_1","ch32","p32","maj32","s0_256_1","s1_256_1","g0_256_1","g1_256_1","rotl32$1","rotl32","sum32$1","sum32","sum32_5$1","sum32_5","ft_1$1","common$1","ft_1","BlockHash$1","common","sha1_K","SHA1","W","_1","toHex32","split32","sum32$2","sum32_4$1","sum32_4","sum32_5$2","ch32$1","maj32$1","s0_256$1","s0_256","s1_256$1","s1_256","g0_256$1","g0_256","g1_256$1","g1_256","BlockHash$2","sha256_K","SHA256","_256","SHA224","T1","T2","_224","rotr64_hi$1","rotr64_hi","rotr64_lo$1","rotr64_lo","shr64_hi$1","shr64_hi","shr64_lo$1","shr64_lo","sum64$1","sum64","sum64_hi$1","sum64_hi","sum64_lo$1","sum64_lo","sum64_4_hi$1","sum64_4_hi","sum64_4_lo$1","sum64_4_lo","sum64_5_hi$1","sum64_5_hi","sum64_5_lo$1","sum64_5_lo","BlockHash$3","sha512_K","SHA512","_512","ch64_hi","xh","xl","yh","yl","zh","ch64_lo","zl","maj64_hi","maj64_lo","s0_512_hi","s0_512_lo","s1_512_hi","s1_512_lo","g0_512_hi","g0_512_lo","g1_512_hi","g1_512_lo","SHA384","_prepareBlock","c0_hi","c0_lo","c1_hi","c1_lo","c2_hi","c2_lo","c3_hi","c3_lo","fh","fl","gh","gl","hh","hl","c4_hi","c4_lo","T1_hi","T1_lo","T2_hi","T2_lo","_384","rotl32$2","sum32$3","sum32_3$1","sum32_3","sum32_4$2","BlockHash$4","RIPEMD160","ripemd160","K","Kh","E","Ah","Bh","Ch","Dh","Eh","T","r$1","rh","sh","Hmac","Hash","inner","outer","hmac","sha","ripemd","sha1","sha256","sha224","sha384","sha512","sha256$1","hash_1","__awaiter$3","getUrl","href","opts","response","headers","skipFetchSetup","cache","credentials","redirect","referrer","fetchOptions","fetch","get","statusCode","statusMessage","statusText","__awaiter$4","logger$b","staller","duration","setTimeout","bodyify","trim","fetchJson","connection","json","processFunc","updated","attemptLimit","throttleLimit","assertArgument","throttleCallback","throttleSlotInterval","errorPassThrough","allow304","timeout","allowGzip","user","password","allowInsecureAuthentication","authorization","reData","RegExp","dataMatch","SERVER_ERROR","requestBody","requestMethod","flatHeaders","header","runningTimeout","timer","promise","TIMEOUT","cancel","clearTimeout","runningFetch","attempt","_response","tryAgain","_stall","retryAfter","_body","_result3","_tryAgain","_timeout","stall","random","serverError","throttleRetry","race","_fetchData","poll","ceiling","interval","retryLimit","oncePoll","once","onceBlock","ALPHABET","ALPHABET_MAP","polymodStep","pre","prefixChk","prefix","chk","__decode","LIMIT","lowered","uppered","wordChars","convert","inBits","outBits","pad","maxV","bech32","decodeUnsafe","toWordsUnsafe","toWords","fromWordsUnsafe","fromWords","version$c","createCommonjsModule$1","fn","basedir","path","commonjsRequire","minimalisticAssert$1","assert$1","utils_1$1","getNAF","naf","ws","getJSF","k1","k2","jsf","m8","d1","d2","u1","u2","m14","m24","cachedProperty","computer","parseBytes","intFromLE","bn$2","assert$1$1","BaseCurve","conf","zero","two","pointFromJSON","gRed","_wnafT1","_wnafT2","_wnafT3","_wnafT4","_bitLength","adjustCount","redN","_maxwellTrick","BasePoint","curve","precomputed","point","validate","_fixedNafMul","doubles","_getDoubles","I","nafW","repr","jpoint","mixedAdd","points","toP","_wnafMul","nafPoints","_getNAFPoints","dblp","_wnafMulAdd","defW","coeffs","jacobianResult","wndWidth","comb","toJ","ja","jb","decodePoint","pointFromX","encodeCompressed","getX","getY","precompute","beta","_getBeta","_hasDoubles","dbl","inherits_browser$1","assert$2","ShortCurve","tinv","zeroA","threeA","endo","_getEndomorphism","_endoWnafT1","_endoWnafT2","short_1","Point","isRed","inf","JPoint","zOne","lambda","betas","_getEndoRoots","lambdas","basis","vec","_getEndoBasis","ntinv","prevR","aprxSqrt","y1","y2","len1","_endoSplit","v1","v2","p1","p2","q1","q2","odd","ax","rhs","_endoWnafMulAdd","npoints","ncoeffs","fromJSON","endoMul","obj2point","isInfinity","nx","ny","ys1","dyinv","mulAdd","jmulAdd","_precompute","negate","zinv","zinv2","ay","pz2","z2","s1","s2","h2","h3","nz","jx","jy","jz","jz4","jyd","jx2","jyd2","jyd4","dny","_zeroDbl","_threeDbl","_dbl","xx","yy","yyyy","yyyy8","gamma","alpha","beta4","beta8","ggamma8","jy2","jxd4","jyd8","trpl","zz","mm","ee","yyu4","kbase","z3","pz3","eqXToP","zs","rx","xc","curve_1","short","edwards","curves_1","curves","PresetCurve","defineCurve","crash","HmacDRBG","predResist","minEntropy","_reseed","reseedInterval","V","entropy","entropyEnc","nonce","nonceEnc","pers","persEnc","hmacDrbg","seed","_hmac","kmac","reseed","addEnc","generate","assert$3","KeyPair","ec","priv","pub","_importPrivate","privEnc","_importPublic","pubEnc","fromPublic","fromPrivate","getPublic","getPrivate","derive","sign","verify","assert$4","Signature","_importDER","Position","place","getLength","initial","octetLen","rmPadding","constructLength","octets","LN2","slen","toDER","backHalf","rand","assert$5","EC","hasOwnProperty","nh","keyPair","keyFromPrivate","keyFromPublic","genKeyPair","drbg","ns2","_truncateToN","truncOnly","bkey","ns1","iter","kp","kpX","canonical","signature$1","sinv","recoverPubKey","isYOdd","isSecondKey","rInv","getKeyRecoveryParam","Q","Qprime","EC$1","elliptic","eddsa","logger$c","_curve","getCurve","SigningKey","privateKey","p0","publicKey","digestBytes","otherKey","otherKeyPair","computePublicKey","_isSigningKey","compressed","signingKey","TransactionTypes","logger$d","handleAddress","handleNumber","recoverAddress","computeAddress","sig","rs","recoverPublicKey","formatNumber","accessSetify","addr","storageKeys","storageKey","accessListify","localeCompare","formatAccessList","_serializeEip1559","transaction","accessList","_serializeEip2930","_parseEipSignature","serialize","recid","rawTransaction","raw","_parse","_parseEip2930","_parseEip1559","transactionType","logger$e","Formatter","formats","getDefaultFormats","_this3","bind","bigNumber","blockTag","allowNull","blockHash","transactionIndex","confirmations","uint256","creates","transactionRequest","receiptLog","arrayOf","receipt","gasUsed","logsBloom","cumulativeGasUsed","effectiveGasPrice","parentHash","timestamp","difficulty","miner","extraData","transactions","blockWithTransactions","transactionResponse","filterLog","removed","allowFalsish","strict","getContractAddress","format","author","_difficulty","_block","gas","networkId","byzantium","_this4","checkKey","checkValue","nullValue","replaceValue","__awaiter$5","logger$f","checkTopic","topic","serializeTopics","unique","getEventTag","isForkEvent","getTime","Date","PollableEvents","Event","tag","_lastBlockNumber","_inflight","coinInfos","p2pkh","p2sh","ilk","bytes32ify","base58Encode","matcherIpfs","matchers","_parseString","_parseBytes","getIpfsLink","link","numPad","padded","bytesPad","encodeBytes","Resolver","resolvedAddress","formatter","_this5","_supportsEip2544","selector","parameters","_callee6","ccipReadEnabled","supportsWildcard","_callee7","_context7","_fetch","coinType","hexBytes","coinInfo","_callee8","_context8","callAddress","_fetchBytes","_getAddress","_callee9","linkage","avatar","_i6","scheme","owner","tokenId","tokenOwner","balance","metadataUrl","metadata","imageUrl","_context9","content","getText","_resolvedAddress","t3","t4","t5","t6","t7","image","t8","_callee10","ipfs","ipns","_length7","swarm","skynet","urlSafe","_context10","_callee11","keyBytes","_context11","defaultFormatter","nextPollId","BaseProvider","_Provider","_super2","_this6","_events","_emitted","disableCcipRead","getFormatter","_assertThisInitialized","anyNetwork","detectNetwork","_networkPromise","_ready","knownNetwork","emit","_maxInternalBlockNumber","_maxFilterBlockRange","_pollingInterval","_fastQueryDate","_callee12","_context12","_network","_this7","NETWORK_ERROR","event","calldata","urls","_callee13","sender","errorMessages","_i7","errorMessage","_context13","maxAge","_callee14","internalBlockNumber","reqTime","checkInternalBlockNumber","_this8","_context14","_internalBlockNumber","respTime","perform","networkError","getNetwork","_ref7","_setFastBlockNumber","_callee15","pollId","runners","_i8","_this9","_context15","_getInternalBlockNumber","pollingInterval","previousBlockNumber","eventBlockNumber","runner","getTransactionReceipt","minFromBlock","polling","_callee16","_context16","_callee17","currentNetwork","_context17","_fastBlockNumber","_fastBlockNumberPromise","detectedNetwork","_this10","_poller","_this11","setInterval","_bootstrapPoll","clearInterval","_this12","_this13","now","getBlockNumber","_callee18","_context18","_waitForTransaction","replaceable","_callee21","_this14","_context21","cancelFuncs","alreadyDone","minedHandler","removeListener","lastBlockNumber","startBlock","scannedBlock","replaceHandler","_callee20","_this15","_context20","getTransactionCount","_callee19","mined","ti","_receipt","_context19","getTransaction","getBlockWithTransactions","waitForTransaction","cancelled","replacement","_wrapTransaction","unref","_callee22","_context22","_callee23","_context23","addressOrName","_callee24","_context24","_getBlockTag","_callee25","_context25","_callee26","_context26","_callee27","_context27","_this16","expectedHash","returnedHash","confirms","_callee28","_context28","signedTransaction","_callee29","hexTx","_context29","_callee30","_this17","_context30","_callee31","_this18","_context31","_callee32","txSender","urlsOffset","urlsLength","urlsData","callbackSelector","ccipResult","_context32","redirects","ccipReadFetch","_call","_callee33","resolved","_context33","_getTransactionRequest","_callee34","_context34","_callee35","_context35","blockHashOrBlockTag","includeTransactions","_callee37","_this19","_context37","_callee36","_blockNumber","_i9","blockWithTxs","_this20","_context36","_getBlock","_callee39","_this21","_context39","_callee38","_context38","_callee41","_this22","_context41","_callee40","_context40","_callee42","_context42","_getFilter","_callee43","_context43","_callee44","_context44","_callee45","currentName","resolver","_context45","_getResolver","_callee46","addrData","_context46","_callee47","_context47","getResolver","_callee48","resolverAddr","_context48","nameOrAddress","_callee49","resolverAddress","_avatar","_context49","getAvatar","NOT_IMPLEMENTED","pollable","_startEvent","_addEventListener","_this23","_len4","_key9","stopped","eventTag","_stopEvent","_this24","removeAllListeners","_this25","standard","defaultProvider","__awaiter$6","logger$g","allowedTransactionKeys","forwardErrors","Signer","_callee50","_context50","_checkProvider","getBalance","_callee51","_context51","_callee52","_context52","checkTransaction","estimateGas","_callee53","_context53","_callee54","signedTx","_context54","signTransaction","sendTransaction","_callee55","_context55","_callee56","_context56","_callee57","_context57","getFeeData","_callee58","_context58","_callee60","hasEip1559","feeData","_this26","_context60","_callee59","_context59","getChainId","_isSigner","__awaiter$7","logger$h","errorGas","spelunk","requireData","checkError","responseText","getResult","getLowerCase","_constructorGuard$1","JsonRpcSigner","_Signer","_super3","addressOrIndex","_this27","UncheckedJsonRpcSigner","_address","_index","_this28","send","_this29","fromAddress","estimate","_callee61","_context61","_ref8","hexlifyTransaction","ACTION_REJECTED","_callee63","_this30","_context63","sendUncheckedTransaction","_callee62","_context62","_callee64","_context64","messageData","_callee65","_context65","_callee66","populated","_this31","_context66","resolveNames","getPayload","_callee67","_context67","_JsonRpcSigner","_super4","_this32","allowedTransactionKeys$1","_BaseProvider","_super5","_this33","networkOrReady","_nextId","_eventLoopCache","_this34","_cache","_uncachedDetectNetwork","_callee68","_context68","connectUnchecked","_this35","_this36","jsonrpc","_callee69","_context69","prepareRequest","_startPending","_get","_getPrototypeOf","_pendingFilter","pendingFilter","filterId","hashes","seq","listenerCount","allowExtra","properties","allowed","useContract","getContract","signerOrProvider","RouterAbi","getPoolContract","PoolAbi","getTokenInfoContract","TokenInfoAbi","getUniV3FactoryContract","UniV3FactoryAbi","uniV3Factory","useListPool","_useConfigs","_useSwapHistory","updateSwapTxsHandle","cloneDeep","addMultiSwapData","useSwapHistory","initListPool","useCurrentPool","setChartTimeFocus","detectChangeType","updateCurrentPool","cPrice","setCurrentPool","setCandleChartIsLoading","useWalletBalance","_useCurrentPool","accFetchBalance","updateBalanceAndAllowances","fetchBalanceAndAllowance","getBalanceAndAllowance","_extends2","approveRouter","tokenAddress","_temp2","reactToastify","toast","success","title","_ref$title","_ref$message","_ref$hash","getState","className","rel","messageAndViewOnBsc","_temp","_poolAddress","setApprovalForAll","txRes","_routerAllowances","_contract","ERC20Abi","approve","_routerAllowances2","_error$data","_error$data2","_error$data2$message","_m$split$","_m","parseCallStaticError","Card","props","IconArrowLeft","height","viewBox","xmlns","fillRule","clipRule","CustomTokenIcon","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","SwapIcon","NoDataIcon","Button","ButtonGrey","ButtonExecute","Text","style","fontSize","fontWeight","TextGrey","TextBlue","Input","inputWrapProps","rest","_objectWithoutPropertiesLoose","_excluded","_useState","useState","isFocusing","setIsFocusing","onFocus","onBlur","suffix","SkeletonLoader","loading","_excluded$1","contentRef","useRef","_contentRef$current","clientHeight","ref","useHelper","convertNativeAddressToWrapAddress","_configs$addresses","_configs$addresses$na","_configs$addresses2","getTokenIconUrl","_convertNativeAddress","_convertNativeAddress2","TokenIcon","_excluded$2","isError","setIsError","useMemo","borderRadius","TokenSymbol","_tokens$baseToken$sym","_tokens$baseToken","startsWith","formatLocalisedCompactNumber","Intl","NumberFormat","compactDisplay","maximumSignificantDigits","formatWeiToDisplayNumber","displayDecimals","fixedNumber","utils$1","toFixed","formatBigNumberToFixed","defaultProps","borderWidth","background","Box","propsWithDefault","borderColor","TxFee","nativePrice","InfoRow","useTokenValue","useTokenPrice","getTokenValue","_tokenAddress","_amount","_decodeErc1155Address","_prices$pool$TOKEN_R","_prices$pool$TOKEN_R$","rX","sX","tokenPrice","parseSqrtX96","_prices$address","_tokenPrice","cutDecimal","barColors","PoolCreateInfo","pairAddr","setAmountIn","_useState2","barData","setBarData","_useState3","setRecipient","_useState4","visibleRecipient","setVisibleRecipient","inputTokenAddress","_poolGroups$pairAddr","oldLeverageData","_tokens$pool$TOKEN_R","bars","color","totalSize","xDisplay","maxTotalSize","leverage","bar","reserve","useGenerateLeverageData","onClick","_tokens$inputTokenAdd","placeholder","onChange","InfoRow$1","LeverageSlider","leverageData","Modal","minWidth","setVisible","visible","addEventListener","which","SelectTokenModal","memo","onSelectToken","setTokenAddress","_useListTokens","fetchTokenInfo","isAddress","getTokenInfo","prevProps","nextProps","isEqual","OracleConfigBox","setPower","setPairAddr","setPairInfo","setQuoteTokenIndex","windowTimeSuggest","_useState8","windowTime","setWindowTime","_useState9","setToken0","_useState10","setToken1","_useState11","fee","setFee","_useState12","visibleSelectTokenModal","setVisibleSelectTokenModal","_useState13","selectingToken","setSelectingToken","getPairAddress","fetchPairInfo","getPool","getPairInfo","formatTokenType","powerRounded","round","iniTokens","ChangeableConfigBox","setDailyFundingRate","App","chainIdRef","_useConfigs2","fetchPrice","getTokenPrices","useFetchTokenPrice","intervalId","isMatchWithPath","reactRouterDom","matchPath","pathname","exact","ToastContainer","autoClose","rtl","closeOnClick","draggable","theme","xStorageClient","_internal","SWRConfig","dedupingInterval","fallback","isNum","isNaN","isBool","isStr","isFn","parseClassName","isToastIdValid","toastId","canUseDom","document","canBeRendered","isValidElement","POSITION","TOP_LEFT","TOP_RIGHT","TOP_CENTER","BOTTOM_LEFT","BOTTOM_RIGHT","BOTTOM_CENTER","TYPE","SUCCESS","ERROR","DEFAULT","collapseToast","scrollHeight","requestAnimationFrame","minHeight","transition","margin","cssTransition","enter","exit","appendPosition","_ref$appendPosition","collapse","_ref$collapse","collapseDuration","_ref$collapseDuration","preventExitTransition","nodeRef","isIn","enterClassName","exitClassName","baseClassName","animationStep","onEntered","dispatchEvent","removeEventListener","onExited","useLayoutEffect","onEnter","onExit","eventManager","list","Map","emitQueue","cb","cancelEmit","timers","useToastContainer","forceUpdate","useReducer","toastIds","setToastIds","containerRef","toastToRender","isToastActive","instance","toastKey","displayedToast","queue","containerId","getToast","clearWaitingQueue","limit","removeToast","dequeueToast","_instance$queue$shift","appendToast","toastContent","toastProps","staleId","buildToast","delay","enableMultiContainer","updateId","isNotValid","closeToast","isNotAnUpdate","toastAutoClose","containerAutoClose","isLoading","icon","closeButton","toastClassName","bodyClassName","toastStyle","bodyStyle","pauseOnHover","pauseOnFocusLoss","draggablePercent","draggableDirection","progressClassName","progressStyle","hideProgressBar","progress","role","deleteToast","queueLen","freeSlot","toDequeue","onOpen","onClose","cloneElement","getToastToRender","toRender","collection","newestOnTop","targetTouches","clientX","clientY","useToast","isRunning","setIsRunning","setPreventExitTransition","toastRef","drag","removalDistance","canCloseOnClick","canDrag","boundingRect","didMove","syncProps","onDragStart","onDragMove","onDragEnd","getBoundingClientRect","nativeEvent","offsetWidth","offsetHeight","onDragTransitionEnd","_drag$boundingRect","top","bottom","pauseToast","playToast","transform","opacity","hasFocus","bindFocusEvents","eventHandlers","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","onMouseEnter","onMouseLeave","CloseButton","ariaLabel","_ref$ariaLabel","stopPropagation","ProgressBar","hide","userStyle","controlledProgress","animationDuration","animationPlayState","defaultClassName","_cx","classNames","animationEvent","_animationEvent","Svg","Icons","spinner","Toast","_useToast","Transition","cssClasses","isProgressControlled","maybeIcon","iconProps","Icon","_cx2","renderCloseButton","Bounce","Slide","Zoom","Flip","_useToastContainer","getClassName","toastList","containerStyle","pointerEvents","latestInstance","containerDomNode","containerConfig","containers","lazy","generateToastId","getToastId","dispatchToast","appendChild","render","mergeOptions","createToastByType","resetParams","baseParams","dismiss","dark","isActive","container","oldOptions","oldContent","nextOptions","configure","containerInstance","removeChild"],"sourceRoot":""}